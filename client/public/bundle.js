/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/itemPresets.scss":
/*!******************************!*\
  !*** ./src/itemPresets.scss ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvaXRlbVByZXNldHMuc2Nzcy5qcyIsIm1hcHBpbmdzIjoiO0FBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jb21pY3MtZWRpdG9yLy4vc3JjL2l0ZW1QcmVzZXRzLnNjc3M/MTk2MSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cbmV4cG9ydCB7fTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/itemPresets.scss\n");

/***/ }),

/***/ "./src/HTMLComponents/flexBox/flexBox.module.scss":
/*!********************************************************!*\
  !*** ./src/HTMLComponents/flexBox/flexBox.module.scss ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n// extracted by mini-css-extract-plugin\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\"flexBox\":\"src-HTMLComponents-flexBox-flexBox-module__flexBox--u2rU1\"});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvSFRNTENvbXBvbmVudHMvZmxleEJveC9mbGV4Qm94Lm1vZHVsZS5zY3NzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBLGlFQUFlLENBQUMsc0VBQXNFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY29taWNzLWVkaXRvci8uL3NyYy9IVE1MQ29tcG9uZW50cy9mbGV4Qm94L2ZsZXhCb3gubW9kdWxlLnNjc3M/NDFhMiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cbmV4cG9ydCBkZWZhdWx0IHtcImZsZXhCb3hcIjpcInNyYy1IVE1MQ29tcG9uZW50cy1mbGV4Qm94LWZsZXhCb3gtbW9kdWxlX19mbGV4Qm94LS11MnJVMVwifTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/HTMLComponents/flexBox/flexBox.module.scss\n");

/***/ }),

/***/ "./src/HTMLComponents/menu/menu.module.scss":
/*!**************************************************!*\
  !*** ./src/HTMLComponents/menu/menu.module.scss ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n// extracted by mini-css-extract-plugin\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\"hidden\":\"src-HTMLComponents-menu-menu-module__hidden--Et2k3\"});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvSFRNTENvbXBvbmVudHMvbWVudS9tZW51Lm1vZHVsZS5zY3NzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBLGlFQUFlLENBQUMsOERBQThEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY29taWNzLWVkaXRvci8uL3NyYy9IVE1MQ29tcG9uZW50cy9tZW51L21lbnUubW9kdWxlLnNjc3M/ODg5NSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cbmV4cG9ydCBkZWZhdWx0IHtcImhpZGRlblwiOlwic3JjLUhUTUxDb21wb25lbnRzLW1lbnUtbWVudS1tb2R1bGVfX2hpZGRlbi0tRXQyazNcIn07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/HTMLComponents/menu/menu.module.scss\n");

/***/ }),

/***/ "./src/editor/editor.module.scss":
/*!***************************************!*\
  !*** ./src/editor/editor.module.scss ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n// extracted by mini-css-extract-plugin\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\"moveBox\":\"src-editor-editor-module__moveBox--sjLHR\",\"focus\":\"src-editor-editor-module__focus--R6iee\"});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZWRpdG9yL2VkaXRvci5tb2R1bGUuc2Nzcy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQSxpRUFBZSxDQUFDLHNHQUFzRyIsInNvdXJjZXMiOlsid2VicGFjazovL2NvbWljcy1lZGl0b3IvLi9zcmMvZWRpdG9yL2VkaXRvci5tb2R1bGUuc2Nzcz8yMWY1Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IGRlZmF1bHQge1wibW92ZUJveFwiOlwic3JjLWVkaXRvci1lZGl0b3ItbW9kdWxlX19tb3ZlQm94LS1zakxIUlwiLFwiZm9jdXNcIjpcInNyYy1lZGl0b3ItZWRpdG9yLW1vZHVsZV9fZm9jdXMtLVI2aWVlXCJ9OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/editor/editor.module.scss\n");

/***/ }),

/***/ "./src/editor/editorComponents/item/flexBoxItem/flexBoxItem.module.scss":
/*!******************************************************************************!*\
  !*** ./src/editor/editorComponents/item/flexBoxItem/flexBoxItem.module.scss ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n// extracted by mini-css-extract-plugin\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\"boxItem_Y_1\":\"src-editor-editorComponents-item-flexBoxItem-flexBoxItem-module__boxItem_Y_1--TWmmV\",\"BIEmpty\":\"src-editor-editorComponents-item-flexBoxItem-flexBoxItem-module__BIEmpty--zWRud\"});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZWRpdG9yL2VkaXRvckNvbXBvbmVudHMvaXRlbS9mbGV4Qm94SXRlbS9mbGV4Qm94SXRlbS5tb2R1bGUuc2Nzcy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQSxpRUFBZSxDQUFDLGdNQUFnTSIsInNvdXJjZXMiOlsid2VicGFjazovL2NvbWljcy1lZGl0b3IvLi9zcmMvZWRpdG9yL2VkaXRvckNvbXBvbmVudHMvaXRlbS9mbGV4Qm94SXRlbS9mbGV4Qm94SXRlbS5tb2R1bGUuc2Nzcz8wNmJkIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IGRlZmF1bHQge1wiYm94SXRlbV9ZXzFcIjpcInNyYy1lZGl0b3ItZWRpdG9yQ29tcG9uZW50cy1pdGVtLWZsZXhCb3hJdGVtLWZsZXhCb3hJdGVtLW1vZHVsZV9fYm94SXRlbV9ZXzEtLVRXbW1WXCIsXCJCSUVtcHR5XCI6XCJzcmMtZWRpdG9yLWVkaXRvckNvbXBvbmVudHMtaXRlbS1mbGV4Qm94SXRlbS1mbGV4Qm94SXRlbS1tb2R1bGVfX0JJRW1wdHktLXpXUnVkXCJ9OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/editor/editorComponents/item/flexBoxItem/flexBoxItem.module.scss\n");

/***/ }),

/***/ "./src/editor/editorComponents/item/item.module.scss":
/*!***********************************************************!*\
  !*** ./src/editor/editorComponents/item/item.module.scss ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n// extracted by mini-css-extract-plugin\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZWRpdG9yL2VkaXRvckNvbXBvbmVudHMvaXRlbS9pdGVtLm1vZHVsZS5zY3NzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBLGlFQUFlLEVBQUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jb21pY3MtZWRpdG9yLy4vc3JjL2VkaXRvci9lZGl0b3JDb21wb25lbnRzL2l0ZW0vaXRlbS5tb2R1bGUuc2Nzcz9jM2IwIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IGRlZmF1bHQge307Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/editor/editorComponents/item/item.module.scss\n");

/***/ }),

/***/ "./src/editor/editorComponents/item/itemMenu/itemMenu.module.scss":
/*!************************************************************************!*\
  !*** ./src/editor/editorComponents/item/itemMenu/itemMenu.module.scss ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n// extracted by mini-css-extract-plugin\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\"itemMenu\":\"src-editor-editorComponents-item-itemMenu-itemMenu-module__itemMenu--DzXat\",\"x_right_subMenu\":\"src-editor-editorComponents-item-itemMenu-itemMenu-module__x_right_subMenu--ktco0\",\"x_left_subMenu\":\"src-editor-editorComponents-item-itemMenu-itemMenu-module__x_left_subMenu--ZuMsN\",\"y_up_subMenu\":\"src-editor-editorComponents-item-itemMenu-itemMenu-module__y_up_subMenu--mUOrh\",\"y_down_subMenu\":\"src-editor-editorComponents-item-itemMenu-itemMenu-module__y_down_subMenu--W3RhZ\",\"subMenu\":\"src-editor-editorComponents-item-itemMenu-itemMenu-module__subMenu--CQnGm\",\"titleBoxRow\":\"src-editor-editorComponents-item-itemMenu-itemMenu-module__titleBoxRow--ujmUs\",\"titleBoxCol\":\"src-editor-editorComponents-item-itemMenu-itemMenu-module__titleBoxCol--gPj_p\",\"hide\":\"src-editor-editorComponents-item-itemMenu-itemMenu-module__hide--tYQYV\",\"hasNav\":\"src-editor-editorComponents-item-itemMenu-itemMenu-module__hasNav--j83FD\",\"hasNavMove\":\"src-editor-editorComponents-item-itemMenu-itemMenu-module__hasNavMove--c8O5R\"});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZWRpdG9yL2VkaXRvckNvbXBvbmVudHMvaXRlbS9pdGVtTWVudS9pdGVtTWVudS5tb2R1bGUuc2Nzcy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQSxpRUFBZSxDQUFDLHcvQkFBdy9CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY29taWNzLWVkaXRvci8uL3NyYy9lZGl0b3IvZWRpdG9yQ29tcG9uZW50cy9pdGVtL2l0ZW1NZW51L2l0ZW1NZW51Lm1vZHVsZS5zY3NzP2I2MzciXSwic291cmNlc0NvbnRlbnQiOlsiLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG5leHBvcnQgZGVmYXVsdCB7XCJpdGVtTWVudVwiOlwic3JjLWVkaXRvci1lZGl0b3JDb21wb25lbnRzLWl0ZW0taXRlbU1lbnUtaXRlbU1lbnUtbW9kdWxlX19pdGVtTWVudS0tRHpYYXRcIixcInhfcmlnaHRfc3ViTWVudVwiOlwic3JjLWVkaXRvci1lZGl0b3JDb21wb25lbnRzLWl0ZW0taXRlbU1lbnUtaXRlbU1lbnUtbW9kdWxlX194X3JpZ2h0X3N1Yk1lbnUtLWt0Y28wXCIsXCJ4X2xlZnRfc3ViTWVudVwiOlwic3JjLWVkaXRvci1lZGl0b3JDb21wb25lbnRzLWl0ZW0taXRlbU1lbnUtaXRlbU1lbnUtbW9kdWxlX194X2xlZnRfc3ViTWVudS0tWnVNc05cIixcInlfdXBfc3ViTWVudVwiOlwic3JjLWVkaXRvci1lZGl0b3JDb21wb25lbnRzLWl0ZW0taXRlbU1lbnUtaXRlbU1lbnUtbW9kdWxlX195X3VwX3N1Yk1lbnUtLW1VT3JoXCIsXCJ5X2Rvd25fc3ViTWVudVwiOlwic3JjLWVkaXRvci1lZGl0b3JDb21wb25lbnRzLWl0ZW0taXRlbU1lbnUtaXRlbU1lbnUtbW9kdWxlX195X2Rvd25fc3ViTWVudS0tVzNSaFpcIixcInN1Yk1lbnVcIjpcInNyYy1lZGl0b3ItZWRpdG9yQ29tcG9uZW50cy1pdGVtLWl0ZW1NZW51LWl0ZW1NZW51LW1vZHVsZV9fc3ViTWVudS0tQ1FuR21cIixcInRpdGxlQm94Um93XCI6XCJzcmMtZWRpdG9yLWVkaXRvckNvbXBvbmVudHMtaXRlbS1pdGVtTWVudS1pdGVtTWVudS1tb2R1bGVfX3RpdGxlQm94Um93LS11am1Vc1wiLFwidGl0bGVCb3hDb2xcIjpcInNyYy1lZGl0b3ItZWRpdG9yQ29tcG9uZW50cy1pdGVtLWl0ZW1NZW51LWl0ZW1NZW51LW1vZHVsZV9fdGl0bGVCb3hDb2wtLWdQal9wXCIsXCJoaWRlXCI6XCJzcmMtZWRpdG9yLWVkaXRvckNvbXBvbmVudHMtaXRlbS1pdGVtTWVudS1pdGVtTWVudS1tb2R1bGVfX2hpZGUtLXRZUVlWXCIsXCJoYXNOYXZcIjpcInNyYy1lZGl0b3ItZWRpdG9yQ29tcG9uZW50cy1pdGVtLWl0ZW1NZW51LWl0ZW1NZW51LW1vZHVsZV9faGFzTmF2LS1qODNGRFwiLFwiaGFzTmF2TW92ZVwiOlwic3JjLWVkaXRvci1lZGl0b3JDb21wb25lbnRzLWl0ZW0taXRlbU1lbnUtaXRlbU1lbnUtbW9kdWxlX19oYXNOYXZNb3ZlLS1jOE81UlwifTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/editor/editorComponents/item/itemMenu/itemMenu.module.scss\n");

/***/ }),

/***/ "./src/HTMLComponents/flexBox/Flex.ts":
/*!********************************************!*\
  !*** ./src/HTMLComponents/flexBox/Flex.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Flex\": () => (/* binding */ Flex)\n/* harmony export */ });\n/* harmony import */ var _common_AtributesToElement__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../common/AtributesToElement */ \"./src/common/AtributesToElement.ts\");\n/* harmony import */ var _common_StyleToElement__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../common/StyleToElement */ \"./src/common/StyleToElement.ts\");\n/* harmony import */ var _flexBox_module_scss__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./flexBox.module.scss */ \"./src/HTMLComponents/flexBox/flexBox.module.scss\");\n\r\n\r\n\r\nclass Flex {\r\n    constructor() {\r\n        /**Common flex container css */\r\n        /*  private containerCss = {\r\n             display:'flex',\r\n             'flex-wrap':'wrap',\r\n         }; */\r\n        this.containerAtr = {};\r\n    }\r\n    /**\r\n     * Nepoužito\r\n     * @returns Grid container\r\n     */\r\n    createFlex() {\r\n        const flexContainer = this.createFlexContainer();\r\n        return flexContainer;\r\n    }\r\n    /**\r\n     * Creates flex container with cssProperty:wrap and allows to add a optional css and html atributes\r\n     * @param styles\r\n     * @param atributes\r\n     * @returns {HTMLDivElement} flexContainer\r\n     */\r\n    createFlexContainer(containerAtr, inlStyl) {\r\n        const flexContainer = document.createElement('div');\r\n        //style and atributes for every flex container(flex object)\r\n        //optional style and atributes for each flex container(flex object)\r\n        if (inlStyl) {\r\n            (0,_common_StyleToElement__WEBPACK_IMPORTED_MODULE_1__.addInlineStyle)(flexContainer, _flexBox_module_scss__WEBPACK_IMPORTED_MODULE_2__[\"default\"]);\r\n        }\r\n        if (containerAtr) {\r\n            (0,_common_AtributesToElement__WEBPACK_IMPORTED_MODULE_0__.addAtributes)(flexContainer, containerAtr);\r\n        }\r\n        flexContainer.classList.add(_flexBox_module_scss__WEBPACK_IMPORTED_MODULE_2__[\"default\"].flexBox);\r\n        return flexContainer;\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvSFRNTENvbXBvbmVudHMvZmxleEJveC9GbGV4LnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBK0Q7QUFDRjtBQUNuQjtBQUVuQyxNQUFNLElBQUk7SUFBakI7UUFFSSwrQkFBK0I7UUFDaEM7OztjQUdNO1FBRUcsaUJBQVksR0FBRyxFQUFFLENBQUM7SUFxQzlCLENBQUM7SUFuQ0c7OztPQUdHO0lBQ0ksVUFBVTtRQUNiLE1BQU0sYUFBYSxHQUFHLElBQUksQ0FBQyxtQkFBbUIsRUFBRSxDQUFDO1FBRWpELE9BQU8sYUFBYSxDQUFDO0lBQ3pCLENBQUM7SUFFRDs7Ozs7T0FLRztJQUNJLG1CQUFtQixDQUFFLFlBQW9CLEVBQUUsT0FBZTtRQUM3RCxNQUFNLGFBQWEsR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBRXBELDJEQUEyRDtRQUUzRCxtRUFBbUU7UUFDbkUsSUFBSSxPQUFPLEVBQUM7WUFDUixzRUFBYyxDQUFDLGFBQWEsRUFBQyw0REFBTSxDQUFDLENBQUM7U0FDeEM7UUFDRCxJQUFHLFlBQVksRUFBQztZQUNaLHdFQUFZLENBQUMsYUFBYSxFQUFFLFlBQVksQ0FBQyxDQUFDO1NBQzdDO1FBQ0QsYUFBYSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsb0VBQWMsQ0FBQyxDQUFDO1FBRzVDLE9BQU8sYUFBYSxDQUFDO0lBQ3pCLENBQUM7Q0FHSiIsInNvdXJjZXMiOlsid2VicGFjazovL2NvbWljcy1lZGl0b3IvLi9zcmMvSFRNTENvbXBvbmVudHMvZmxleEJveC9GbGV4LnRzPzU1NjkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYWRkQXRyaWJ1dGVzIH0gZnJvbSBcIi4uLy4uL2NvbW1vbi9BdHJpYnV0ZXNUb0VsZW1lbnRcIjtcclxuaW1wb3J0IHsgYWRkSW5saW5lU3R5bGUgfSBmcm9tIFwiLi4vLi4vY29tbW9uL1N0eWxlVG9FbGVtZW50XCI7XHJcbmltcG9ydCBzdHlsZXMgZnJvbSAnLi9mbGV4Qm94Lm1vZHVsZS5zY3NzJ1xyXG5cclxuZXhwb3J0IGNsYXNzIEZsZXgge1xyXG4gICBcclxuICAgIC8qKkNvbW1vbiBmbGV4IGNvbnRhaW5lciBjc3MgKi9cclxuICAgLyogIHByaXZhdGUgY29udGFpbmVyQ3NzID0ge1xyXG4gICAgICAgIGRpc3BsYXk6J2ZsZXgnLFxyXG4gICAgICAgICdmbGV4LXdyYXAnOid3cmFwJyxcclxuICAgIH07ICovXHJcblxyXG4gICAgcHJpdmF0ZSBjb250YWluZXJBdHIgPSB7fTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIE5lcG91xb5pdG9cclxuICAgICAqIEByZXR1cm5zIEdyaWQgY29udGFpbmVyXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBjcmVhdGVGbGV4KCl7XHJcbiAgICAgICAgY29uc3QgZmxleENvbnRhaW5lciA9IHRoaXMuY3JlYXRlRmxleENvbnRhaW5lcigpO1xyXG5cclxuICAgICAgICByZXR1cm4gZmxleENvbnRhaW5lcjtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZXMgZmxleCBjb250YWluZXIgd2l0aCBjc3NQcm9wZXJ0eTp3cmFwIGFuZCBhbGxvd3MgdG8gYWRkIGEgb3B0aW9uYWwgY3NzIGFuZCBodG1sIGF0cmlidXRlc1xyXG4gICAgICogQHBhcmFtIHN0eWxlcyBcclxuICAgICAqIEBwYXJhbSBhdHJpYnV0ZXMgXHJcbiAgICAgKiBAcmV0dXJucyB7SFRNTERpdkVsZW1lbnR9IGZsZXhDb250YWluZXJcclxuICAgICAqL1xyXG4gICAgcHVibGljIGNyZWF0ZUZsZXhDb250YWluZXIoIGNvbnRhaW5lckF0cj86b2JqZWN0LCBpbmxTdHlsPzpvYmplY3QpOkhUTUxEaXZFbGVtZW50e1xyXG4gICAgICAgIGNvbnN0IGZsZXhDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHJcbiAgICAgICAgLy9zdHlsZSBhbmQgYXRyaWJ1dGVzIGZvciBldmVyeSBmbGV4IGNvbnRhaW5lcihmbGV4IG9iamVjdClcclxuICAgICAgICBcclxuICAgICAgICAvL29wdGlvbmFsIHN0eWxlIGFuZCBhdHJpYnV0ZXMgZm9yIGVhY2ggZmxleCBjb250YWluZXIoZmxleCBvYmplY3QpXHJcbiAgICAgICAgaWYgKGlubFN0eWwpe1xyXG4gICAgICAgICAgICBhZGRJbmxpbmVTdHlsZShmbGV4Q29udGFpbmVyLHN0eWxlcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKGNvbnRhaW5lckF0cil7XHJcbiAgICAgICAgICAgIGFkZEF0cmlidXRlcyhmbGV4Q29udGFpbmVyLCBjb250YWluZXJBdHIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmbGV4Q29udGFpbmVyLmNsYXNzTGlzdC5hZGQoc3R5bGVzLmZsZXhCb3gpO1xyXG4gICAgICAgIFxyXG5cclxuICAgICAgICByZXR1cm4gZmxleENvbnRhaW5lcjtcclxuICAgIH1cclxuXHJcblxyXG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/HTMLComponents/flexBox/Flex.ts\n");

/***/ }),

/***/ "./src/HTMLComponents/input/Input.ts":
/*!*******************************************!*\
  !*** ./src/HTMLComponents/input/Input.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Input\": () => (/* binding */ Input)\n/* harmony export */ });\nclass Input {\r\n    constructor() {\r\n        this.atributes = {\r\n            type: 'file',\r\n            id: 'image_input',\r\n            accept: 'image/jpeg, image/png'\r\n        };\r\n        this.styles = {\r\n            display: 'block'\r\n        };\r\n    }\r\n    /* public addInput():HTMLInputElement{\r\n        const input = this.createInputElem(this.styles, this.atributes);\r\n\r\n        return input;\r\n    } */\r\n    crtBoxItemForm(inputObj, formId, submitId, submitText, commonClass) {\r\n        const formElm = document.createElement('form');\r\n        formElm.setAttribute('id', formId);\r\n        if (commonClass) {\r\n            formElm.classList.add(commonClass);\r\n        }\r\n        const radioBttns = this.crtRadioBttn(inputObj, commonClass);\r\n        let div = document.createElement('div');\r\n        div.append(radioBttns); //tady\r\n        formElm.append(div);\r\n        const submit = document.createElement('input');\r\n        submit.setAttribute('id', submitId);\r\n        submit.setAttribute('type', 'submit');\r\n        submit.setAttribute('value', submitText);\r\n        formElm.append(submit);\r\n        return formElm;\r\n    }\r\n    crtForm(formId, submitId, submitText, radioBttns, commonClass) {\r\n        const formElm = document.createElement('form');\r\n        formElm.setAttribute('id', formId);\r\n        if (commonClass) {\r\n            formElm.classList.add(commonClass);\r\n        }\r\n        let div = document.createElement('div');\r\n        div.append(radioBttns);\r\n        formElm.append(div);\r\n        const submit = document.createElement('input');\r\n        submit.setAttribute('id', submitId);\r\n        submit.setAttribute('type', 'submit');\r\n        submit.setAttribute('value', submitText);\r\n        formElm.append(submit);\r\n        return formElm;\r\n    }\r\n    crtRadioBttn(inputObj, commonClass) {\r\n        const docFragment = document.createDocumentFragment();\r\n        inputObj.forEach(input => {\r\n            const inputElm = document.createElement('input');\r\n            inputElm.setAttribute('id', input.id);\r\n            inputElm.setAttribute('type', input.type);\r\n            inputElm.setAttribute('name', input.name);\r\n            inputElm.setAttribute('value', input.value);\r\n            if (input.checked) {\r\n                inputElm.setAttribute('checked', input.checked);\r\n            }\r\n            const labelElm = document.createElement('label');\r\n            labelElm.setAttribute('for', input.id);\r\n            labelElm.innerText = input.text;\r\n            const div = document.createElement('div');\r\n            if (commonClass) {\r\n                inputElm.classList.add(commonClass);\r\n                labelElm.classList.add(commonClass);\r\n                div.classList.add(commonClass);\r\n            }\r\n            //div.classList.add();\r\n            div.append(inputElm);\r\n            div.append(labelElm);\r\n            docFragment.append(div);\r\n        });\r\n        return docFragment;\r\n    }\r\n}\r\n/*\r\n        let newImage = document.createElement('img');\r\n                newImage.setAttribute('src',`${uploaded_image}`);\r\n                let newDiv = document.createElement('div');\r\n                let number = Math.random();\r\n                console.log(number)\r\n                newImage.setAttribute('id',number.toString());\r\n                //newDiv.appendChild(newImage);\r\n                newImage.classList.add('item');\r\n                let item = document.getElementsByClassName('material');\r\n                item[0].appendChild(newImage);\r\n                 */\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RyxDQUFDLENBQUM7UUFDNUIsQ0FBQyxDQUFDLENBQUM7UUFHSCxPQUFPLFdBQVcsQ0FBQztJQUN2QixDQUFDO0NBRUo7QUFFRDs7Ozs7Ozs7Ozs7bUJBV21CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY29taWNzLWVkaXRvci8uL3NyYy9IVE1MQ29tcG9uZW50cy9pbnB1dC9JbnB1dC50cz8wNzcxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGFkZEF0cmlidXRlcyB9IGZyb20gXCIuLi8uLi9jb21tb24vQXRyaWJ1dGVzVG9FbGVtZW50XCI7XHJcbmltcG9ydCB7IGV2ZW50QW5kQ2FsbCB9IGZyb20gXCIuLi8uLi9jb21tb24vRXZlbnRMaXN0ZW5lcnNcIjtcclxuaW1wb3J0IHsgYWRkSW5saW5lU3R5bGUgfSBmcm9tIFwiLi4vLi4vY29tbW9uL1N0eWxlVG9FbGVtZW50XCI7XHJcbmltcG9ydCB7IEl0ZW0gfSBmcm9tICcuLi8uLi9lZGl0b3IvZWRpdG9yQ29tcG9uZW50cy9pdGVtL0l0ZW0nO1xyXG5pbXBvcnQgeyBMb2NTdG9yYWdlIH0gZnJvbSAnLi4vLi4vY29tbW9uL2xvY2FsU3RvcmFnZS9Mb2NTdG9yYWdlJztcclxuLy9pbnRlcmZhY2VcclxuaW1wb3J0IHsgaXRlbSwgaXRlbXMgfSBmcm9tIFwiLi4vLi4vY29tbW9uL2xvY2FsU3RvcmFnZS9zdG9yYWdlSW50ZXJmYWNlc1wiO1xyXG5pbXBvcnQgeyByYWRpb0J0dG4gfSBmcm9tIFwiLi9pbnB1dEludHJmY1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIElucHV0e1xyXG5cclxuICAgIHByaXZhdGUgYXRyaWJ1dGVzOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZzsgfTtcclxuICAgIHByaXZhdGUgc3R5bGVzOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZzsgfTtcclxuICBcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIFxyXG5cclxuICAgICAgICB0aGlzLmF0cmlidXRlcyA9IHtcclxuICAgICAgICAgICAgdHlwZTonZmlsZScsXHJcbiAgICAgICAgICAgIGlkOidpbWFnZV9pbnB1dCcsXHJcbiAgICAgICAgICAgIGFjY2VwdDogJ2ltYWdlL2pwZWcsIGltYWdlL3BuZydcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLnN0eWxlcyA9IHtcclxuICAgICAgICAgICAgZGlzcGxheTonYmxvY2snXHJcbiAgICAgICAgfTtcclxuXHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8qIHB1YmxpYyBhZGRJbnB1dCgpOkhUTUxJbnB1dEVsZW1lbnR7XHJcbiAgICAgICAgY29uc3QgaW5wdXQgPSB0aGlzLmNyZWF0ZUlucHV0RWxlbSh0aGlzLnN0eWxlcywgdGhpcy5hdHJpYnV0ZXMpO1xyXG5cclxuICAgICAgICByZXR1cm4gaW5wdXQ7XHJcbiAgICB9ICovXHJcblxyXG5cclxuICAgIHB1YmxpYyBjcnRCb3hJdGVtRm9ybSggaW5wdXRPYmo6cmFkaW9CdHRuW10sIGZvcm1JZDpzdHJpbmcsIHN1Ym1pdElkOnN0cmluZywgc3VibWl0VGV4dDpzdHJpbmcsIGNvbW1vbkNsYXNzPzpzdHJpbmcgKSB7XHJcbiAgICAgICAgY29uc3QgZm9ybUVsbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2Zvcm0nKTtcclxuICAgICAgICBmb3JtRWxtLnNldEF0dHJpYnV0ZSgnaWQnLCBmb3JtSWQpO1xyXG4gICAgICAgIGlmKGNvbW1vbkNsYXNzKXtcclxuICAgICAgICAgICAgZm9ybUVsbS5jbGFzc0xpc3QuYWRkKGNvbW1vbkNsYXNzKVxyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCByYWRpb0J0dG5zID0gdGhpcy5jcnRSYWRpb0J0dG4oaW5wdXRPYmosIGNvbW1vbkNsYXNzKTtcclxuICAgICAgICBsZXQgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcclxuICAgICAgICBkaXYuYXBwZW5kKHJhZGlvQnR0bnMpLy90YWR5XHJcbiAgICAgICAgZm9ybUVsbS5hcHBlbmQoZGl2KTtcclxuXHJcbiAgICAgICAgY29uc3Qgc3VibWl0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcclxuICAgICAgICBzdWJtaXQuc2V0QXR0cmlidXRlKCdpZCcsIHN1Ym1pdElkKTtcclxuXHJcbiAgICAgICAgc3VibWl0LnNldEF0dHJpYnV0ZSgndHlwZScsICdzdWJtaXQnKTtcclxuICAgICAgICBzdWJtaXQuc2V0QXR0cmlidXRlKCd2YWx1ZScsIHN1Ym1pdFRleHQpO1xyXG4gICAgICAgIGZvcm1FbG0uYXBwZW5kKHN1Ym1pdCk7XHJcblxyXG4gICAgICAgIHJldHVybiBmb3JtRWxtO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjcnRGb3JtKCBmb3JtSWQ6c3RyaW5nLCBzdWJtaXRJZDpzdHJpbmcsIHN1Ym1pdFRleHQ6c3RyaW5nLCByYWRpb0J0dG5zOkRvY3VtZW50RnJhZ21lbnQsIGNvbW1vbkNsYXNzPzpzdHJpbmcgKSB7XHJcbiAgICAgICAgY29uc3QgZm9ybUVsbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2Zvcm0nKTtcclxuICAgICAgICBmb3JtRWxtLnNldEF0dHJpYnV0ZSgnaWQnLCBmb3JtSWQpO1xyXG4gICAgICAgIGlmKGNvbW1vbkNsYXNzKXtcclxuICAgICAgICAgICAgZm9ybUVsbS5jbGFzc0xpc3QuYWRkKGNvbW1vbkNsYXNzKVxyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgZGl2LmFwcGVuZChyYWRpb0J0dG5zKTtcclxuICAgICAgICBmb3JtRWxtLmFwcGVuZChkaXYpO1xyXG5cclxuICAgICAgICBjb25zdCBzdWJtaXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xyXG4gICAgICAgIHN1Ym1pdC5zZXRBdHRyaWJ1dGUoJ2lkJywgc3VibWl0SWQpO1xyXG5cclxuICAgICAgICBzdWJtaXQuc2V0QXR0cmlidXRlKCd0eXBlJywgJ3N1Ym1pdCcpO1xyXG4gICAgICAgIHN1Ym1pdC5zZXRBdHRyaWJ1dGUoJ3ZhbHVlJywgc3VibWl0VGV4dCk7XHJcbiAgICAgICAgZm9ybUVsbS5hcHBlbmQoc3VibWl0KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGZvcm1FbG07XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNydFJhZGlvQnR0bihpbnB1dE9iajpyYWRpb0J0dG5bXSwgY29tbW9uQ2xhc3M/OnN0cmluZyApIHtcclxuICAgICAgICBjb25zdCBkb2NGcmFnbWVudCA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcclxuICAgICAgICBpbnB1dE9iai5mb3JFYWNoKCBpbnB1dCA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGlucHV0RWxtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcclxuICAgICAgICAgICAgaW5wdXRFbG0uc2V0QXR0cmlidXRlKCdpZCcsIGlucHV0LmlkKTtcclxuICAgICAgICAgICAgaW5wdXRFbG0uc2V0QXR0cmlidXRlKCd0eXBlJywgaW5wdXQudHlwZSk7XHJcbiAgICAgICAgICAgIGlucHV0RWxtLnNldEF0dHJpYnV0ZSgnbmFtZScsIGlucHV0Lm5hbWUpO1xyXG4gICAgICAgICAgICBpbnB1dEVsbS5zZXRBdHRyaWJ1dGUoJ3ZhbHVlJywgaW5wdXQudmFsdWUpO1xyXG4gICAgICAgICAgICBpZiAoaW5wdXQuY2hlY2tlZCkge1xyXG4gICAgICAgICAgICAgICAgaW5wdXRFbG0uc2V0QXR0cmlidXRlKCdjaGVja2VkJywgaW5wdXQuY2hlY2tlZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGNvbnN0IGxhYmVsRWxtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcclxuICAgICAgICAgICAgbGFiZWxFbG0uc2V0QXR0cmlidXRlKCdmb3InLCBpbnB1dC5pZCk7XHJcbiAgICAgICAgICAgIGxhYmVsRWxtLmlubmVyVGV4dCA9IGlucHV0LnRleHQ7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChjb21tb25DbGFzcykge1xyXG4gICAgICAgICAgICAgICAgaW5wdXRFbG0uY2xhc3NMaXN0LmFkZChjb21tb25DbGFzcyk7XHJcbiAgICAgICAgICAgICAgICBsYWJlbEVsbS5jbGFzc0xpc3QuYWRkKGNvbW1vbkNsYXNzKTtcclxuICAgICAgICAgICAgICAgIGRpdi5jbGFzc0xpc3QuYWRkKGNvbW1vbkNsYXNzKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy9kaXYuY2xhc3NMaXN0LmFkZCgpO1xyXG4gICAgICAgICAgICBkaXYuYXBwZW5kKGlucHV0RWxtKTtcclxuICAgICAgICAgICAgZGl2LmFwcGVuZChsYWJlbEVsbSk7XHJcbiAgICAgICAgICAgIGRvY0ZyYWdtZW50LmFwcGVuZChkaXYpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIFxyXG4gICAgICAgIHJldHVybiBkb2NGcmFnbWVudDtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbi8qIFxyXG4gICAgICAgIGxldCBuZXdJbWFnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xyXG4gICAgICAgICAgICAgICAgbmV3SW1hZ2Uuc2V0QXR0cmlidXRlKCdzcmMnLGAke3VwbG9hZGVkX2ltYWdlfWApO1xyXG4gICAgICAgICAgICAgICAgbGV0IG5ld0RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICAgICAgICAgbGV0IG51bWJlciA9IE1hdGgucmFuZG9tKCk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhudW1iZXIpXHJcbiAgICAgICAgICAgICAgICBuZXdJbWFnZS5zZXRBdHRyaWJ1dGUoJ2lkJyxudW1iZXIudG9TdHJpbmcoKSk7XHJcbiAgICAgICAgICAgICAgICAvL25ld0Rpdi5hcHBlbmRDaGlsZChuZXdJbWFnZSk7XHJcbiAgICAgICAgICAgICAgICBuZXdJbWFnZS5jbGFzc0xpc3QuYWRkKCdpdGVtJyk7XHJcbiAgICAgICAgICAgICAgICBsZXQgaXRlbSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ21hdGVyaWFsJyk7XHJcbiAgICAgICAgICAgICAgICBpdGVtWzBdLmFwcGVuZENoaWxkKG5ld0ltYWdlKTtcclxuICAgICAgICAgICAgICAgICAqL1xyXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/HTMLComponents/input/Input.ts\n");

/***/ }),

/***/ "./src/HTMLComponents/menu/Menu.ts":
/*!*****************************************!*\
  !*** ./src/HTMLComponents/menu/Menu.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Menu\": () => (/* binding */ Menu)\n/* harmony export */ });\n/* harmony import */ var _menu_module_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./menu.module.scss */ \"./src/HTMLComponents/menu/menu.module.scss\");\n\r\nclass Menu {\r\n    constructor() {\r\n        this.navData = { id: 'itemMenu' };\r\n    }\r\n    crtTitleInDiv(titleText) {\r\n        const divBox = document.createElement('div');\r\n        const title = document.createElement('h4');\r\n        title.innerText = titleText;\r\n        divBox.append(title);\r\n        divBox.classList.add('doNotClose');\r\n        return divBox;\r\n    }\r\n    /**\r\n     * giveBttnsTitle\r\n     */\r\n    giveBttnsTitle(buttons, titleText, clas) {\r\n        const titleBox = this.crtTitleInDiv(titleText);\r\n        titleBox.append(buttons);\r\n        if (clas) {\r\n            titleBox.classList.add(clas);\r\n        }\r\n        return titleBox;\r\n    }\r\n    crtNavMenuA(anchData, navData) {\r\n        const ul = this.crtUlWA(anchData);\r\n        const nav = document.createElement('nav');\r\n        nav.setAttribute('id', navData.id);\r\n        nav.appendChild(ul);\r\n        return nav;\r\n    }\r\n    /**\r\n     * Creates and returns unordered list with anchor inside\r\n     * @param numberOfLi\r\n     * @param anchData\r\n     * @returns\r\n     */\r\n    crtUlWA(anchData) {\r\n        const ul = document.createElement('ul');\r\n        anchData.forEach(anch => {\r\n            const li = document.createElement('li');\r\n            const a = document.createElement('a');\r\n            a.setAttribute('id', anch.id);\r\n            a.innerText = anch.text;\r\n            li.appendChild(a);\r\n            ul.appendChild(li);\r\n        });\r\n        return ul;\r\n    }\r\n    crtNavMenuB(buttonData, navData, commonClass) {\r\n        const ul = this.crtUlWB(buttonData, commonClass);\r\n        const nav = document.createElement('nav');\r\n        nav.setAttribute('id', navData.id);\r\n        if (commonClass) {\r\n            nav.classList.add(commonClass);\r\n        }\r\n        nav.appendChild(ul);\r\n        return nav;\r\n    }\r\n    /**\r\n     * Creates and returns unordered list with button inside\r\n     * @param numberOfLi\r\n     * @param anchData\r\n     * @returns\r\n     */\r\n    crtUlWB(buttonData, commonClass) {\r\n        const ul = document.createElement('ul');\r\n        if (commonClass) {\r\n            ul.classList.add(commonClass);\r\n        }\r\n        buttonData.forEach(button => {\r\n            const li = document.createElement('li');\r\n            const newButton = document.createElement('button');\r\n            newButton.setAttribute('id', button.id);\r\n            newButton.setAttribute('type', button.type);\r\n            if (button.text)\r\n                newButton.innerText = button.text;\r\n            if (commonClass) {\r\n                ul.classList.add(commonClass);\r\n                li.classList.add(commonClass);\r\n            }\r\n            li.appendChild(newButton);\r\n            ul.appendChild(li);\r\n        });\r\n        return ul;\r\n    }\r\n    //this\r\n    crtNavMenuBI(buttonData, navData, subMenuClas, subMenuPosX, subMenuPosY, commonClass) {\r\n        const ul = this.crtUlWithBI(buttonData, subMenuClas, subMenuPosX, subMenuPosY, commonClass);\r\n        const div = document.createElement('div');\r\n        div.setAttribute('id', navData.id);\r\n        if (commonClass) {\r\n            div.classList.add(commonClass);\r\n        }\r\n        div.appendChild(ul);\r\n        return div;\r\n    }\r\n    crtMenuBI(buttonData, navData, subMenuClas, commonClass) {\r\n        const ul = this.crtUlWithBI(buttonData, subMenuClas, commonClass);\r\n        const div = document.createElement('div');\r\n        div.setAttribute('id', navData.id);\r\n        if (commonClass) {\r\n            div.classList.add(commonClass);\r\n        }\r\n        div.appendChild(ul);\r\n        return div;\r\n    }\r\n    /**\r\n     * Creates and returns unordered list with button or input inside\r\n     * @param buttonData\r\n     * @param commonClass\r\n     * @returns\r\n     */\r\n    crtUlWithBI(buttonData, subMenuClas, subMenuPosX, subMenuPosY, commonClass) {\r\n        const ul = document.createElement('ul');\r\n        if (commonClass) {\r\n            ul.classList.add(commonClass);\r\n        }\r\n        buttonData.forEach(button => {\r\n            const li = document.createElement('li');\r\n            li.setAttribute('id', button.id);\r\n            let newButton = {};\r\n            newButton = document.createElement('button');\r\n            newButton.setAttribute('id', button.id);\r\n            newButton.setAttribute('type', button.type);\r\n            newButton.innerText = button.text;\r\n            if (button.notClose) {\r\n                newButton.classList.add(button.notClose);\r\n            }\r\n            if (button.input) {\r\n                const input = button.input;\r\n                let newInput;\r\n                newInput = document.createElement('input');\r\n                newInput.setAttribute('id', input.id);\r\n                newInput.setAttribute('type', input.type);\r\n                newInput.setAttribute('accept', input.accept);\r\n                newInput.classList.add(_menu_module_scss__WEBPACK_IMPORTED_MODULE_0__[\"default\"].hidden);\r\n                newButton.append(newInput);\r\n            }\r\n            if (commonClass) {\r\n                ul.classList.add(commonClass);\r\n                li.classList.add(commonClass);\r\n            }\r\n            if (button.subMenu) {\r\n                let subUl = this.crtUlWithBI(button.subMenu, subMenuClas, commonClass);\r\n                if (subMenuClas) {\r\n                    subUl.classList.add(subMenuClas);\r\n                }\r\n                //position on axe x \r\n                if (subMenuPosX) {\r\n                    subUl.classList.add(subMenuPosX);\r\n                }\r\n                //position on axe y\r\n                if (subMenuPosY) {\r\n                    subUl.classList.add(subMenuPosY);\r\n                }\r\n                newButton.append(subUl);\r\n            }\r\n            li.appendChild(newButton);\r\n            ul.appendChild(li);\r\n        });\r\n        return ul;\r\n    }\r\n    /**\r\n     * Chtěl jsem nahradit neustálé vytváření menu nahrazením dat v již vytvořeném menu\r\n     * , ale ukázalo se, že to je moc práce za málo muziky\r\n     * @param itemMenuBttns\r\n     * @param buttonData\r\n     */\r\n    chngBttns(itemMenuBttns, buttonData) {\r\n        let i = 0;\r\n        buttonData.forEach(button => {\r\n            let bttnFromDOM = itemMenuBttns[i];\r\n            let input = itemMenuBttns[0].getElementsByTagName('input');\r\n            if (input[0] && button.input) {\r\n                if ((input[0].id === button.input.id)) {\r\n                }\r\n            }\r\n            if (bttnFromDOM.id === button.id) {\r\n                if (bttnFromDOM.type !== button.type) {\r\n                    itemMenuBttns[i].setAttribute('type', button.type);\r\n                }\r\n                if (bttnFromDOM.innerText !== button.text) {\r\n                    bttnFromDOM.innerText = button.text;\r\n                }\r\n            }\r\n        });\r\n    }\r\n    placeMenu(e, nav, styleItemMenu, xRight, xLeft, yUp, yDown) {\r\n        nav.classList.add(styleItemMenu);\r\n        //get menu width\r\n        nav.style.visibility = 'hidden';\r\n        nav.style.position = 'absolute';\r\n        document.body.append(nav);\r\n        let navWidth = nav.offsetWidth;\r\n        let navHeight = nav.offsetHeight;\r\n        console.log('navHeight', navHeight);\r\n        let navDOM = document.getElementById('itemMenu');\r\n        nav.remove();\r\n        nav.style.visibility = '';\r\n        nav.style.position = '';\r\n        const pageX = e.pageX;\r\n        const pageY = e.pageY;\r\n        let comics = document.getElementById('comics');\r\n        if (comics) {\r\n            let docWidth = document.documentElement.clientWidth;\r\n            let docHeight = document.documentElement.scrollHeight;\r\n            let viewportHeight = window.innerHeight;\r\n            let comicsWidth = comics.offsetWidth;\r\n            let spaceFromCursorToEdgeW = (docWidth - pageX);\r\n            //subMenu respond to X change\r\n            if (spaceFromCursorToEdgeW < navWidth * 2) {\r\n                if (xRight && xLeft) {\r\n                    let subMenuEL = nav.querySelectorAll(`.${xRight}`);\r\n                    for (let index = 0; index < subMenuEL.length; index++) {\r\n                        subMenuEL[index].classList.remove(xRight);\r\n                        subMenuEL[index].classList.add(xLeft);\r\n                    }\r\n                }\r\n            }\r\n            if (spaceFromCursorToEdgeW < navWidth) {\r\n                let moveNum = navWidth - spaceFromCursorToEdgeW;\r\n                nav.style.setProperty('left', `${pageX - moveNum}px`);\r\n            }\r\n            else {\r\n                nav.style.setProperty('left', `${pageX}px`);\r\n            }\r\n            let clientY = e.clientY;\r\n            let spaceFromCursorToEdgeHVP = (viewportHeight - clientY);\r\n            let spaceFromCursorToEdgeH = (docHeight - pageY);\r\n            //subMenu respond to Y change\r\n            if (navHeight > pageY) {\r\n                if (yUp && yDown) {\r\n                    let subMenuEL = nav.querySelectorAll(`.${yDown}`);\r\n                    for (let index = 0; index < subMenuEL.length; index++) {\r\n                        subMenuEL[index].classList.remove(yDown);\r\n                        subMenuEL[index].classList.add(yUp);\r\n                    }\r\n                }\r\n            }\r\n            if (spaceFromCursorToEdgeHVP < navHeight) {\r\n                let moveNum = navHeight - spaceFromCursorToEdgeHVP;\r\n                nav.style.setProperty('top', `${pageY - moveNum}px`);\r\n                //nav.style.position = 'fixed';\r\n            }\r\n            else {\r\n                nav.style.setProperty('top', `${pageY}px`);\r\n            }\r\n        }\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztxQkFDdkM7aUJBQ0g7YUFDTDtZQUNELElBQUksd0JBQXdCLEdBQUcsU0FBUyxFQUFFO2dCQUN0QyxJQUFJLE9BQU8sR0FBRyxTQUFTLEdBQUcsd0JBQXdCLENBQUM7Z0JBQ25ELEdBQUcsQ0FBQyxLQUFLLENBQUMsV0FBVyxDQUFDLEtBQUssRUFBRSxHQUFHLEtBQUssR0FBRyxPQUFPLElBQUksQ0FBQyxDQUFDO2dCQUNyRCwrQkFBK0I7YUFDbEM7aUJBQ0s7Z0JBQ0YsR0FBRyxDQUFDLEtBQUssQ0FBQyxXQUFXLENBQUMsS0FBSyxFQUFFLEdBQUcsS0FBSyxJQUFJLENBQUMsQ0FBQzthQUM5QztTQUVKO0lBQ0wsQ0FBQztDQUNKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY29taWNzLWVkaXRvci8uL3NyYy9IVE1MQ29tcG9uZW50cy9tZW51L01lbnUudHM/YjY4YSJdLCJzb3VyY2VzQ29udGVudCI6WyJcclxuaW1wb3J0IHsgYW5jaERhdGEsIGJ1dHRvbkRhdGEgfSBmcm9tICcuL21lbnVJbnRyZmMnO1xyXG5pbXBvcnQgc3R5bGVzIGZyb20gJy4vbWVudS5tb2R1bGUuc2NzcydcclxuXHJcbmV4cG9ydCBjbGFzcyBNZW51e1xyXG4gICAgXHJcbiAgICBwcm90ZWN0ZWQgbmF2RGF0YToge2lkOnN0cmluZ307XHJcblxyXG4gICAgY29uc3RydWN0b3IoKXtcclxuICAgICAgICB0aGlzLm5hdkRhdGEgPSB7aWQ6ICdpdGVtTWVudSd9O1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGNydFRpdGxlSW5EaXYodGl0bGVUZXh0OnN0cmluZyAgKXtcclxuICAgICAgICBjb25zdCBkaXZCb3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICBjb25zdCB0aXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2g0Jyk7XHJcbiAgICAgICAgdGl0bGUuaW5uZXJUZXh0ID0gdGl0bGVUZXh0O1xyXG4gICAgICAgIGRpdkJveC5hcHBlbmQodGl0bGUpO1xyXG4gICAgICAgIGRpdkJveC5jbGFzc0xpc3QuYWRkKCdkb05vdENsb3NlJyk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcmV0dXJuIGRpdkJveDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIGdpdmVCdHRuc1RpdGxlXHJcbiAgICAgKi9cclxuICAgIHByb3RlY3RlZCBnaXZlQnR0bnNUaXRsZShidXR0b25zOkRvY3VtZW50RnJhZ21lbnQsIHRpdGxlVGV4dDpzdHJpbmcsIGNsYXM/OnN0cmluZyApIHtcclxuICAgICAgICBjb25zdCB0aXRsZUJveCA9IHRoaXMuY3J0VGl0bGVJbkRpdih0aXRsZVRleHQpO1xyXG4gICAgICAgIHRpdGxlQm94LmFwcGVuZChidXR0b25zKTtcclxuICAgICAgICBpZiAoY2xhcykge1xyXG4gICAgICAgICAgICB0aXRsZUJveC5jbGFzc0xpc3QuYWRkKGNsYXMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGl0bGVCb3g7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNydE5hdk1lbnVBKGFuY2hEYXRhOmFuY2hEYXRhW10sIG5hdkRhdGE6e2lkOnN0cmluZ30pe1xyXG4gICAgICAgIGNvbnN0IHVsID0gdGhpcy5jcnRVbFdBKCBhbmNoRGF0YSlcclxuICAgICAgICBjb25zdCBuYXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCduYXYnKTtcclxuICAgICAgICBuYXYuc2V0QXR0cmlidXRlKCdpZCcsIG5hdkRhdGEuaWQpXHJcbiAgICAgICAgbmF2LmFwcGVuZENoaWxkKHVsKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIG5hdjtcclxuICAgICAgICBcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlcyBhbmQgcmV0dXJucyB1bm9yZGVyZWQgbGlzdCB3aXRoIGFuY2hvciBpbnNpZGVcclxuICAgICAqIEBwYXJhbSBudW1iZXJPZkxpIFxyXG4gICAgICogQHBhcmFtIGFuY2hEYXRhIFxyXG4gICAgICogQHJldHVybnMgXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgY3J0VWxXQSggYW5jaERhdGE6YW5jaERhdGFbXSl7XHJcbiAgICAgICAgY29uc3QgdWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd1bCcpOyAgXHJcbiAgICAgICAgYW5jaERhdGEuZm9yRWFjaCggYW5jaCA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGxpID0gIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XHJcbiAgICAgICAgICAgIGNvbnN0IGEgPSAgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xyXG4gICAgICAgICAgICBhLnNldEF0dHJpYnV0ZSgnaWQnLGFuY2guaWQpO1xyXG4gICAgICAgICAgICBhLmlubmVyVGV4dCA9IGFuY2gudGV4dDtcclxuICAgICAgICAgICAgbGkuYXBwZW5kQ2hpbGQoYSk7XHJcbiAgICAgICAgICAgIHVsLmFwcGVuZENoaWxkKGxpKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgICAgICBcclxuICAgICAgICByZXR1cm4gdWw7XHJcbiAgICB9ICAgXHJcblxyXG4gICAgcHVibGljIGNydE5hdk1lbnVCKGJ1dHRvbkRhdGE6YnV0dG9uRGF0YVtdLCBuYXZEYXRhOntpZDpzdHJpbmd9LCBjb21tb25DbGFzcz86c3RyaW5nKXtcclxuICAgICAgICBjb25zdCB1bCA9IHRoaXMuY3J0VWxXQiggYnV0dG9uRGF0YSwgY29tbW9uQ2xhc3MpXHJcbiAgICAgICAgY29uc3QgbmF2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbmF2Jyk7XHJcbiAgICAgICAgbmF2LnNldEF0dHJpYnV0ZSgnaWQnLCBuYXZEYXRhLmlkKVxyXG4gICAgICAgIGlmKGNvbW1vbkNsYXNzKXtcclxuICAgICAgICAgICAgbmF2LmNsYXNzTGlzdC5hZGQoY29tbW9uQ2xhc3MpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBuYXYuYXBwZW5kQ2hpbGQodWwpO1xyXG5cclxuICAgICAgICByZXR1cm4gbmF2O1xyXG4gICAgICAgIFxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIGFuZCByZXR1cm5zIHVub3JkZXJlZCBsaXN0IHdpdGggYnV0dG9uIGluc2lkZVxyXG4gICAgICogQHBhcmFtIG51bWJlck9mTGkgXHJcbiAgICAgKiBAcGFyYW0gYW5jaERhdGEgXHJcbiAgICAgKiBAcmV0dXJucyBcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBjcnRVbFdCKCBidXR0b25EYXRhOmJ1dHRvbkRhdGFbXSwgY29tbW9uQ2xhc3M/OnN0cmluZyl7XHJcbiAgICAgICAgY29uc3QgdWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd1bCcpOyAgXHJcbiAgICAgICAgaWYoY29tbW9uQ2xhc3Mpe1xyXG4gICAgICAgICAgICB1bC5jbGFzc0xpc3QuYWRkKGNvbW1vbkNsYXNzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgYnV0dG9uRGF0YS5mb3JFYWNoKCBidXR0b24gPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBsaSA9ICBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xyXG4gICAgICAgICAgICBjb25zdCBuZXdCdXR0b24gPSAgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XHJcbiAgICAgICAgICAgIG5ld0J1dHRvbi5zZXRBdHRyaWJ1dGUoJ2lkJyxidXR0b24uaWQpO1xyXG4gICAgICAgICAgICBuZXdCdXR0b24uc2V0QXR0cmlidXRlKCd0eXBlJyxidXR0b24udHlwZSk7XHJcbiAgICAgICAgICAgIGlmKCBidXR0b24udGV4dClcclxuICAgICAgICAgICAgICAgIG5ld0J1dHRvbi5pbm5lclRleHQgPSBidXR0b24udGV4dDtcclxuICAgICAgICAgICAgaWYoY29tbW9uQ2xhc3Mpe1xyXG4gICAgICAgICAgICAgICAgdWwuY2xhc3NMaXN0LmFkZChjb21tb25DbGFzcyk7XHJcbiAgICAgICAgICAgICAgICBsaS5jbGFzc0xpc3QuYWRkKGNvbW1vbkNsYXNzKTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBsaS5hcHBlbmRDaGlsZChuZXdCdXR0b24pO1xyXG4gICAgICAgICAgICB1bC5hcHBlbmRDaGlsZChsaSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgcmV0dXJuIHVsO1xyXG4gICAgfVxyXG4gICAgLy90aGlzXHJcbiAgICBwdWJsaWMgY3J0TmF2TWVudUJJKGJ1dHRvbkRhdGE6YnV0dG9uRGF0YVtdLCBuYXZEYXRhOntpZDpzdHJpbmd9LCBzdWJNZW51Q2xhczpzdHJpbmcsIHN1Yk1lbnVQb3NYOnN0cmluZywgc3ViTWVudVBvc1k6c3RyaW5nLCBjb21tb25DbGFzcz86c3RyaW5nKXtcclxuICAgICAgICBjb25zdCB1bCA9IHRoaXMuY3J0VWxXaXRoQkkoIGJ1dHRvbkRhdGEsc3ViTWVudUNsYXMsc3ViTWVudVBvc1gsIHN1Yk1lbnVQb3NZLCBjb21tb25DbGFzcyk7XHJcbiAgICAgICAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgZGl2LnNldEF0dHJpYnV0ZSgnaWQnLCBuYXZEYXRhLmlkKVxyXG4gICAgICAgIGlmKGNvbW1vbkNsYXNzKXtcclxuICAgICAgICAgICAgZGl2LmNsYXNzTGlzdC5hZGQoY29tbW9uQ2xhc3MpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBkaXYuYXBwZW5kQ2hpbGQodWwpO1xyXG5cclxuICAgICAgICByZXR1cm4gZGl2O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjcnRNZW51QkkoYnV0dG9uRGF0YTpidXR0b25EYXRhW10sIG5hdkRhdGE6e2lkOnN0cmluZ30sc3ViTWVudUNsYXM/OnN0cmluZywgY29tbW9uQ2xhc3M/OnN0cmluZyl7XHJcbiAgICAgICAgY29uc3QgdWwgPSB0aGlzLmNydFVsV2l0aEJJKCBidXR0b25EYXRhLCBzdWJNZW51Q2xhcywgY29tbW9uQ2xhc3MpXHJcbiAgICAgICAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgZGl2LnNldEF0dHJpYnV0ZSgnaWQnLCBuYXZEYXRhLmlkKVxyXG4gICAgICAgIGlmKGNvbW1vbkNsYXNzKXtcclxuICAgICAgICAgICAgZGl2LmNsYXNzTGlzdC5hZGQoY29tbW9uQ2xhc3MpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBkaXYuYXBwZW5kQ2hpbGQodWwpO1xyXG5cclxuICAgICAgICByZXR1cm4gZGl2O1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZXMgYW5kIHJldHVybnMgdW5vcmRlcmVkIGxpc3Qgd2l0aCBidXR0b24gb3IgaW5wdXQgaW5zaWRlXHJcbiAgICAgKiBAcGFyYW0gYnV0dG9uRGF0YSBcclxuICAgICAqIEBwYXJhbSBjb21tb25DbGFzcyBcclxuICAgICAqIEByZXR1cm5zIFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGNydFVsV2l0aEJJKCBidXR0b25EYXRhOmJ1dHRvbkRhdGFbXSwgc3ViTWVudUNsYXM/OnN0cmluZywgc3ViTWVudVBvc1g/OnN0cmluZywgc3ViTWVudVBvc1k/OnN0cmluZywgY29tbW9uQ2xhc3M/OnN0cmluZyApe1xyXG4gICAgICAgIGNvbnN0IHVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndWwnKTsgIFxyXG4gICAgICAgIGlmKGNvbW1vbkNsYXNzKXtcclxuICAgICAgICAgICAgdWwuY2xhc3NMaXN0LmFkZChjb21tb25DbGFzcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGJ1dHRvbkRhdGEuZm9yRWFjaCggYnV0dG9uID0+IHtcclxuICAgICAgICAgICAgY29uc3QgbGkgPSAgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcclxuICAgICAgICAgICAgbGkuc2V0QXR0cmlidXRlKCdpZCcsYnV0dG9uLmlkKTtcclxuICAgICAgICAgICAgbGV0IG5ld0J1dHRvbjpIVE1MRWxlbWVudCA9IDxIVE1MRWxlbWVudD57fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBuZXdCdXR0b24gPSAgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XHJcbiAgICAgICAgICAgIG5ld0J1dHRvbi5zZXRBdHRyaWJ1dGUoJ2lkJyxidXR0b24uaWQpO1xyXG4gICAgICAgICAgICBuZXdCdXR0b24uc2V0QXR0cmlidXRlKCd0eXBlJyxidXR0b24udHlwZSk7ICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIG5ld0J1dHRvbi5pbm5lclRleHQgPSBidXR0b24udGV4dDtcclxuICAgICAgICAgICAgaWYgKGJ1dHRvbi5ub3RDbG9zZSkge1xyXG4gICAgICAgICAgICAgICAgbmV3QnV0dG9uLmNsYXNzTGlzdC5hZGQoYnV0dG9uLm5vdENsb3NlKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKGJ1dHRvbi5pbnB1dCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaW5wdXQgPSBidXR0b24uaW5wdXQ7XHJcbiAgICAgICAgICAgICAgICBsZXQgbmV3SW5wdXQ7XHJcbiAgICAgICAgICAgICAgICBuZXdJbnB1dCA9ICBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xyXG4gICAgICAgICAgICAgICAgbmV3SW5wdXQuc2V0QXR0cmlidXRlKCdpZCcsaW5wdXQuaWQpO1xyXG4gICAgICAgICAgICAgICAgbmV3SW5wdXQuc2V0QXR0cmlidXRlKCd0eXBlJyxpbnB1dC50eXBlKTsgICAgICBcclxuICAgICAgICAgICAgICAgIG5ld0lucHV0LnNldEF0dHJpYnV0ZSgnYWNjZXB0JyxpbnB1dC5hY2NlcHQpO1xyXG4gICAgICAgICAgICAgICAgbmV3SW5wdXQuY2xhc3NMaXN0LmFkZChzdHlsZXMuaGlkZGVuKVxyXG5cclxuICAgICAgICAgICAgICAgIG5ld0J1dHRvbi5hcHBlbmQobmV3SW5wdXQpO1xyXG4gICAgICAgICAgICB9ICAgXHJcbiAgICAgICAgICAgIGlmKGNvbW1vbkNsYXNzKXtcclxuICAgICAgICAgICAgICAgIHVsLmNsYXNzTGlzdC5hZGQoY29tbW9uQ2xhc3MpO1xyXG4gICAgICAgICAgICAgICAgbGkuY2xhc3NMaXN0LmFkZChjb21tb25DbGFzcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGlmIChidXR0b24uc3ViTWVudSkge1xyXG4gICAgICAgICAgICAgICAgbGV0IHN1YlVsID0gdGhpcy5jcnRVbFdpdGhCSShidXR0b24uc3ViTWVudSwgc3ViTWVudUNsYXMsIGNvbW1vbkNsYXNzKTtcclxuICAgICAgICAgICAgICAgIGlmIChzdWJNZW51Q2xhcykge1xyXG4gICAgICAgICAgICAgICAgICAgIHN1YlVsLmNsYXNzTGlzdC5hZGQoc3ViTWVudUNsYXMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy9wb3NpdGlvbiBvbiBheGUgeCBcclxuICAgICAgICAgICAgICAgIGlmIChzdWJNZW51UG9zWCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHN1YlVsLmNsYXNzTGlzdC5hZGQoc3ViTWVudVBvc1gpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy9wb3NpdGlvbiBvbiBheGUgeVxyXG4gICAgICAgICAgICAgICAgaWYgKHN1Yk1lbnVQb3NZKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3ViVWwuY2xhc3NMaXN0LmFkZChzdWJNZW51UG9zWSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBuZXdCdXR0b24uYXBwZW5kKHN1YlVsKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgbGkuYXBwZW5kQ2hpbGQobmV3QnV0dG9uKTtcclxuICAgICAgICAgICAgdWwuYXBwZW5kQ2hpbGQobGkpO1xyXG5cclxuICAgICAgICB9KTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgcmV0dXJuIHVsO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDaHTEm2wganNlbSBuYWhyYWRpdCBuZXVzdMOhbMOpIHZ5dHbDocWZZW7DrSBtZW51IG5haHJhemVuw61tIGRhdCB2IGppxb4gdnl0dm/FmWVuw6ltIG1lbnVcclxuICAgICAqICwgYWxlIHVrw6F6YWxvIHNlLCDFvmUgdG8gamUgbW9jIHByw6FjZSB6YSBtw6FsbyBtdXppa3lcclxuICAgICAqIEBwYXJhbSBpdGVtTWVudUJ0dG5zIFxyXG4gICAgICogQHBhcmFtIGJ1dHRvbkRhdGEgXHJcbiAgICAgKi9cclxuICAgIHByb3RlY3RlZCBjaG5nQnR0bnMoaXRlbU1lbnVCdHRuczpIVE1MQ29sbGVjdGlvbiAsYnV0dG9uRGF0YTpidXR0b25EYXRhW10pe1xyXG4gICAgICAgIGxldCBpID0gMDtcclxuICAgICAgICBidXR0b25EYXRhLmZvckVhY2goIGJ1dHRvbiA9PiB7XHJcbiAgICAgICAgICAgIGxldCBidHRuRnJvbURPTSA9ICg8SFRNTEJ1dHRvbkVsZW1lbnQ+aXRlbU1lbnVCdHRuc1tpXSk7XHJcbiAgICAgICAgICAgIGxldCBpbnB1dCA9IGl0ZW1NZW51QnR0bnNbMF0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2lucHV0Jyk7XHJcbiAgICAgICAgICAgIGlmICggaW5wdXRbMF0gJiYgYnV0dG9uLmlucHV0ICApIHtcclxuICAgICAgICAgICAgICAgIGlmICgoaW5wdXRbMF0uaWQgPT09IGJ1dHRvbi5pbnB1dC5pZCkpe1xyXG5cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGJ0dG5Gcm9tRE9NLmlkID09PSBidXR0b24uaWQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChidHRuRnJvbURPTS50eXBlICE9PSBidXR0b24udHlwZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW1NZW51QnR0bnNbaV0uc2V0QXR0cmlidXRlKCd0eXBlJywgYnV0dG9uLnR5cGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGJ0dG5Gcm9tRE9NLmlubmVyVGV4dCAhPT0gYnV0dG9uLnRleHQpIHtcclxuICAgICAgICAgICAgICAgICAgICBidHRuRnJvbURPTS5pbm5lclRleHQgPSBidXR0b24udGV4dDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIHBsYWNlTWVudShlOkV2ZW50LCBuYXY6SFRNTEVsZW1lbnQsIHN0eWxlSXRlbU1lbnU6c3RyaW5nLCB4UmlnaHQ/OnN0cmluZywgeExlZnQ/OnN0cmluZywgeVVwPzpzdHJpbmcsIHlEb3duPzpzdHJpbmcpe1xyXG4gICAgICAgIG5hdi5jbGFzc0xpc3QuYWRkKHN0eWxlSXRlbU1lbnUpO1xyXG4gICAgICAgIC8vZ2V0IG1lbnUgd2lkdGhcclxuICAgICAgICBuYXYuc3R5bGUudmlzaWJpbGl0eSA9ICdoaWRkZW4nO1xyXG4gICAgICAgIG5hdi5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmQobmF2KTtcclxuICAgICAgICBsZXQgbmF2V2lkdGggPSBuYXYub2Zmc2V0V2lkdGg7XHJcbiAgICAgICAgbGV0IG5hdkhlaWdodCA9IG5hdi5vZmZzZXRIZWlnaHQ7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ25hdkhlaWdodCcsbmF2SGVpZ2h0KVxyXG4gICAgICAgIGxldCBuYXZET00gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaXRlbU1lbnUnKTtcclxuXHJcbiAgICAgICAgbmF2LnJlbW92ZSgpO1xyXG4gICAgICAgIG5hdi5zdHlsZS52aXNpYmlsaXR5ID0gJyc7XHJcbiAgICAgICAgbmF2LnN0eWxlLnBvc2l0aW9uID0gJyc7XHJcblxyXG4gICAgICAgIGNvbnN0IHBhZ2VYID0gKDxNb3VzZUV2ZW50PmUpLnBhZ2VYO1xyXG4gICAgICAgIGNvbnN0IHBhZ2VZID0gKDxNb3VzZUV2ZW50PmUpLnBhZ2VZO1xyXG4gICAgICAgIFxyXG4gICAgICAgIFxyXG4gICAgICAgIGxldCBjb21pY3MgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29taWNzJyk7XHJcbiAgICAgICAgaWYgKGNvbWljcykge1xyXG4gICAgICAgICAgICBsZXQgZG9jV2lkdGggPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGg7XHJcbiAgICAgICAgICAgIGxldCBkb2NIZWlnaHQgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsSGVpZ2h0O1xyXG4gICAgICAgICAgICBsZXQgdmlld3BvcnRIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XHJcbiAgICAgICAgICAgIGxldCBjb21pY3NXaWR0aCA9IGNvbWljcy5vZmZzZXRXaWR0aDtcclxuICAgICAgICAgICAgbGV0IHNwYWNlRnJvbUN1cnNvclRvRWRnZVcgPSAoZG9jV2lkdGggLSBwYWdlWCk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvL3N1Yk1lbnUgcmVzcG9uZCB0byBYIGNoYW5nZVxyXG4gICAgICAgICAgICBpZiAoc3BhY2VGcm9tQ3Vyc29yVG9FZGdlVyA8IG5hdldpZHRoICogMiApIHtcclxuICAgICAgICAgICAgICAgIGlmICh4UmlnaHQgJiYgeExlZnQpIHtcclxuICAgICAgICAgICAgICAgICAgIGxldCBzdWJNZW51RUwgPSBuYXYucXVlcnlTZWxlY3RvckFsbChgLiR7eFJpZ2h0fWAgKTtcclxuICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHN1Yk1lbnVFTC5sZW5ndGg7IGluZGV4KyspIHtcclxuICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgc3ViTWVudUVMW2luZGV4XS5jbGFzc0xpc3QucmVtb3ZlKHhSaWdodCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgc3ViTWVudUVMW2luZGV4XS5jbGFzc0xpc3QuYWRkKHhMZWZ0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKHNwYWNlRnJvbUN1cnNvclRvRWRnZVcgPCBuYXZXaWR0aCApIHtcclxuICAgICAgXHJcbiAgICAgICAgICAgICAgICBsZXQgbW92ZU51bSA9IG5hdldpZHRoIC0gc3BhY2VGcm9tQ3Vyc29yVG9FZGdlVztcclxuICAgICAgICAgICAgICAgIG5hdi5zdHlsZS5zZXRQcm9wZXJ0eSgnbGVmdCcsIGAke3BhZ2VYIC0gbW92ZU51bX1weGApO1xyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICAgICAgbmF2LnN0eWxlLnNldFByb3BlcnR5KCdsZWZ0JywgYCR7cGFnZVh9cHhgKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgbGV0IGNsaWVudFkgPSAoPE1vdXNlRXZlbnQ+ZSkuY2xpZW50WTtcclxuICAgICAgICAgICAgbGV0IHNwYWNlRnJvbUN1cnNvclRvRWRnZUhWUCA9ICh2aWV3cG9ydEhlaWdodCAtIGNsaWVudFkpO1xyXG4gICAgICAgICAgICBsZXQgc3BhY2VGcm9tQ3Vyc29yVG9FZGdlSCA9IChkb2NIZWlnaHQgLSBwYWdlWSk7XHJcblxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy9zdWJNZW51IHJlc3BvbmQgdG8gWSBjaGFuZ2VcclxuICAgICAgICAgICAgaWYobmF2SGVpZ2h0ID4gcGFnZVkpe1xyXG4gICAgICAgICAgICAgICAgaWYgKHlVcCAmJiB5RG93bikge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBzdWJNZW51RUwgPSBuYXYucXVlcnlTZWxlY3RvckFsbChgLiR7eURvd259YCApO1xyXG4gICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBzdWJNZW51RUwubGVuZ3RoOyBpbmRleCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3ViTWVudUVMW2luZGV4XS5jbGFzc0xpc3QucmVtb3ZlKHlEb3duKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3ViTWVudUVMW2luZGV4XS5jbGFzc0xpc3QuYWRkKHlVcCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoc3BhY2VGcm9tQ3Vyc29yVG9FZGdlSFZQIDwgbmF2SGVpZ2h0KSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgbW92ZU51bSA9IG5hdkhlaWdodCAtIHNwYWNlRnJvbUN1cnNvclRvRWRnZUhWUDtcclxuICAgICAgICAgICAgICAgIG5hdi5zdHlsZS5zZXRQcm9wZXJ0eSgndG9wJywgYCR7cGFnZVkgLSBtb3ZlTnVtfXB4YCk7XHJcbiAgICAgICAgICAgICAgICAvL25hdi5zdHlsZS5wb3NpdGlvbiA9ICdmaXhlZCc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbmF2LnN0eWxlLnNldFByb3BlcnR5KCd0b3AnLCBgJHtwYWdlWX1weGApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIH1cclxuICAgIH1cclxufSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/HTMLComponents/menu/Menu.ts\n");

/***/ }),

/***/ "./src/app.ts":
/*!********************!*\
  !*** ./src/app.ts ***!
  \********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _editor_ComicsEditor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./editor/ComicsEditor */ \"./src/editor/ComicsEditor.ts\");\n\r\nfunction runApp() {\r\n    const root = document.getElementById('root');\r\n    if (root) {\r\n        const comicsEditor = new _editor_ComicsEditor__WEBPACK_IMPORTED_MODULE_0__.ComicsEditor();\r\n        const comicsEditorElm = comicsEditor.crtEditor();\r\n        //Add event delegation to root element\r\n        comicsEditor.eventListeners.evDelegation(root);\r\n        //Append comics editor to root element\r\n        root.appendChild(comicsEditorElm);\r\n        /* let input = new Input();\r\n        let subMenu = new SubMenu(input);\r\n        subMenu.name(); */\r\n    }\r\n    else {\r\n        window.alert('Application is not working');\r\n        console.log('root element not found');\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvYXBwLnRzLmpzIiwibWFwcGluZ3MiOiI7O0FBQXFEO0FBS3JELFNBQVMsTUFBTTtJQUVYLE1BQU0sSUFBSSxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDN0MsSUFBSSxJQUFJLEVBQUU7UUFDTixNQUFNLFlBQVksR0FBRyxJQUFJLDhEQUFZLEVBQUUsQ0FBQztRQUN4QyxNQUFNLGVBQWUsR0FBRyxZQUFZLENBQUMsU0FBUyxFQUFFLENBQUM7UUFFakQsc0NBQXNDO1FBQ3RDLFlBQVksQ0FBQyxjQUFjLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBRS9DLHNDQUFzQztRQUN0QyxJQUFJLENBQUMsV0FBVyxDQUFDLGVBQWUsQ0FBQyxDQUFDO1FBRWxDOzswQkFFa0I7S0FDckI7U0FDRztRQUNBLE1BQU0sQ0FBQyxLQUFLLENBQUMsNEJBQTRCLENBQUMsQ0FBQztRQUMzQyxPQUFPLENBQUMsR0FBRyxDQUFDLHdCQUF3QixDQUFDLENBQUM7S0FDekM7QUFDTCxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY29taWNzLWVkaXRvci8uL3NyYy9hcHAudHM/MDY2ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21pY3NFZGl0b3IgfSBmcm9tICcuL2VkaXRvci9Db21pY3NFZGl0b3InO1xyXG5pbXBvcnQgeyBTdWJNZW51IH0gZnJvbSAnLi9lZGl0b3IvZWRpdG9yQ29tcG9uZW50cy9pdGVtL2l0ZW1NZW51L3N1Yk1lbnUvU3ViTWVudSc7XHJcbmltcG9ydCB7IElucHV0IH0gZnJvbSAnLi9IVE1MQ29tcG9uZW50cy9pbnB1dC9JbnB1dCc7XHJcblxyXG5cclxuZnVuY3Rpb24gcnVuQXBwKCl7XHJcblxyXG4gICAgY29uc3Qgcm9vdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyb290Jyk7XHJcbiAgICBpZiAocm9vdCkge1xyXG4gICAgICAgIGNvbnN0IGNvbWljc0VkaXRvciA9IG5ldyBDb21pY3NFZGl0b3IoKTtcclxuICAgICAgICBjb25zdCBjb21pY3NFZGl0b3JFbG0gPSBjb21pY3NFZGl0b3IuY3J0RWRpdG9yKCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy9BZGQgZXZlbnQgZGVsZWdhdGlvbiB0byByb290IGVsZW1lbnRcclxuICAgICAgICBjb21pY3NFZGl0b3IuZXZlbnRMaXN0ZW5lcnMuZXZEZWxlZ2F0aW9uKHJvb3QpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vQXBwZW5kIGNvbWljcyBlZGl0b3IgdG8gcm9vdCBlbGVtZW50XHJcbiAgICAgICAgcm9vdC5hcHBlbmRDaGlsZChjb21pY3NFZGl0b3JFbG0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8qIGxldCBpbnB1dCA9IG5ldyBJbnB1dCgpO1xyXG4gICAgICAgIGxldCBzdWJNZW51ID0gbmV3IFN1Yk1lbnUoaW5wdXQpO1xyXG4gICAgICAgIHN1Yk1lbnUubmFtZSgpOyAqL1xyXG4gICAgfVxyXG4gICAgZWxzZXtcclxuICAgICAgICB3aW5kb3cuYWxlcnQoJ0FwcGxpY2F0aW9uIGlzIG5vdCB3b3JraW5nJyk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ3Jvb3QgZWxlbWVudCBub3QgZm91bmQnKTtcclxuICAgIH1cclxufSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/app.ts\n");

/***/ }),

/***/ "./src/common/AtributesToElement.ts":
/*!******************************************!*\
  !*** ./src/common/AtributesToElement.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"addAtributes\": () => (/* binding */ addAtributes)\n/* harmony export */ });\n/**\r\n * Add inline style to a element\r\n * @param htmlElement HtmlElement to style\r\n * @param atributes Object with style information for htmlElement\r\n */\r\nconst addAtributes = (htmlElement, atributes) => {\r\n    for (const [key, value] of Object.entries(atributes)) {\r\n        htmlElement.setAttribute(key, value);\r\n    }\r\n};\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tbW9uL0F0cmlidXRlc1RvRWxlbWVudC50cy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7Ozs7R0FJRztBQUNGLE1BQU0sWUFBWSxHQUFHLENBQUMsV0FBdUIsRUFBRSxTQUFnQixFQUFRLEVBQUU7SUFDdEUsS0FBSyxNQUFNLENBQUMsR0FBRyxFQUFFLEtBQUssQ0FBQyxJQUFJLE1BQU0sQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLEVBQUM7UUFDakQsV0FBVyxDQUFDLFlBQVksQ0FBQyxHQUFHLEVBQUUsS0FBSyxDQUFDLENBQUM7S0FDeEM7QUFDTCxDQUFDLENBQUM7QUFFbUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jb21pY3MtZWRpdG9yLy4vc3JjL2NvbW1vbi9BdHJpYnV0ZXNUb0VsZW1lbnQudHM/MTQ4MiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogQWRkIGlubGluZSBzdHlsZSB0byBhIGVsZW1lbnRcclxuICogQHBhcmFtIGh0bWxFbGVtZW50IEh0bWxFbGVtZW50IHRvIHN0eWxlXHJcbiAqIEBwYXJhbSBhdHJpYnV0ZXMgT2JqZWN0IHdpdGggc3R5bGUgaW5mb3JtYXRpb24gZm9yIGh0bWxFbGVtZW50XHJcbiAqL1xyXG4gY29uc3QgYWRkQXRyaWJ1dGVzID0gKGh0bWxFbGVtZW50OkhUTUxFbGVtZW50LCBhdHJpYnV0ZXM6b2JqZWN0KTogdm9pZCA9PntcclxuICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGF0cmlidXRlcykpe1xyXG4gICAgICAgIGh0bWxFbGVtZW50LnNldEF0dHJpYnV0ZShrZXksIHZhbHVlKTtcclxuICAgIH1cclxufTtcclxuXHJcbmV4cG9ydHthZGRBdHJpYnV0ZXN9OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/common/AtributesToElement.ts\n");

/***/ }),

/***/ "./src/common/EventListeners.ts":
/*!**************************************!*\
  !*** ./src/common/EventListeners.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"EventListeners\": () => (/* binding */ EventListeners),\n/* harmony export */   \"events\": () => (/* binding */ events),\n/* harmony export */   \"addListenersSame\": () => (/* binding */ addListenersSame),\n/* harmony export */   \"evDelegation\": () => (/* binding */ evDelegation),\n/* harmony export */   \"domLoaded\": () => (/* binding */ domLoaded)\n/* harmony export */ });\n;\r\nclass EventListeners {\r\n    constructor(flexBoxItem, itemMenu, imageItem, item, mainbox) {\r\n        /**\r\n     * Creates event delegation\r\n     * @param element Parent element, that will catch bubble phase and on which the eventlistener is placed\r\n     * @param events array In every callback function must be control of event target to make event delegation work properly\r\n     */\r\n        this.evDelegation = (element) => {\r\n            this.events.forEach((event) => {\r\n                if (Array.isArray(event)) {\r\n                    //rekurze, pokud je na indexu pole, spusti se funkce znovu na vnitrni objekty nebo pole\r\n                    evDelegation(element, event);\r\n                }\r\n                else\r\n                    element.addEventListener(event.name, event.call);\r\n            });\r\n            return element;\r\n        };\r\n        this.imageItem = imageItem;\r\n        this.flexBoxItem = flexBoxItem;\r\n        this.itemMenu = itemMenu;\r\n        this.item = item;\r\n        this.mainBox = mainbox;\r\n        this.events = [\r\n            { name: 'click', call: this.item.rszPercent },\r\n            { name: 'click', call: this.item.rszItem },\r\n            { name: 'click', call: this.item.rszEnd },\r\n            { name: 'click', call: this.item.rszItemState(item) },\r\n            { name: 'click', call: this.item.moveEnd },\r\n            { name: 'click', call: this.item.moveItem },\r\n            { name: 'click', call: this.item.moveItemHere },\r\n            { name: 'click', call: this.imageItem.edtImgPstn },\r\n            { name: 'click', call: this.imageItem.rmvImgItem },\r\n            { name: 'click', call: this.imageItem.addImgItem },\r\n            { name: 'change', call: this.imageItem.fileReader(imageItem) },\r\n            { name: 'change', call: this.flexBoxItem.fileReader },\r\n            { name: 'click', call: this.flexBoxItem.rmvBoxBckGrnd },\r\n            { name: 'click', call: this.flexBoxItem.addImgBckGrnd },\r\n            { name: 'click', call: this.flexBoxItem.edtGrow },\r\n            { name: 'click', call: this.flexBoxItem.edtBoxDcrtn },\r\n            { name: 'click', call: this.flexBoxItem.edtOuterBoxItem },\r\n            { name: 'click', call: this.flexBoxItem.edtboxItem },\r\n            { name: 'click', call: this.flexBoxItem.rmvBoxItem },\r\n            { name: 'click', call: this.flexBoxItem.rmvBoxItemAll },\r\n            { name: 'click', call: this.flexBoxItem.addInnerBoxItem(flexBoxItem) },\r\n            { name: 'click', call: this.flexBoxItem.addOuterBoxItem(flexBoxItem) },\r\n            { name: 'click', call: this.mainBox.edtMainBoxDcrtn },\r\n            { name: 'click', call: this.mainBox.edtOuterMainBox },\r\n            { name: 'click', call: this.mainBox.edtMainBoxPstn },\r\n            { name: 'click', call: this.itemMenu.showHideItemMenu(itemMenu) }\r\n        ];\r\n    }\r\n}\r\nlet events = [];\r\n/**\r\n * Adds every htmlElement same events nad callbacks\r\n * @param htmlElements HTMLCollection\r\n * @param events array Name of event and callback function\r\n */\r\nconst addListenersSame = (htmlElements, events) => {\r\n    // console.log('addListenersSame loop 0 funguje', htmlElements.item(0), events);\r\n    //for every htmlElement\r\n    for (const element of htmlElements) {\r\n        //console.log('addListenersSame loop 1 funguje');\r\n        /* for every event console */\r\n        events.forEach((event) => {\r\n            //add every callback for the event\r\n            element.addEventListener(event.name, event.call);\r\n            //console.log(element);\r\n            //console.log('addListenersSame loop 2 funguje',event.name,event.call);\r\n        });\r\n    }\r\n    ;\r\n};\r\n/**\r\n * Creates event delegation\r\n * @param element Parent element, that will catch bubble phase and on which the eventlistener is placed\r\n * @param events array In every callback function must be control of event target to make event delegation work properly\r\n */\r\nconst evDelegation = (element, events) => {\r\n    events.forEach((event) => {\r\n        if (Array.isArray(event)) {\r\n            //rekurze, pokud je na indexu pole, spusti se funkce znovu na vnitrni objekty nebo pole\r\n            evDelegation(element, event);\r\n        }\r\n        else\r\n            element.addEventListener(event.name, event.call);\r\n    });\r\n    return element;\r\n};\r\nconst domLoaded = (htmlElements, events) => {\r\n    console.log('domLoaded loop 0 funguje', htmlElements);\r\n    document.addEventListener('DOMContentLoaded', (event) => {\r\n        console.log('domLoaded funguje loop 1', htmlElements.length, events);\r\n        addListenersSame(htmlElements, events);\r\n    });\r\n};\r\n/* export const evDelegation = (element:Element, events: eventAndCall | []):Element => {\r\n    if(Array.isArray(events)){\r\n        events.forEach( (event) => {\r\n                //rekurze, pokud je na indexu pole, spusti se funkce znovu na vnitrni objekty nebo pole\r\n                evDelegation(element, event);\r\n        });\r\n    }\r\n    else{\r\n        for (const [key, value] of Object.entries(events)){\r\n        element.addEventListener(value, event.call);\r\n    }\r\n\r\n    return element;\r\n}} */ \r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TSxFQUFFLE1BQU0sQ0FBRSxDQUFDO1FBQ3RFLGdCQUFnQixDQUFDLFlBQVksRUFBRSxNQUFNLENBQUMsQ0FBQztJQUUzQyxDQUFDLENBQUMsQ0FBQztBQUNQLENBQUM7QUFFRDs7Ozs7Ozs7Ozs7OztLQWFLIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY29taWNzLWVkaXRvci8uL3NyYy9jb21tb24vRXZlbnRMaXN0ZW5lcnMudHM/N2E2MSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJdGVtTWVudSB9IGZyb20gXCIuLi9lZGl0b3IvZWRpdG9yQ29tcG9uZW50cy9pdGVtL2l0ZW1NZW51L0l0ZW1NZW51XCI7XHJcbmltcG9ydCB7IEl0ZW0gfSBmcm9tICcuLi9lZGl0b3IvZWRpdG9yQ29tcG9uZW50cy9pdGVtL0l0ZW0nO1xyXG5pbXBvcnQgeyBGbGV4Qm94SXRlbSB9IGZyb20gXCIuLi9lZGl0b3IvZWRpdG9yQ29tcG9uZW50cy9pdGVtL2ZsZXhCb3hJdGVtL0ZsZXhCb3hJdGVtXCI7XHJcbmltcG9ydCB7IEltYWdlSXRlbSB9IGZyb20gJy4uL2VkaXRvci9lZGl0b3JDb21wb25lbnRzL2l0ZW0vaW1hZ2VJdGVtL0ltYWdlSXRlbSc7XHJcbmltcG9ydCB7IE1haW5Cb3ggfSBmcm9tICcuLy4uL2VkaXRvci9lZGl0b3JDb21wb25lbnRzL21haW5Cb3gvTWFpbkJveCc7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIGV2ZW50QW5kQ2FsbCB7XHJcbiAgICBuYW1lOiBzdHJpbmc7XHJcbiAgICBjYWxsOiBhbnk7XHJcbn07XHJcblxyXG5leHBvcnQgY2xhc3MgRXZlbnRMaXN0ZW5lcnN7XHJcblxyXG4gICAgXHJcbiAgICBwcml2YXRlIGl0ZW06IEl0ZW07XHJcbiAgICBwcml2YXRlIGltYWdlSXRlbTogSW1hZ2VJdGVtO1xyXG4gICAgcHJpdmF0ZSBmbGV4Qm94SXRlbTogRmxleEJveEl0ZW07XHJcbiAgICBwcml2YXRlIGl0ZW1NZW51OiBJdGVtTWVudTtcclxuICAgIHByaXZhdGUgZXZlbnRzOihldmVudEFuZENhbGwgfCBldmVudEFuZENhbGxbXSlbXVxyXG4gICAgcHJpdmF0ZSBtYWluQm94OiBNYWluQm94O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGZsZXhCb3hJdGVtOiBGbGV4Qm94SXRlbSxpdGVtTWVudTogSXRlbU1lbnUsIGltYWdlSXRlbTpJbWFnZUl0ZW0sIGl0ZW06IEl0ZW0sIG1haW5ib3g6TWFpbkJveCl7XHJcbiAgICAgICAgdGhpcy5pbWFnZUl0ZW0gPSBpbWFnZUl0ZW07XHJcbiAgICAgICAgdGhpcy5mbGV4Qm94SXRlbSA9IGZsZXhCb3hJdGVtO1xyXG4gICAgICAgIHRoaXMuaXRlbU1lbnUgPSBpdGVtTWVudTtcclxuICAgICAgICB0aGlzLml0ZW0gPSBpdGVtO1xyXG4gICAgICAgIHRoaXMubWFpbkJveCA9IG1haW5ib3g7XHJcbiAgICAgICAgdGhpcy5ldmVudHMgPSBbXHJcbiAgICAgICAgICAgIHtuYW1lOidjbGljaycsIGNhbGw6IHRoaXMuaXRlbS5yc3pQZXJjZW50fSxcclxuICAgICAgICAgICAge25hbWU6J2NsaWNrJywgY2FsbDogdGhpcy5pdGVtLnJzekl0ZW19LFxyXG4gICAgICAgICAgICB7bmFtZTonY2xpY2snLCBjYWxsOiB0aGlzLml0ZW0ucnN6RW5kfSxcclxuICAgICAgICAgICAge25hbWU6J2NsaWNrJywgY2FsbDogdGhpcy5pdGVtLnJzekl0ZW1TdGF0ZShpdGVtKX0sXHJcbiAgICAgICAgICAgIHtuYW1lOidjbGljaycsIGNhbGw6IHRoaXMuaXRlbS5tb3ZlRW5kfSxcclxuICAgICAgICAgICAge25hbWU6J2NsaWNrJywgY2FsbDogdGhpcy5pdGVtLm1vdmVJdGVtfSxcclxuICAgICAgICAgICAge25hbWU6J2NsaWNrJywgY2FsbDogdGhpcy5pdGVtLm1vdmVJdGVtSGVyZX0sXHJcbiAgICAgICAgICAgIHtuYW1lOidjbGljaycsIGNhbGw6IHRoaXMuaW1hZ2VJdGVtLmVkdEltZ1BzdG59LFxyXG4gICAgICAgICAgICB7bmFtZTonY2xpY2snLCBjYWxsOiB0aGlzLmltYWdlSXRlbS5ybXZJbWdJdGVtfSxcclxuICAgICAgICAgICAge25hbWU6J2NsaWNrJywgY2FsbDogdGhpcy5pbWFnZUl0ZW0uYWRkSW1nSXRlbX0sXHJcbiAgICAgICAgICAgIHtuYW1lOidjaGFuZ2UnLCBjYWxsOiB0aGlzLmltYWdlSXRlbS5maWxlUmVhZGVyKGltYWdlSXRlbSl9LFxyXG4gICAgICAgICAgICB7bmFtZTonY2hhbmdlJywgY2FsbDogdGhpcy5mbGV4Qm94SXRlbS5maWxlUmVhZGVyfSxcclxuICAgICAgICAgICAge25hbWU6J2NsaWNrJywgY2FsbDogdGhpcy5mbGV4Qm94SXRlbS5ybXZCb3hCY2tHcm5kfSxcclxuICAgICAgICAgICAge25hbWU6J2NsaWNrJywgY2FsbDogdGhpcy5mbGV4Qm94SXRlbS5hZGRJbWdCY2tHcm5kfSxcclxuICAgICAgICAgICAge25hbWU6J2NsaWNrJywgY2FsbDogdGhpcy5mbGV4Qm94SXRlbS5lZHRHcm93fSxcclxuICAgICAgICAgICAge25hbWU6J2NsaWNrJywgY2FsbDogdGhpcy5mbGV4Qm94SXRlbS5lZHRCb3hEY3J0bn0sXHJcbiAgICAgICAgICAgIHtuYW1lOidjbGljaycsIGNhbGw6IHRoaXMuZmxleEJveEl0ZW0uZWR0T3V0ZXJCb3hJdGVtfSxcclxuICAgICAgICAgICAge25hbWU6J2NsaWNrJywgY2FsbDogdGhpcy5mbGV4Qm94SXRlbS5lZHRib3hJdGVtfSxcclxuICAgICAgICAgICAge25hbWU6J2NsaWNrJywgY2FsbDogdGhpcy5mbGV4Qm94SXRlbS5ybXZCb3hJdGVtfSxcclxuICAgICAgICAgICAge25hbWU6J2NsaWNrJywgY2FsbDogdGhpcy5mbGV4Qm94SXRlbS5ybXZCb3hJdGVtQWxsfSxcclxuICAgICAgICAgICAge25hbWU6J2NsaWNrJywgY2FsbDogdGhpcy5mbGV4Qm94SXRlbS5hZGRJbm5lckJveEl0ZW0oZmxleEJveEl0ZW0pfSxcclxuICAgICAgICAgICAge25hbWU6J2NsaWNrJywgY2FsbDogdGhpcy5mbGV4Qm94SXRlbS5hZGRPdXRlckJveEl0ZW0oZmxleEJveEl0ZW0pfSxcclxuICAgICAgICAgICAge25hbWU6J2NsaWNrJywgY2FsbDogdGhpcy5tYWluQm94LmVkdE1haW5Cb3hEY3J0bn0sXHJcbiAgICAgICAgICAgIHtuYW1lOidjbGljaycsIGNhbGw6IHRoaXMubWFpbkJveC5lZHRPdXRlck1haW5Cb3h9LFxyXG4gICAgICAgICAgICB7bmFtZTonY2xpY2snLCBjYWxsOiB0aGlzLm1haW5Cb3guZWR0TWFpbkJveFBzdG59LFxyXG4gICAgICAgICAgICB7bmFtZTonY2xpY2snLCBjYWxsOiB0aGlzLml0ZW1NZW51LnNob3dIaWRlSXRlbU1lbnUoaXRlbU1lbnUpfSAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICBdXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAqIENyZWF0ZXMgZXZlbnQgZGVsZWdhdGlvblxyXG4gKiBAcGFyYW0gZWxlbWVudCBQYXJlbnQgZWxlbWVudCwgdGhhdCB3aWxsIGNhdGNoIGJ1YmJsZSBwaGFzZSBhbmQgb24gd2hpY2ggdGhlIGV2ZW50bGlzdGVuZXIgaXMgcGxhY2VkICBcclxuICogQHBhcmFtIGV2ZW50cyBhcnJheSBJbiBldmVyeSBjYWxsYmFjayBmdW5jdGlvbiBtdXN0IGJlIGNvbnRyb2wgb2YgZXZlbnQgdGFyZ2V0IHRvIG1ha2UgZXZlbnQgZGVsZWdhdGlvbiB3b3JrIHByb3Blcmx5XHJcbiAqL1xyXG5wdWJsaWMgZXZEZWxlZ2F0aW9uID0gKGVsZW1lbnQ6RWxlbWVudCk6RWxlbWVudCA9PiB7XHJcbiAgICB0aGlzLmV2ZW50cy5mb3JFYWNoKCAoZXZlbnQpID0+IHtcclxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShldmVudCkpIHtcclxuICAgICAgICAgICAgLy9yZWt1cnplLCBwb2t1ZCBqZSBuYSBpbmRleHUgcG9sZSwgc3B1c3RpIHNlIGZ1bmtjZSB6bm92dSBuYSB2bml0cm5pIG9iamVrdHkgbmVibyBwb2xlXHJcbiAgICAgICAgICAgIGV2RGVsZWdhdGlvbihlbGVtZW50LCBldmVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCg8ZXZlbnRBbmRDYWxsPmV2ZW50KS5uYW1lLCAoPGV2ZW50QW5kQ2FsbD5ldmVudCkuY2FsbCk7XHJcbiAgICAgICAgXHJcbiAgICB9KTtcclxuICAgIHJldHVybiBlbGVtZW50O1xyXG59XHJcbn1cclxuXHJcbmV4cG9ydCBsZXQgZXZlbnRzOihldmVudEFuZENhbGwgfCBldmVudEFuZENhbGxbXSlbXSA9IFtdO1xyXG5cclxuLyoqXHJcbiAqIEFkZHMgZXZlcnkgaHRtbEVsZW1lbnQgc2FtZSBldmVudHMgbmFkIGNhbGxiYWNrc1xyXG4gKiBAcGFyYW0gaHRtbEVsZW1lbnRzIEhUTUxDb2xsZWN0aW9uXHJcbiAqIEBwYXJhbSBldmVudHMgYXJyYXkgTmFtZSBvZiBldmVudCBhbmQgY2FsbGJhY2sgZnVuY3Rpb25cclxuICovXHJcbmV4cG9ydCBjb25zdCBhZGRMaXN0ZW5lcnNTYW1lID0gKGh0bWxFbGVtZW50czpIVE1MQ29sbGVjdGlvbiwgZXZlbnRzOiBldmVudEFuZENhbGxbXSkgPT4ge1xyXG4gICAvLyBjb25zb2xlLmxvZygnYWRkTGlzdGVuZXJzU2FtZSBsb29wIDAgZnVuZ3VqZScsIGh0bWxFbGVtZW50cy5pdGVtKDApLCBldmVudHMpO1xyXG4gICAgLy9mb3IgZXZlcnkgaHRtbEVsZW1lbnRcclxuICAgIGZvcihjb25zdCBlbGVtZW50IG9mIGh0bWxFbGVtZW50cykge1xyXG4gICAgICAgIC8vY29uc29sZS5sb2coJ2FkZExpc3RlbmVyc1NhbWUgbG9vcCAxIGZ1bmd1amUnKTtcclxuICAgICAgICAvKiBmb3IgZXZlcnkgZXZlbnQgY29uc29sZSAqL1xyXG4gICAgICAgIGV2ZW50cy5mb3JFYWNoKCAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgLy9hZGQgZXZlcnkgY2FsbGJhY2sgZm9yIHRoZSBldmVudFxyXG4gICAgICAgICAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKGV2ZW50Lm5hbWUsIGV2ZW50LmNhbGwpO1xyXG4gICAgICAgICAgIC8vY29uc29sZS5sb2coZWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKCdhZGRMaXN0ZW5lcnNTYW1lIGxvb3AgMiBmdW5ndWplJyxldmVudC5uYW1lLGV2ZW50LmNhbGwpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxufVxyXG4vKipcclxuICogQ3JlYXRlcyBldmVudCBkZWxlZ2F0aW9uXHJcbiAqIEBwYXJhbSBlbGVtZW50IFBhcmVudCBlbGVtZW50LCB0aGF0IHdpbGwgY2F0Y2ggYnViYmxlIHBoYXNlIGFuZCBvbiB3aGljaCB0aGUgZXZlbnRsaXN0ZW5lciBpcyBwbGFjZWQgIFxyXG4gKiBAcGFyYW0gZXZlbnRzIGFycmF5IEluIGV2ZXJ5IGNhbGxiYWNrIGZ1bmN0aW9uIG11c3QgYmUgY29udHJvbCBvZiBldmVudCB0YXJnZXQgdG8gbWFrZSBldmVudCBkZWxlZ2F0aW9uIHdvcmsgcHJvcGVybHlcclxuICovXHJcbmV4cG9ydCBjb25zdCBldkRlbGVnYXRpb24gPSAoZWxlbWVudDpFbGVtZW50LCBldmVudHM6ICAoZXZlbnRBbmRDYWxsIHwgZXZlbnRBbmRDYWxsW10pW10gKTpFbGVtZW50ID0+IHtcclxuICAgIGV2ZW50cy5mb3JFYWNoKCAoZXZlbnQpID0+IHtcclxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShldmVudCkpIHtcclxuICAgICAgICAgICAgLy9yZWt1cnplLCBwb2t1ZCBqZSBuYSBpbmRleHUgcG9sZSwgc3B1c3RpIHNlIGZ1bmtjZSB6bm92dSBuYSB2bml0cm5pIG9iamVrdHkgbmVibyBwb2xlXHJcbiAgICAgICAgICAgIGV2RGVsZWdhdGlvbihlbGVtZW50LCBldmVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCg8ZXZlbnRBbmRDYWxsPmV2ZW50KS5uYW1lLCAoPGV2ZW50QW5kQ2FsbD5ldmVudCkuY2FsbCk7XHJcbiAgICAgICAgXHJcbiAgICB9KTtcclxuICAgIHJldHVybiBlbGVtZW50O1xyXG59XHJcblxyXG5leHBvcnQgY29uc3QgZG9tTG9hZGVkID0gKGh0bWxFbGVtZW50czpIVE1MQ29sbGVjdGlvbiwgZXZlbnRzOiBldmVudEFuZENhbGxbXSkgPT57XHJcbiAgICBjb25zb2xlLmxvZygnZG9tTG9hZGVkIGxvb3AgMCBmdW5ndWplJywgaHRtbEVsZW1lbnRzIClcclxuXHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ2RvbUxvYWRlZCBmdW5ndWplIGxvb3AgMScsIGh0bWxFbGVtZW50cy5sZW5ndGgsIGV2ZW50cyApO1xyXG4gICAgICAgIGFkZExpc3RlbmVyc1NhbWUoaHRtbEVsZW1lbnRzLCBldmVudHMpO1xyXG4gICAgICBcclxuICAgIH0pO1xyXG59XHJcblxyXG4vKiBleHBvcnQgY29uc3QgZXZEZWxlZ2F0aW9uID0gKGVsZW1lbnQ6RWxlbWVudCwgZXZlbnRzOiBldmVudEFuZENhbGwgfCBbXSk6RWxlbWVudCA9PiB7XHJcbiAgICBpZihBcnJheS5pc0FycmF5KGV2ZW50cykpe1xyXG4gICAgICAgIGV2ZW50cy5mb3JFYWNoKCAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vcmVrdXJ6ZSwgcG9rdWQgamUgbmEgaW5kZXh1IHBvbGUsIHNwdXN0aSBzZSBmdW5rY2Ugem5vdnUgbmEgdm5pdHJuaSBvYmpla3R5IG5lYm8gcG9sZVxyXG4gICAgICAgICAgICAgICAgZXZEZWxlZ2F0aW9uKGVsZW1lbnQsIGV2ZW50KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGVsc2V7XHJcbiAgICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoZXZlbnRzKSl7XHJcbiAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKHZhbHVlLCBldmVudC5jYWxsKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZWxlbWVudDtcclxufX0gKi8iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/common/EventListeners.ts\n");

/***/ }),

/***/ "./src/common/StyleToElement.ts":
/*!**************************************!*\
  !*** ./src/common/StyleToElement.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"addInlineStyle\": () => (/* binding */ addInlineStyle)\n/* harmony export */ });\n/**\r\n * Add inline style to a element\r\n * @param htmlElement HtmlElement to style\r\n * @param styles Object with style information for htmlElement\r\n */\r\nconst addInlineStyle = (htmlElement, styles) => {\r\n    for (const [key, value] of Object.entries(styles)) {\r\n        htmlElement.style.setProperty(key, value);\r\n    }\r\n};\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tbW9uL1N0eWxlVG9FbGVtZW50LnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTs7OztHQUlHO0FBQ0gsTUFBTSxjQUFjLEdBQUcsQ0FBQyxXQUF1QixFQUFFLE1BQWEsRUFBUSxFQUFFO0lBQ2hFLEtBQUssTUFBTSxDQUFDLEdBQUcsRUFBRSxLQUFLLENBQUMsSUFBSSxNQUFNLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxFQUFDO1FBQzlDLFdBQVcsQ0FBQyxLQUFLLENBQUMsV0FBVyxDQUFDLEdBQUcsRUFBRSxLQUFLLENBQUMsQ0FBQztLQUM3QztBQUNULENBQUMsQ0FBQztBQUVxQiIsInNvdXJjZXMiOlsid2VicGFjazovL2NvbWljcy1lZGl0b3IvLi9zcmMvY29tbW9uL1N0eWxlVG9FbGVtZW50LnRzPzY3MGYiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIEFkZCBpbmxpbmUgc3R5bGUgdG8gYSBlbGVtZW50XHJcbiAqIEBwYXJhbSBodG1sRWxlbWVudCBIdG1sRWxlbWVudCB0byBzdHlsZVxyXG4gKiBAcGFyYW0gc3R5bGVzIE9iamVjdCB3aXRoIHN0eWxlIGluZm9ybWF0aW9uIGZvciBodG1sRWxlbWVudFxyXG4gKi9cclxuY29uc3QgYWRkSW5saW5lU3R5bGUgPSAoaHRtbEVsZW1lbnQ6SFRNTEVsZW1lbnQsIHN0eWxlczpvYmplY3QpOiB2b2lkID0+e1xyXG4gICAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHN0eWxlcykpe1xyXG4gICAgICAgICAgICBodG1sRWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eShrZXksIHZhbHVlKTtcclxuICAgICAgICB9XHJcbn07XHJcblxyXG5leHBvcnR7YWRkSW5saW5lU3R5bGV9OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/common/StyleToElement.ts\n");

/***/ }),

/***/ "./src/common/error/cError/CError.ts":
/*!*******************************************!*\
  !*** ./src/common/error/cError/CError.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"CError\": () => (/* binding */ CError)\n/* harmony export */ });\nclass CError extends Error {\r\n    constructor(message) {\r\n        super(message);\r\n        this.name = this.constructor.name;\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tbW9uL2Vycm9yL2NFcnJvci9DRXJyb3IudHMuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFPLE1BQU0sTUFBTyxTQUFRLEtBQUs7SUFDN0IsWUFBWSxPQUFjO1FBQ3hCLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUNmLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUM7SUFDcEMsQ0FBQztDQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY29taWNzLWVkaXRvci8uL3NyYy9jb21tb24vZXJyb3IvY0Vycm9yL0NFcnJvci50cz8yMTg1Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjbGFzcyBDRXJyb3IgZXh0ZW5kcyBFcnJvciB7XHJcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlOnN0cmluZykge1xyXG4gICAgICBzdXBlcihtZXNzYWdlKTtcclxuICAgICAgdGhpcy5uYW1lID0gdGhpcy5jb25zdHJ1Y3Rvci5uYW1lO1xyXG4gICAgfVxyXG4gIH0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/common/error/cError/CError.ts\n");

/***/ }),

/***/ "./src/common/error/locStorageError/ExistInLocStorageError.ts":
/*!********************************************************************!*\
  !*** ./src/common/error/locStorageError/ExistInLocStorageError.ts ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ExistInLocStorageError\": () => (/* binding */ ExistInLocStorageError)\n/* harmony export */ });\n/* harmony import */ var _LocStorageError__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./LocStorageError */ \"./src/common/error/locStorageError/LocStorageError.ts\");\n\r\nclass ExistInLocStorageError extends _LocStorageError__WEBPACK_IMPORTED_MODULE_0__.LocStorageError {\r\n    constructor(message, property) {\r\n        super(message);\r\n        this.name = this.constructor.name;\r\n        this.property = property;\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tbW9uL2Vycm9yL2xvY1N0b3JhZ2VFcnJvci9FeGlzdEluTG9jU3RvcmFnZUVycm9yLnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQW9EO0FBRTdDLE1BQU0sc0JBQXVCLFNBQVEsNkRBQWU7SUFJdkQsWUFBWSxPQUFjLEVBQUUsUUFBZTtRQUN6QyxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDZixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDO1FBQ2xDLElBQUksQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFDO0lBQzNCLENBQUM7Q0FDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2NvbWljcy1lZGl0b3IvLi9zcmMvY29tbW9uL2Vycm9yL2xvY1N0b3JhZ2VFcnJvci9FeGlzdEluTG9jU3RvcmFnZUVycm9yLnRzPzhlZGIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTG9jU3RvcmFnZUVycm9yIH0gZnJvbSBcIi4vTG9jU3RvcmFnZUVycm9yXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgRXhpc3RJbkxvY1N0b3JhZ2VFcnJvciBleHRlbmRzIExvY1N0b3JhZ2VFcnJvciB7XHJcblxyXG4gICAgcHJvcGVydHk6IHN0cmluZztcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlOnN0cmluZywgcHJvcGVydHk6c3RyaW5nKSB7XHJcbiAgICAgIHN1cGVyKG1lc3NhZ2UpO1xyXG4gICAgICB0aGlzLm5hbWUgPSB0aGlzLmNvbnN0cnVjdG9yLm5hbWU7XHJcbiAgICAgIHRoaXMucHJvcGVydHkgPSBwcm9wZXJ0eTtcclxuICAgIH1cclxuICB9Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/common/error/locStorageError/ExistInLocStorageError.ts\n");

/***/ }),

/***/ "./src/common/error/locStorageError/LocStorageError.ts":
/*!*************************************************************!*\
  !*** ./src/common/error/locStorageError/LocStorageError.ts ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"LocStorageError\": () => (/* binding */ LocStorageError)\n/* harmony export */ });\n/* harmony import */ var _cError_CError__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../cError/CError */ \"./src/common/error/cError/CError.ts\");\n\r\nclass LocStorageError extends _cError_CError__WEBPACK_IMPORTED_MODULE_0__.CError {\r\n    constructor(message) {\r\n        super(message);\r\n        this.name = this.constructor.name;\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tbW9uL2Vycm9yL2xvY1N0b3JhZ2VFcnJvci9Mb2NTdG9yYWdlRXJyb3IudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBMEM7QUFFbkMsTUFBTSxlQUFnQixTQUFRLGtEQUFNO0lBQ3ZDLFlBQVksT0FBYztRQUN4QixLQUFLLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDZixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDO0lBQ3BDLENBQUM7Q0FDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2NvbWljcy1lZGl0b3IvLi9zcmMvY29tbW9uL2Vycm9yL2xvY1N0b3JhZ2VFcnJvci9Mb2NTdG9yYWdlRXJyb3IudHM/NThlZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDRXJyb3IgfSBmcm9tIFwiLi4vY0Vycm9yL0NFcnJvclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIExvY1N0b3JhZ2VFcnJvciBleHRlbmRzIENFcnJvciB7XHJcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlOnN0cmluZykge1xyXG4gICAgICBzdXBlcihtZXNzYWdlKTtcclxuICAgICAgdGhpcy5uYW1lID0gdGhpcy5jb25zdHJ1Y3Rvci5uYW1lO1xyXG4gICAgfVxyXG4gIH0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/common/error/locStorageError/LocStorageError.ts\n");

/***/ }),

/***/ "./src/common/inputGetter/InputGetter.ts":
/*!***********************************************!*\
  !*** ./src/common/inputGetter/InputGetter.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"InputGetter\": () => (/* binding */ InputGetter)\n/* harmony export */ });\nclass InputGetter {\r\n    /**\r\n     * Gets input name and value from checked inputs\r\n     * @param formId\r\n     * @returns\r\n     */\r\n    static getChckInpdVls(formId) {\r\n        const inputs = document.querySelectorAll(`${formId} input`);\r\n        let presets = [];\r\n        inputs.forEach((input) => {\r\n            if (input.checked) {\r\n                presets.push({ name: input.name, value: input.value });\r\n            }\r\n        });\r\n        return presets;\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tbW9uL2lucHV0R2V0dGVyL0lucHV0R2V0dGVyLnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFFTyxNQUFNLFdBQVc7SUFDcEI7Ozs7T0FJRztJQUNILE1BQU0sQ0FBQyxjQUFjLENBQUMsTUFBYTtRQUMvQixNQUFNLE1BQU0sR0FBaUMsUUFBUSxDQUFDLGdCQUFnQixDQUFDLEdBQUcsTUFBTSxRQUFRLENBQUMsQ0FBQztRQUMxRixJQUFJLE9BQU8sR0FBZ0IsRUFBRSxDQUFDO1FBQzlCLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQyxLQUFLLEVBQUUsRUFBRTtZQUNyQixJQUFJLEtBQUssQ0FBQyxPQUFPLEVBQUU7Z0JBQ2YsT0FBTyxDQUFDLElBQUksQ0FBQyxFQUFDLElBQUksRUFBRyxLQUFLLENBQUMsSUFBSSxFQUFFLEtBQUssRUFBRyxLQUFLLENBQUMsS0FBSyxFQUFDLENBQUMsQ0FBQzthQUMxRDtRQUNMLENBQUMsQ0FBQyxDQUFDO1FBRUgsT0FBTyxPQUFPLENBQUM7SUFDbkIsQ0FBQztDQUNKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY29taWNzLWVkaXRvci8uL3NyYy9jb21tb24vaW5wdXRHZXR0ZXIvSW5wdXRHZXR0ZXIudHM/NzQ1ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBuYW1lVmFsdWUgfSBmcm9tIFwiLi9vYmplY3RJbnRlcmZhY2VzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgSW5wdXRHZXR0ZXIge1xyXG4gICAgLyoqXHJcbiAgICAgKiBHZXRzIGlucHV0IG5hbWUgYW5kIHZhbHVlIGZyb20gY2hlY2tlZCBpbnB1dHNcclxuICAgICAqIEBwYXJhbSBmb3JtSWQgXHJcbiAgICAgKiBAcmV0dXJucyBcclxuICAgICAqL1xyXG4gICAgc3RhdGljIGdldENoY2tJbnBkVmxzKGZvcm1JZDpzdHJpbmcgKXtcclxuICAgICAgICBjb25zdCBpbnB1dHMgPSA8Tm9kZUxpc3RPZjxIVE1MSW5wdXRFbGVtZW50Pj5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGAke2Zvcm1JZH0gaW5wdXRgKTtcclxuICAgICAgICBsZXQgcHJlc2V0czogbmFtZVZhbHVlW10gPSBbXTtcclxuICAgICAgICBpbnB1dHMuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuICAgICAgICAgICAgaWYgKGlucHV0LmNoZWNrZWQpIHtcclxuICAgICAgICAgICAgICAgIHByZXNldHMucHVzaCh7bmFtZSA6IGlucHV0Lm5hbWUsIHZhbHVlIDogaW5wdXQudmFsdWV9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gcHJlc2V0cztcclxuICAgIH1cclxufSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/common/inputGetter/InputGetter.ts\n");

/***/ }),

/***/ "./src/common/localStorage/LocStorage.ts":
/*!***********************************************!*\
  !*** ./src/common/localStorage/LocStorage.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"LocStorage\": () => (/* binding */ LocStorage)\n/* harmony export */ });\n/* harmony import */ var _editor_editorComponents_item_itemMenu_ItemMenu__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../editor/editorComponents/item/itemMenu/ItemMenu */ \"./src/editor/editorComponents/item/itemMenu/ItemMenu.ts\");\n/* harmony import */ var _error_locStorageError_ExistInLocStorageError__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../error/locStorageError/ExistInLocStorageError */ \"./src/common/error/locStorageError/ExistInLocStorageError.ts\");\n\r\n\r\nlet debug = false;\r\nclass LocStorage {\r\n    /**\r\n     * Returns data object from local storage, if there is none, create one with empty categories\r\n     * @param itemName Item name to find data object\r\n     * @returns object Data object from local storage\r\n     */\r\n    static getItem(itemName) {\r\n        const itemDataString = localStorage.getItem(itemName);\r\n        if (itemDataString) {\r\n            const itemDataObj = JSON.parse(itemDataString);\r\n            return itemDataObj;\r\n        }\r\n        else {\r\n            return null;\r\n        }\r\n    }\r\n    /**\r\n     * Returns data object from local storage, if there is none, create one with empty categories\r\n     * @param itemName Item name to find data object\r\n     * @returns object Data object from local storage\r\n     */\r\n    static getItems(itemName) {\r\n        const itemDataString = localStorage.getItem(itemName);\r\n        if (itemDataString) {\r\n            const itemDataObj = JSON.parse(itemDataString);\r\n            return itemDataObj;\r\n        }\r\n        else {\r\n            const items = { items: [] };\r\n            LocStorage.setItem('items', items);\r\n            return items;\r\n        }\r\n    }\r\n    /**\r\n     *\r\n     * @param items\r\n     * @param ctgrId\r\n     * @returns\r\n     */\r\n    static getCtgr(items, ctgrId) {\r\n        for (const item of items.items) {\r\n            if (item.id === ctgrId) {\r\n                return item;\r\n            }\r\n        }\r\n        throw new _error_locStorageError_ExistInLocStorageError__WEBPACK_IMPORTED_MODULE_1__.ExistInLocStorageError(\"Does not exist in local storage:\", `item.id:${ctgrId}`);\r\n    }\r\n    /**\r\n     * Save new item into localStorage: Make from newDataObject string and save under itemName\r\n     * @param itemName\r\n     * @param newDataObj\r\n     */\r\n    static setItem(itemName, newDataObj) {\r\n        const itemDataString = JSON.stringify(newDataObj);\r\n        localStorage.setItem(itemName, itemDataString);\r\n    }\r\n    /**\r\n     * Creates new item Id\r\n     * @returns\r\n     */\r\n    static crtNewItemId() {\r\n        return `item_${Date.now()}`;\r\n    }\r\n    /**\r\n     * Save flexbox classes flexDrctn and width from input option\r\n     * @param presets Input option\r\n     * @param classes Class object of box item\r\n     */\r\n    static saveFbInptClasOptn(presets, classes) {\r\n        presets.forEach(preset => {\r\n            if (preset.name === _editor_editorComponents_item_itemMenu_ItemMenu__WEBPACK_IMPORTED_MODULE_0__.ItemMenu.flexDrctn) {\r\n                classes.flexDrctn.push(preset.value);\r\n            }\r\n            else if (preset.name === _editor_editorComponents_item_itemMenu_ItemMenu__WEBPACK_IMPORTED_MODULE_0__.ItemMenu.width) {\r\n                classes.grow.push(preset.value);\r\n            }\r\n        });\r\n    }\r\n    static updateItemObj(itemName, newValues) {\r\n        const itemDataString = localStorage.getItem(itemName);\r\n        if (itemDataString) {\r\n            const oldDataObj = JSON.parse(itemDataString);\r\n            const newDataObj = Object.assign(Object.assign({}, oldDataObj), newValues);\r\n            const newDataString = JSON.stringify(newDataObj);\r\n            localStorage.setItem(itemName, newDataString);\r\n        }\r\n    }\r\n    static existCtgrSubItems(itemName, ctgrId) {\r\n        const itemObjectString = localStorage.getItem(itemName);\r\n        if (!itemObjectString)\r\n            return null;\r\n        else {\r\n            const itemObj = JSON.parse(itemObjectString);\r\n            for (const item of itemObj.items) {\r\n                if (item.id === ctgrId) {\r\n                    const category = item;\r\n                    if (category) {\r\n                        if (category.subItems) {\r\n                            if (Array.isArray(category.subItems) && !category.subItems.length) {\r\n                                console.log(`category ${ctgrId}. subitems does not exist`);\r\n                                return null;\r\n                            }\r\n                            else if (Array.isArray(category.subItems) && category.subItems.length) {\r\n                                console.log(`category ${ctgrId}.subItems exists`);\r\n                                return true;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * Counts recursively number of items in a ctgrId and returns this number\r\n     * @param items\r\n     * @returns\r\n     */\r\n    static countSubItems(items) {\r\n        let number = 0;\r\n        items.forEach(item => {\r\n            number = number + 1;\r\n            if (item.subItems) {\r\n                number = number + this.countSubItems(item.subItems);\r\n            }\r\n            ;\r\n        });\r\n        return number;\r\n    }\r\n    /**\r\n     *\r\n     * In localStorage adds new item at the end of the ctgrId\r\n     * @param items\r\n     * @param categoryClass\r\n     * @param item\r\n     */\r\n    static pushNewItem(items, ctgrId, newItem) {\r\n        let result = false;\r\n        if (!items) {\r\n            console.log('items = undefined in fnc LocStorage.pushNewItem');\r\n            return result;\r\n        }\r\n        else {\r\n            items.forEach(item => {\r\n                if (item.id === ctgrId) {\r\n                    if (!item.subItems) {\r\n                        item.subItems = [newItem];\r\n                        result = true;\r\n                    }\r\n                    else {\r\n                        item.subItems.push(newItem);\r\n                        result = true;\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        return result;\r\n    }\r\n    /**\r\n     *\r\n     * @param categoryItems items[ctgrId]\r\n     * @param idOfSearchedItem triggerId\r\n     */\r\n    static pushItemInSubItems(categoryItems, idOfSearchedItem, newItem) {\r\n        let result = false;\r\n        if (!categoryItems) {\r\n            console.log('Item.subitems = undefined in fnc LocStorage.pushItemInSubItems');\r\n            return result;\r\n        }\r\n        else {\r\n            //to break the loop use for...of loop\r\n            for (let index = 0; index < categoryItems.length; index++) {\r\n                if (categoryItems[index].id === idOfSearchedItem) {\r\n                    //ulozeni nového itemu za hledaný item\r\n                    if (categoryItems[index].subItems) {\r\n                        categoryItems[index].subItems.push(newItem);\r\n                        result = true;\r\n                    }\r\n                    else {\r\n                        categoryItems[index].subItems = [newItem];\r\n                        result = true;\r\n                    }\r\n                    break;\r\n                }\r\n                else if (categoryItems[index].subItems) { //pokud NEJSOU subItemy       \r\n                    result = this.pushItemInSubItems(categoryItems[index].subItems, idOfSearchedItem, newItem);\r\n                }\r\n            }\r\n            ;\r\n        }\r\n        return result;\r\n    }\r\n    /**\r\n     *\r\n     * @param categoryItems items[ctgrId]\r\n     * @param idOfSearchedItem triggerId\r\n     */\r\n    static placeItemBhndItem(categoryItems, idOfSearchedItem, newItem) {\r\n        let result = false;\r\n        if (!categoryItems) {\r\n            console.log('Item.subitems = undefined in fnc LocStorage.placeItemBhndItem');\r\n            return result;\r\n        }\r\n        else {\r\n            //to break the loop use for...of loop\r\n            for (let index = 0; index < categoryItems.length; index++) {\r\n                if (categoryItems[index].id === idOfSearchedItem) {\r\n                    //ulozeni nového itemu za hledaný item\r\n                    categoryItems.splice(index + 1, 0, newItem);\r\n                    result = true;\r\n                    break;\r\n                }\r\n                else if (categoryItems[index].subItems) { //pokud NEJSOU subItemy       \r\n                    result = this.placeItemBhndItem(categoryItems[index].subItems, idOfSearchedItem, newItem);\r\n                }\r\n                else {\r\n                    console.log('Item.subitems = undefined in fnc LocStorage.placeItemBhndItem');\r\n                }\r\n            }\r\n            ;\r\n        }\r\n        return result;\r\n    }\r\n    /**\r\n     * Removes triggerData\r\n     * @param categoryItems items[ctgrId]\r\n     * @param idOfSearchedItem triggerId\r\n     */\r\n    static rmvItem(categoryItems, idOfSearchedItem) {\r\n        let result = false;\r\n        if (!categoryItems) {\r\n            console.log('Item.subitems = undefined in fnc LocStorage.rmvItem');\r\n            return result;\r\n        }\r\n        else {\r\n            //to break the loop use for...of loop\r\n            for (let index = 0; index < categoryItems.length; index++) {\r\n                if (categoryItems[index].id === idOfSearchedItem) {\r\n                    //ulozeni objektu hledaneho itemu\r\n                    categoryItems.splice(index, 1);\r\n                    result = true;\r\n                    break;\r\n                }\r\n                else if (categoryItems[index].subItems) { //pokud NEJSOU subItemy \r\n                    let subItems = categoryItems[index].subItems;\r\n                    result = this.rmvItem(subItems, idOfSearchedItem);\r\n                }\r\n                else {\r\n                    console.log('Item.subitems = undefined in fnc LocStorage.rmvItem');\r\n                }\r\n            }\r\n            ;\r\n        }\r\n        return result;\r\n    }\r\n    /**\r\n     * Returns triggerData\r\n     * @param categoryItems items[ctgrId]\r\n     * @param idOfSearchedItem triggerId\r\n     */\r\n    static findItem(categoryItems, idOfSearchedItem) {\r\n        let searchedItem = {};\r\n        if (!categoryItems) {\r\n            console.log('Item.subitems = undefined in fnc LocStorage.findItem');\r\n            return searchedItem = null;\r\n        }\r\n        else {\r\n            //to break the loop use for...of loop\r\n            for (const item of categoryItems) {\r\n                if (item.id === idOfSearchedItem) {\r\n                    //ulozeni objektu hledaneho itemu\r\n                    searchedItem = item;\r\n                    break;\r\n                }\r\n                else if (item.subItems) { //pokud NEJSOU subItemy       \r\n                    searchedItem = this.findItem(item.subItems, idOfSearchedItem);\r\n                }\r\n            }\r\n            ;\r\n            return searchedItem;\r\n        }\r\n    }\r\n    /**\r\n     * Replaces trigger with trigger subitems when parent is item\r\n     * @param categoryItems items[ctgrId]\r\n     * @param idOfSearchedItem triggerId\r\n     */\r\n    static rplcTrggrWTrggrSubItems(categoryItems, searchedItemPrntId, searchedItemId) {\r\n        let result = false;\r\n        if (!categoryItems) {\r\n            console.log('Item.subitems = undefined in fnc LocStorage.rplcTrggrWTrggrSubItems');\r\n            return result = false;\r\n        }\r\n        else {\r\n            //to break the loop use for...of loop\r\n            for (const item of categoryItems) {\r\n                //hledani rodice triggeru\r\n                if (item.id === searchedItemPrntId) {\r\n                    //ulozeni objektu hledaneho itemu\r\n                    let parrent = item;\r\n                    let searchedItemSubItems = [];\r\n                    if (parrent.subItems) {\r\n                        for (let i = 0; i < parrent.subItems.length; i++) {\r\n                            //nalezeni pozice hledaneho itemu v rodici\r\n                            if (parrent.subItems[i].id === searchedItemId) {\r\n                                // pokud je hledany item nalezen v rodici a ma nejake subItemy, uloz subItemy hledaneho itemu,vloz je do subItemu rodice a odstran hledany subItem\r\n                                if (parrent.subItems[i].subItems) {\r\n                                    searchedItemSubItems = parrent.subItems[i].subItems;\r\n                                    console.log('asi odstraneno');\r\n                                    parrent.subItems.splice(i, 1, ...searchedItemSubItems);\r\n                                    return result = true;\r\n                                }\r\n                                else {\r\n                                    parrent.subItems.splice(i, 1);\r\n                                    return result = true;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                else if (item.subItems) { //pokud JSOU subItemy       \r\n                    result = this.rplcTrggrWTrggrSubItems(item.subItems, searchedItemPrntId, searchedItemId);\r\n                }\r\n                else {\r\n                    console.log('Item.subitems = undefined in fnc LocStorage.rplcTrggrWTrggrSubItems');\r\n                    result = false;\r\n                }\r\n            }\r\n            ;\r\n        }\r\n        return result;\r\n    }\r\n    /**\r\n    * Replaces trigger with trigger subitems when parent is main container\r\n    * @param categoryItems items[ctgrId]\r\n    * @param idOfSearchedItem triggerId\r\n    */\r\n    static rplcTrggrWTrggrSubItemsInMain(categoryItems, searchedItemId) {\r\n        let result = false;\r\n        if (!categoryItems) {\r\n            console.log('Item.subitems = undefined in fnc LocStorage.rmvItem');\r\n            return result = false;\r\n        }\r\n        else {\r\n            //to break the loop use for...of loop\r\n            for (let i = 0; i < categoryItems.length; i++) {\r\n                if (categoryItems[i].id === searchedItemId) {\r\n                    //ulozeni objektu hledaneho itemu\r\n                    let searchedItem = categoryItems[i];\r\n                    if (searchedItem.subItems) {\r\n                        categoryItems.splice(i, 1, ...searchedItem.subItems);\r\n                        return result = true;\r\n                    }\r\n                    else {\r\n                        categoryItems.splice(i, 1);\r\n                        return result = true;\r\n                    }\r\n                }\r\n            }\r\n            ;\r\n        }\r\n        return result;\r\n    }\r\n    /**\r\n     * Finds trigger item in category and and push newItem in its subItems\r\n     * @param itemsInCtgr\r\n     * @param triggerId\r\n     * @param newItem\r\n     */\r\n    static pasteItemInSubAccordingId(itemsInCtgr, triggerId, newItem) {\r\n        let result = false;\r\n        if (!itemsInCtgr) {\r\n            console.log('Item.subitems = undefined in fnc ImageItem.pasteItemInSubAccordingId');\r\n            return result;\r\n        }\r\n        else {\r\n            itemsInCtgr.forEach((item, index, arrayItself) => {\r\n                if (item.id === triggerId) {\r\n                    if (!arrayItself[index].subItems) {\r\n                        arrayItself[index].subItems = [newItem];\r\n                        result = true;\r\n                    }\r\n                    else {\r\n                        arrayItself[index].subItems.push(newItem);\r\n                        result = true;\r\n                    }\r\n                    return;\r\n                }\r\n                else if (item.subItems) {\r\n                    result = this.pasteItemInSubAccordingId(item.subItems, triggerId, newItem);\r\n                }\r\n                else {\r\n                    console.log('Item.subitems = undefined in fnc ImageItem.pasteItemInSubAccordingId');\r\n                }\r\n            });\r\n        }\r\n        return result;\r\n    }\r\n    /**\r\n     * Saves width in property inlStyle of item\r\n     * @param item\r\n     * @param width\r\n     */\r\n    static saveInlStylWidth(item, width) {\r\n        if (item.inlStyl) {\r\n            item.inlStyl.width = width.toString();\r\n        }\r\n        else {\r\n            item.inlStyl = { width: width.toString() };\r\n        }\r\n    }\r\n    /**\r\n     * Saves height in property inlStyle of item\r\n     * @param item\r\n     * @param height\r\n     */\r\n    static saveInlStylHeight(item, height) {\r\n        if (item.inlStyl) {\r\n            item.inlStyl.height = height.toString();\r\n        }\r\n        else {\r\n            item.inlStyl = { height: height.toString() };\r\n        }\r\n    }\r\n    static upgrItem(categoryItems, idOfSearchedItem, upgradedItem) {\r\n        let result = false;\r\n        if (!categoryItems) {\r\n            console.log('Item.subitems = undefined in fnc LocStorage.upgrItem');\r\n            return result = false;\r\n        }\r\n        else {\r\n            //to break the loop use for...of loop\r\n            for (let item of categoryItems) {\r\n                if (item.id === idOfSearchedItem) {\r\n                    //ulozeni objektu hledaneho itemu\r\n                    item = upgradedItem;\r\n                    result = true;\r\n                    break;\r\n                }\r\n                else if (item.subItems) { //pokud NEJSOU subItemy       \r\n                    result = this.upgrItem(item.subItems, idOfSearchedItem, upgradedItem);\r\n                }\r\n                else {\r\n                    result = false;\r\n                }\r\n            }\r\n            ;\r\n            return result;\r\n        }\r\n    }\r\n}\r\nLocStorage.dimensions = [\r\n    'a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'l'\r\n];\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tbW9uL2xvY2FsU3RvcmFnZS9Mb2NTdG9yYWdlLnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFnRjtBQUVTO0FBU3pGLElBQUksS0FBSyxHQUFHLEtBQUssQ0FBQztBQUVYLE1BQU0sVUFBVTtJQU1uQjs7OztPQUlHO0lBQ0osTUFBTSxDQUFDLE9BQU8sQ0FBRSxRQUFlO1FBQzFCLE1BQU0sY0FBYyxHQUFHLFlBQVksQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDdEQsSUFBSSxjQUFjLEVBQUM7WUFDZixNQUFNLFdBQVcsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLGNBQWMsQ0FBQyxDQUFDO1lBQy9DLE9BQU8sV0FBVyxDQUFDO1NBQ3RCO2FBQ0k7WUFDRCxPQUFPLElBQUksQ0FBQztTQUNmO0lBQ0wsQ0FBQztJQUNEOzs7O09BSUc7SUFDSixNQUFNLENBQUMsUUFBUSxDQUFDLFFBQWU7UUFDMUIsTUFBTSxjQUFjLEdBQUcsWUFBWSxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUN0RCxJQUFJLGNBQWMsRUFBQztZQUNmLE1BQU0sV0FBVyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsY0FBYyxDQUFDLENBQUM7WUFDL0MsT0FBYyxXQUFXLENBQUM7U0FDN0I7YUFDSTtZQUNELE1BQU0sS0FBSyxHQUFVLEVBQUMsS0FBSyxFQUFFLEVBQUUsRUFBQyxDQUFDO1lBQ2pDLFVBQVUsQ0FBQyxPQUFPLENBQUMsT0FBTyxFQUFFLEtBQUssQ0FBQyxDQUFDO1lBQ25DLE9BQU8sS0FBSyxDQUFDO1NBQ2hCO0lBQ0wsQ0FBQztJQUVEOzs7OztPQUtHO0lBQ0gsTUFBTSxDQUFDLE9BQU8sQ0FBQyxLQUFXLEVBQUUsTUFBYTtRQUVyQyxLQUFLLE1BQU0sSUFBSSxJQUFJLEtBQUssQ0FBQyxLQUFLLEVBQUU7WUFDNUIsSUFBSSxJQUFJLENBQUMsRUFBRSxLQUFLLE1BQU0sRUFBRTtnQkFDcEIsT0FBTyxJQUFJO2FBQ2Q7U0FDSjtRQUNE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QUNyQyxLQUFLLElBQUksSUFBSSxJQUFJLGFBQWEsRUFBRTtnQkFDNUIsSUFBRyxJQUFJLENBQUMsRUFBRSxLQUFLLGdCQUFnQixFQUFDO29CQUM1QixpQ0FBaUM7b0JBQ2pDLElBQUksR0FBRyxZQUFZLENBQUM7b0JBQ3BCLE1BQU0sR0FBRyxJQUFJO29CQUNiLE1BQU07aUJBQ1Q7cUJBQ0ksSUFBSSxJQUFJLENBQUMsUUFBUSxFQUFDLEVBQUMsOEJBQThCO29CQUNsRCxNQUFNLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLGdCQUFnQixFQUFFLFlBQVksQ0FBQyxDQUFDO2lCQUN6RTtxQkFDRztvQkFDQSxNQUFNLEdBQUcsS0FBSyxDQUFDO2lCQUNsQjthQUNKO1lBQUEsQ0FBQztZQUNGLE9BQU8sTUFBTSxDQUFDO1NBQ2pCO0lBQ0wsQ0FBQzs7QUFyZE0scUJBQVUsR0FBVztJQUN4QixHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHO0NBQ25ELENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jb21pY3MtZWRpdG9yLy4vc3JjL2NvbW1vbi9sb2NhbFN0b3JhZ2UvTG9jU3RvcmFnZS50cz8wZTc1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEl0ZW1NZW51IH0gZnJvbSBcIi4uLy4uL2VkaXRvci9lZGl0b3JDb21wb25lbnRzL2l0ZW0vaXRlbU1lbnUvSXRlbU1lbnVcIjtcclxuaW1wb3J0IHsgY3RncklkIH0gZnJvbSBcIi4uLy4uL2VkaXRvci9lZGl0b3JUeXBlc1wiO1xyXG5pbXBvcnQgeyBFeGlzdEluTG9jU3RvcmFnZUVycm9yIH0gZnJvbSBcIi4uL2Vycm9yL2xvY1N0b3JhZ2VFcnJvci9FeGlzdEluTG9jU3RvcmFnZUVycm9yXCI7XHJcbmltcG9ydCB7IG5hbWVWYWx1ZSB9IGZyb20gXCIuLi9pbnB1dEdldHRlci9vYmplY3RJbnRlcmZhY2VzXCI7XHJcbmltcG9ydCB7IGJveEl0ZW1DbGFzcywgaXRlbSwgaXRlbXMgfSBmcm9tIFwiLi9zdG9yYWdlSW50ZXJmYWNlc1wiO1xyXG5cclxuaW50ZXJmYWNlIEltZ0RhdGF7XHJcbiAgICBpbWc6c3RyaW5nLFxyXG4gICAgY29udGFpbmVyOnN0cmluZ1xyXG59XHJcblxyXG5sZXQgZGVidWcgPSBmYWxzZTtcclxuXHJcbmV4cG9ydCBjbGFzcyBMb2NTdG9yYWdle1xyXG5cclxuICAgIHN0YXRpYyBkaW1lbnNpb25zOnN0cmluZ1tdPSBbXHJcbiAgICAgICAgJ2EnLCAnYicsICdjJywgJ2QnLCAnZScsICdmJywgJ2cnLCAnaCcsICdpJywgJ2wnIFxyXG4gICAgXTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgZGF0YSBvYmplY3QgZnJvbSBsb2NhbCBzdG9yYWdlLCBpZiB0aGVyZSBpcyBub25lLCBjcmVhdGUgb25lIHdpdGggZW1wdHkgY2F0ZWdvcmllc1xyXG4gICAgICogQHBhcmFtIGl0ZW1OYW1lIEl0ZW0gbmFtZSB0byBmaW5kIGRhdGEgb2JqZWN0XHJcbiAgICAgKiBAcmV0dXJucyBvYmplY3QgRGF0YSBvYmplY3QgZnJvbSBsb2NhbCBzdG9yYWdlXHJcbiAgICAgKi9cclxuICAgc3RhdGljIGdldEl0ZW0oIGl0ZW1OYW1lOnN0cmluZyl7XHJcbiAgICAgICAgY29uc3QgaXRlbURhdGFTdHJpbmcgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShpdGVtTmFtZSk7XHJcbiAgICAgICAgaWYgKGl0ZW1EYXRhU3RyaW5nKXtcclxuICAgICAgICAgICAgY29uc3QgaXRlbURhdGFPYmogPSBKU09OLnBhcnNlKGl0ZW1EYXRhU3RyaW5nKTtcclxuICAgICAgICAgICAgcmV0dXJuIGl0ZW1EYXRhT2JqO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGRhdGEgb2JqZWN0IGZyb20gbG9jYWwgc3RvcmFnZSwgaWYgdGhlcmUgaXMgbm9uZSwgY3JlYXRlIG9uZSB3aXRoIGVtcHR5IGNhdGVnb3JpZXNcclxuICAgICAqIEBwYXJhbSBpdGVtTmFtZSBJdGVtIG5hbWUgdG8gZmluZCBkYXRhIG9iamVjdFxyXG4gICAgICogQHJldHVybnMgb2JqZWN0IERhdGEgb2JqZWN0IGZyb20gbG9jYWwgc3RvcmFnZVxyXG4gICAgICovXHJcbiAgIHN0YXRpYyBnZXRJdGVtcyhpdGVtTmFtZTpzdHJpbmcpe1xyXG4gICAgICAgIGNvbnN0IGl0ZW1EYXRhU3RyaW5nID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oaXRlbU5hbWUpO1xyXG4gICAgICAgIGlmIChpdGVtRGF0YVN0cmluZyl7XHJcbiAgICAgICAgICAgIGNvbnN0IGl0ZW1EYXRhT2JqID0gSlNPTi5wYXJzZShpdGVtRGF0YVN0cmluZyk7XHJcbiAgICAgICAgICAgIHJldHVybiA8aXRlbXM+aXRlbURhdGFPYmo7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zdCBpdGVtczogaXRlbXMgPSB7aXRlbXM6IFtdfTtcclxuICAgICAgICAgICAgTG9jU3RvcmFnZS5zZXRJdGVtKCdpdGVtcycsIGl0ZW1zKTtcclxuICAgICAgICAgICAgcmV0dXJuIGl0ZW1zO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgLyoqXHJcbiAgICAgKiBcclxuICAgICAqIEBwYXJhbSBpdGVtcyBcclxuICAgICAqIEBwYXJhbSBjdGdySWQgXHJcbiAgICAgKiBAcmV0dXJucyBcclxuICAgICAqL1xyXG4gICAgc3RhdGljIGdldEN0Z3IoaXRlbXM6aXRlbXMsIGN0Z3JJZDpjdGdySWQpe1xyXG4gICAgICAgIFxyXG4gICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBpdGVtcy5pdGVtcykge1xyXG4gICAgICAgICAgICBpZiAoaXRlbS5pZCA9PT0gY3RncklkKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaXRlbVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRocm93IG5ldyBFeGlzdEluTG9jU3RvcmFnZUVycm9yKFwiRG9lcyBub3QgZXhpc3QgaW4gbG9jYWwgc3RvcmFnZTpcIiwgYGl0ZW0uaWQ6JHtjdGdySWR9YCk7XHJcbiAgICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTYXZlIG5ldyBpdGVtIGludG8gbG9jYWxTdG9yYWdlOiBNYWtlIGZyb20gbmV3RGF0YU9iamVjdCBzdHJpbmcgYW5kIHNhdmUgdW5kZXIgaXRlbU5hbWVcclxuICAgICAqIEBwYXJhbSBpdGVtTmFtZSBcclxuICAgICAqIEBwYXJhbSBuZXdEYXRhT2JqIFxyXG4gICAgICovXHJcbiAgIHN0YXRpYyBzZXRJdGVtKGl0ZW1OYW1lOnN0cmluZywgbmV3RGF0YU9iajpvYmplY3QpOnZvaWR7XHJcbiAgICAgICAgY29uc3QgaXRlbURhdGFTdHJpbmcgPSBKU09OLnN0cmluZ2lmeShuZXdEYXRhT2JqKTtcclxuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShpdGVtTmFtZSwgaXRlbURhdGFTdHJpbmcpO1xyXG4gICAgfSAgXHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZXMgbmV3IGl0ZW0gSWRcclxuICAgICAqIEByZXR1cm5zIFxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgY3J0TmV3SXRlbUlkKCl7XHJcbiAgICAgICAgcmV0dXJuIGBpdGVtXyR7RGF0ZS5ub3coKX1gO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2F2ZSBmbGV4Ym94IGNsYXNzZXMgZmxleERyY3RuIGFuZCB3aWR0aCBmcm9tIGlucHV0IG9wdGlvblxyXG4gICAgICogQHBhcmFtIHByZXNldHMgSW5wdXQgb3B0aW9uXHJcbiAgICAgKiBAcGFyYW0gY2xhc3NlcyBDbGFzcyBvYmplY3Qgb2YgYm94IGl0ZW1cclxuICAgICAqL1xyXG4gICAgc3RhdGljIHNhdmVGYklucHRDbGFzT3B0bihwcmVzZXRzOm5hbWVWYWx1ZVtdLCBjbGFzc2VzOmJveEl0ZW1DbGFzcyl7XHJcbiAgICAgICAgcHJlc2V0cy5mb3JFYWNoKHByZXNldCA9PiB7XHJcbiAgICAgICAgICAgIGlmIChwcmVzZXQubmFtZSA9PT0gSXRlbU1lbnUuZmxleERyY3RuKSB7XHJcbiAgICAgICAgICAgICAgICBjbGFzc2VzLmZsZXhEcmN0bi5wdXNoKHByZXNldC52YWx1ZSk7IFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYocHJlc2V0Lm5hbWUgPT09IEl0ZW1NZW51LndpZHRoKXtcclxuICAgICAgICAgICAgICAgIGNsYXNzZXMuZ3Jvdy5wdXNoKHByZXNldC52YWx1ZSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgIHN0YXRpYyB1cGRhdGVJdGVtT2JqKGl0ZW1OYW1lOnN0cmluZywgbmV3VmFsdWVzOm9iamVjdCl7XHJcbiAgICAgICAgY29uc3QgaXRlbURhdGFTdHJpbmcgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShpdGVtTmFtZSk7XHJcbiAgICAgICAgaWYgKGl0ZW1EYXRhU3RyaW5nKXtcclxuICAgICAgICAgICAgY29uc3Qgb2xkRGF0YU9iaiA9IEpTT04ucGFyc2UoaXRlbURhdGFTdHJpbmcpO1xyXG4gICAgICAgICAgICBjb25zdCBuZXdEYXRhT2JqID0gey4uLm9sZERhdGFPYmosLi4ubmV3VmFsdWVzfTtcclxuICAgICAgICAgICAgY29uc3QgbmV3RGF0YVN0cmluZyA9IEpTT04uc3RyaW5naWZ5KG5ld0RhdGFPYmopO1xyXG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShpdGVtTmFtZSwgbmV3RGF0YVN0cmluZyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBleGlzdEN0Z3JTdWJJdGVtcyhpdGVtTmFtZTpzdHJpbmcsIGN0Z3JJZDpjdGdySWQpe1xyXG5cclxuICAgICAgICBjb25zdCBpdGVtT2JqZWN0U3RyaW5nID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oaXRlbU5hbWUpO1xyXG4gICAgICAgIGlmICghaXRlbU9iamVjdFN0cmluZylcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGl0ZW1PYmogPSBKU09OLnBhcnNlKGl0ZW1PYmplY3RTdHJpbmcpO1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgaXRlbU9iai5pdGVtcykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0uaWQgPT09IGN0Z3JJZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhdGVnb3J5ID0gaXRlbTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2F0ZWdvcnkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhdGVnb3J5LnN1Ykl0ZW1zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihBcnJheS5pc0FycmF5KGNhdGVnb3J5LnN1Ykl0ZW1zKSAmJiAhY2F0ZWdvcnkuc3ViSXRlbXMubGVuZ3RoKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyggYGNhdGVnb3J5ICR7Y3RncklkfS4gc3ViaXRlbXMgZG9lcyBub3QgZXhpc3RgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYoQXJyYXkuaXNBcnJheShjYXRlZ29yeS5zdWJJdGVtcykgJiYgY2F0ZWdvcnkuc3ViSXRlbXMubGVuZ3RoKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgY2F0ZWdvcnkgJHtjdGdySWR9LnN1Ykl0ZW1zIGV4aXN0c2ApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ291bnRzIHJlY3Vyc2l2ZWx5IG51bWJlciBvZiBpdGVtcyBpbiBhIGN0Z3JJZCBhbmQgcmV0dXJucyB0aGlzIG51bWJlclxyXG4gICAgICogQHBhcmFtIGl0ZW1zIFxyXG4gICAgICogQHJldHVybnMgXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBjb3VudFN1Ykl0ZW1zKGl0ZW1zOml0ZW1bXSl7XHJcbiAgICAgICAgbGV0IG51bWJlcjpudW1iZXIgPSAwO1xyXG4gICAgICAgIGl0ZW1zLmZvckVhY2goIGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICBudW1iZXIgPSBudW1iZXIgKyAxO1xyXG4gICAgICAgICAgICBpZiAoaXRlbS5zdWJJdGVtcykge1xyXG4gICAgICAgICAgICAgICAgbnVtYmVyID0gbnVtYmVyICsgdGhpcy5jb3VudFN1Ykl0ZW1zKGl0ZW0uc3ViSXRlbXMpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBudW1iZXI7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBcclxuICAgICAqIEluIGxvY2FsU3RvcmFnZSBhZGRzIG5ldyBpdGVtIGF0IHRoZSBlbmQgb2YgdGhlIGN0Z3JJZFxyXG4gICAgICogQHBhcmFtIGl0ZW1zIFxyXG4gICAgICogQHBhcmFtIGNhdGVnb3J5Q2xhc3MgXHJcbiAgICAgKiBAcGFyYW0gaXRlbSBcclxuICAgICAqL1xyXG4gICAgc3RhdGljIHB1c2hOZXdJdGVtIChpdGVtczppdGVtW10sIGN0Z3JJZDpjdGdySWQsIG5ld0l0ZW06aXRlbSApIHtcclxuICAgICAgICBsZXQgcmVzdWx0OmJvb2xlYW4gPSBmYWxzZTtcclxuICAgICAgICBpZiAoIWl0ZW1zKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdpdGVtcyA9IHVuZGVmaW5lZCBpbiBmbmMgTG9jU3RvcmFnZS5wdXNoTmV3SXRlbScpO1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgIH0gXHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGl0ZW1zLmZvckVhY2goIGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0uaWQgPT09IGN0Z3JJZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghaXRlbS5zdWJJdGVtcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLnN1Ykl0ZW1zID0gIFtuZXdJdGVtXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0PXRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uc3ViSXRlbXMhLnB1c2gobmV3SXRlbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdD10cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFxyXG4gICAgICogQHBhcmFtIGNhdGVnb3J5SXRlbXMgaXRlbXNbY3RncklkXVxyXG4gICAgICogQHBhcmFtIGlkT2ZTZWFyY2hlZEl0ZW0gdHJpZ2dlcklkXHJcbiAgICAgKi9cclxuICAgICBzdGF0aWMgcHVzaEl0ZW1JblN1Ykl0ZW1zKGNhdGVnb3J5SXRlbXM6aXRlbVtdIHwgdW5kZWZpbmVkLCBpZE9mU2VhcmNoZWRJdGVtOnN0cmluZywgbmV3SXRlbTppdGVtKTpib29sZWFue1xyXG4gICAgICAgIGxldCByZXN1bHQ6Ym9vbGVhbiA9IGZhbHNlO1xyXG4gICAgICAgIGlmICghY2F0ZWdvcnlJdGVtcykge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnSXRlbS5zdWJpdGVtcyA9IHVuZGVmaW5lZCBpbiBmbmMgTG9jU3RvcmFnZS5wdXNoSXRlbUluU3ViSXRlbXMnKTtcclxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICB9IFxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvL3RvIGJyZWFrIHRoZSBsb29wIHVzZSBmb3IuLi5vZiBsb29wXHJcbiAgICAgICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBjYXRlZ29yeUl0ZW1zLmxlbmd0aDsgaW5kZXgrKykge1xyXG4gICAgICAgICAgICAgICAgaWYoY2F0ZWdvcnlJdGVtc1tpbmRleF0uaWQgPT09IGlkT2ZTZWFyY2hlZEl0ZW0pe1xyXG4gICAgICAgICAgICAgICAgICAgIC8vdWxvemVuaSBub3bDqWhvIGl0ZW11IHphIGhsZWRhbsO9IGl0ZW1cclxuICAgICAgICAgICAgICAgICAgICBpZihjYXRlZ29yeUl0ZW1zW2luZGV4XS5zdWJJdGVtcyl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5SXRlbXNbaW5kZXhdLnN1Ykl0ZW1zIS5wdXNoKG5ld0l0ZW0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQ9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5SXRlbXNbaW5kZXhdLnN1Ykl0ZW1zID0gW25ld0l0ZW1dO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQ9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoY2F0ZWdvcnlJdGVtc1tpbmRleF0uc3ViSXRlbXMpey8vcG9rdWQgTkVKU09VIHN1Ykl0ZW15ICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgcmVzdWx0PSB0aGlzLnB1c2hJdGVtSW5TdWJJdGVtcyhjYXRlZ29yeUl0ZW1zW2luZGV4XS5zdWJJdGVtcyEsIGlkT2ZTZWFyY2hlZEl0ZW0sIG5ld0l0ZW0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBcclxuICAgICAqIEBwYXJhbSBjYXRlZ29yeUl0ZW1zIGl0ZW1zW2N0Z3JJZF1cclxuICAgICAqIEBwYXJhbSBpZE9mU2VhcmNoZWRJdGVtIHRyaWdnZXJJZFxyXG4gICAgICovXHJcbiAgICAgc3RhdGljIHBsYWNlSXRlbUJobmRJdGVtKGNhdGVnb3J5SXRlbXM6aXRlbVtdIHwgdW5kZWZpbmVkLCBpZE9mU2VhcmNoZWRJdGVtOnN0cmluZywgbmV3SXRlbTppdGVtKTpib29sZWFue1xyXG4gICAgICAgIGxldCByZXN1bHQ6Ym9vbGVhbiA9IGZhbHNlO1xyXG4gICAgICAgIGlmICghY2F0ZWdvcnlJdGVtcykge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnSXRlbS5zdWJpdGVtcyA9IHVuZGVmaW5lZCBpbiBmbmMgTG9jU3RvcmFnZS5wbGFjZUl0ZW1CaG5kSXRlbScpO1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgIH0gXHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vdG8gYnJlYWsgdGhlIGxvb3AgdXNlIGZvci4uLm9mIGxvb3BcclxuICAgICAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGNhdGVnb3J5SXRlbXMubGVuZ3RoOyBpbmRleCsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZihjYXRlZ29yeUl0ZW1zW2luZGV4XS5pZCA9PT0gaWRPZlNlYXJjaGVkSXRlbSl7XHJcbiAgICAgICAgICAgICAgICAgICAgLy91bG96ZW5pIG5vdsOpaG8gaXRlbXUgemEgaGxlZGFuw70gaXRlbVxyXG4gICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5SXRlbXMuc3BsaWNlKGluZGV4KzEsIDAsIG5ld0l0ZW0pXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGNhdGVnb3J5SXRlbXNbaW5kZXhdLnN1Ykl0ZW1zKXsvL3Bva3VkIE5FSlNPVSBzdWJJdGVteSAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSB0aGlzLnBsYWNlSXRlbUJobmRJdGVtKGNhdGVnb3J5SXRlbXNbaW5kZXhdLnN1Ykl0ZW1zISwgaWRPZlNlYXJjaGVkSXRlbSwgbmV3SXRlbSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdJdGVtLnN1Yml0ZW1zID0gdW5kZWZpbmVkIGluIGZuYyBMb2NTdG9yYWdlLnBsYWNlSXRlbUJobmRJdGVtJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJlbW92ZXMgdHJpZ2dlckRhdGFcclxuICAgICAqIEBwYXJhbSBjYXRlZ29yeUl0ZW1zIGl0ZW1zW2N0Z3JJZF1cclxuICAgICAqIEBwYXJhbSBpZE9mU2VhcmNoZWRJdGVtIHRyaWdnZXJJZFxyXG4gICAgICovXHJcbiAgICAgc3RhdGljIHJtdkl0ZW0oY2F0ZWdvcnlJdGVtczppdGVtW10gfCB1bmRlZmluZWQsIGlkT2ZTZWFyY2hlZEl0ZW06c3RyaW5nKTpib29sZWFue1xyXG4gICAgICAgIGxldCByZXN1bHQ6Ym9vbGVhbiA9IGZhbHNlO1xyXG4gICAgICAgIGlmICghY2F0ZWdvcnlJdGVtcykge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnSXRlbS5zdWJpdGVtcyA9IHVuZGVmaW5lZCBpbiBmbmMgTG9jU3RvcmFnZS5ybXZJdGVtJyk7XHJcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgfSBcclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy90byBicmVhayB0aGUgbG9vcCB1c2UgZm9yLi4ub2YgbG9vcFxyXG4gICAgICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgY2F0ZWdvcnlJdGVtcy5sZW5ndGg7IGluZGV4KyspIHtcclxuICAgICAgICAgICAgICAgIGlmKGNhdGVnb3J5SXRlbXNbaW5kZXhdLmlkID09PSBpZE9mU2VhcmNoZWRJdGVtKXtcclxuICAgICAgICAgICAgICAgICAgICAvL3Vsb3plbmkgb2JqZWt0dSBobGVkYW5laG8gaXRlbXVcclxuICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeUl0ZW1zLnNwbGljZShpbmRleCwxKTtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoY2F0ZWdvcnlJdGVtc1tpbmRleF0uc3ViSXRlbXMpey8vcG9rdWQgTkVKU09VIHN1Ykl0ZW15IFxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBzdWJJdGVtcyA9IGNhdGVnb3J5SXRlbXNbaW5kZXhdLnN1Ykl0ZW1zIGFzIGl0ZW1bXTsgICAgICBcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSAgdGhpcy5ybXZJdGVtKHN1Ykl0ZW1zLCBpZE9mU2VhcmNoZWRJdGVtKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0l0ZW0uc3ViaXRlbXMgPSB1bmRlZmluZWQgaW4gZm5jIExvY1N0b3JhZ2Uucm12SXRlbScpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0cmlnZ2VyRGF0YVxyXG4gICAgICogQHBhcmFtIGNhdGVnb3J5SXRlbXMgaXRlbXNbY3RncklkXVxyXG4gICAgICogQHBhcmFtIGlkT2ZTZWFyY2hlZEl0ZW0gdHJpZ2dlcklkXHJcbiAgICAgKi9cclxuICAgICBzdGF0aWMgZmluZEl0ZW0oY2F0ZWdvcnlJdGVtczppdGVtW10gfCB1bmRlZmluZWQsIGlkT2ZTZWFyY2hlZEl0ZW06c3RyaW5nKXtcclxuICAgICAgICBsZXQgc2VhcmNoZWRJdGVtOml0ZW0gfCBudWxsID0gPGl0ZW0gfCBudWxsPnt9O1xyXG4gICAgICAgICBpZiAoIWNhdGVnb3J5SXRlbXMpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0l0ZW0uc3ViaXRlbXMgPSB1bmRlZmluZWQgaW4gZm5jIExvY1N0b3JhZ2UuZmluZEl0ZW0nKVxyXG4gICAgICAgICAgICByZXR1cm4gc2VhcmNoZWRJdGVtID0gbnVsbDtcclxuICAgICAgICAgfVxyXG4gICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy90byBicmVhayB0aGUgbG9vcCB1c2UgZm9yLi4ub2YgbG9vcFxyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgY2F0ZWdvcnlJdGVtcykge1xyXG4gICAgICAgICAgICAgICAgaWYoaXRlbS5pZCA9PT0gaWRPZlNlYXJjaGVkSXRlbSl7XHJcbiAgICAgICAgICAgICAgICAgICAgLy91bG96ZW5pIG9iamVrdHUgaGxlZGFuZWhvIGl0ZW11XHJcbiAgICAgICAgICAgICAgICAgICAgc2VhcmNoZWRJdGVtID0gaXRlbTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGl0ZW0uc3ViSXRlbXMpey8vcG9rdWQgTkVKU09VIHN1Ykl0ZW15ICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIHNlYXJjaGVkSXRlbSA9IHRoaXMuZmluZEl0ZW0oaXRlbS5zdWJJdGVtcywgaWRPZlNlYXJjaGVkSXRlbSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHJldHVybiBzZWFyY2hlZEl0ZW07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVwbGFjZXMgdHJpZ2dlciB3aXRoIHRyaWdnZXIgc3ViaXRlbXMgd2hlbiBwYXJlbnQgaXMgaXRlbVxyXG4gICAgICogQHBhcmFtIGNhdGVnb3J5SXRlbXMgaXRlbXNbY3RncklkXVxyXG4gICAgICogQHBhcmFtIGlkT2ZTZWFyY2hlZEl0ZW0gdHJpZ2dlcklkXHJcbiAgICAgKi9cclxuICAgICBzdGF0aWMgcnBsY1RyZ2dyV1RyZ2dyU3ViSXRlbXMoY2F0ZWdvcnlJdGVtczppdGVtW10gfCB1bmRlZmluZWQsc2VhcmNoZWRJdGVtUHJudElkOnN0cmluZywgc2VhcmNoZWRJdGVtSWQ6c3RyaW5nKTpib29sZWFue1xyXG4gICAgICAgIGxldCByZXN1bHQ6Ym9vbGVhbiA9IGZhbHNlO1xyXG4gICAgICAgIGlmICghY2F0ZWdvcnlJdGVtcykge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnSXRlbS5zdWJpdGVtcyA9IHVuZGVmaW5lZCBpbiBmbmMgTG9jU3RvcmFnZS5ycGxjVHJnZ3JXVHJnZ3JTdWJJdGVtcycpO1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0ID0gZmFsc2U7XHJcbiAgICAgICAgfSBcclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy90byBicmVhayB0aGUgbG9vcCB1c2UgZm9yLi4ub2YgbG9vcFxyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgY2F0ZWdvcnlJdGVtcykge1xyXG4gICAgICAgICAgICAgICAgLy9obGVkYW5pIHJvZGljZSB0cmlnZ2VydVxyXG4gICAgICAgICAgICAgICAgaWYoaXRlbS5pZCA9PT0gc2VhcmNoZWRJdGVtUHJudElkKXtcclxuICAgICAgICAgICAgICAgICAgICAvL3Vsb3plbmkgb2JqZWt0dSBobGVkYW5laG8gaXRlbXVcclxuICAgICAgICAgICAgICAgICAgICBsZXQgcGFycmVudCA9ICBpdGVtO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBzZWFyY2hlZEl0ZW1TdWJJdGVtczppdGVtW10gPSBbXSA7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnJlbnQuc3ViSXRlbXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXJyZW50LnN1Ykl0ZW1zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL25hbGV6ZW5pIHBvemljZSBobGVkYW5laG8gaXRlbXUgdiByb2RpY2lcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXJyZW50LnN1Ykl0ZW1zW2ldLmlkID09PSBzZWFyY2hlZEl0ZW1JZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHBva3VkIGplIGhsZWRhbnkgaXRlbSBuYWxlemVuIHYgcm9kaWNpIGEgbWEgbmVqYWtlIHN1Ykl0ZW15LCB1bG96IHN1Ykl0ZW15IGhsZWRhbmVobyBpdGVtdSx2bG96IGplIGRvIHN1Ykl0ZW11IHJvZGljZSBhIG9kc3RyYW4gaGxlZGFueSBzdWJJdGVtXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnJlbnQuc3ViSXRlbXNbaV0uc3ViSXRlbXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VhcmNoZWRJdGVtU3ViSXRlbXMgPSBwYXJyZW50LnN1Ykl0ZW1zW2ldLnN1Ykl0ZW1zITtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2FzaSBvZHN0cmFuZW5vJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFycmVudC5zdWJJdGVtcy5zcGxpY2UoaSwgMSwgLi4uc2VhcmNoZWRJdGVtU3ViSXRlbXMpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJyZW50LnN1Ykl0ZW1zLnNwbGljZShpLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaXRlbS5zdWJJdGVtcyl7Ly9wb2t1ZCBKU09VIHN1Ykl0ZW15ICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMucnBsY1RyZ2dyV1RyZ2dyU3ViSXRlbXMoaXRlbS5zdWJJdGVtcywgc2VhcmNoZWRJdGVtUHJudElkLCBzZWFyY2hlZEl0ZW1JZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdJdGVtLnN1Yml0ZW1zID0gdW5kZWZpbmVkIGluIGZuYyBMb2NTdG9yYWdlLnJwbGNUcmdncldUcmdnclN1Ykl0ZW1zJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgIC8qKlxyXG4gICAgICogUmVwbGFjZXMgdHJpZ2dlciB3aXRoIHRyaWdnZXIgc3ViaXRlbXMgd2hlbiBwYXJlbnQgaXMgbWFpbiBjb250YWluZXIgXHJcbiAgICAgKiBAcGFyYW0gY2F0ZWdvcnlJdGVtcyBpdGVtc1tjdGdySWRdXHJcbiAgICAgKiBAcGFyYW0gaWRPZlNlYXJjaGVkSXRlbSB0cmlnZ2VySWRcclxuICAgICAqL1xyXG4gICAgICBzdGF0aWMgcnBsY1RyZ2dyV1RyZ2dyU3ViSXRlbXNJbk1haW4oY2F0ZWdvcnlJdGVtczppdGVtW10gfCB1bmRlZmluZWQsIHNlYXJjaGVkSXRlbUlkOnN0cmluZyl7XHJcbiAgICAgICAgbGV0IHJlc3VsdDpib29sZWFuID0gZmFsc2U7XHJcbiAgICAgICAgaWYgKCFjYXRlZ29yeUl0ZW1zKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdJdGVtLnN1Yml0ZW1zID0gdW5kZWZpbmVkIGluIGZuYyBMb2NTdG9yYWdlLnJtdkl0ZW0nKTtcclxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdCA9IGZhbHNlO1xyXG4gICAgICAgIH0gXHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vdG8gYnJlYWsgdGhlIGxvb3AgdXNlIGZvci4uLm9mIGxvb3BcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjYXRlZ29yeUl0ZW1zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZihjYXRlZ29yeUl0ZW1zW2ldLmlkID09PSBzZWFyY2hlZEl0ZW1JZCl7XHJcbiAgICAgICAgICAgICAgICAgICAgLy91bG96ZW5pIG9iamVrdHUgaGxlZGFuZWhvIGl0ZW11XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHNlYXJjaGVkSXRlbSA9ICBjYXRlZ29yeUl0ZW1zW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzZWFyY2hlZEl0ZW0uc3ViSXRlbXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnlJdGVtcy5zcGxpY2UoaSwgMSwuLi5zZWFyY2hlZEl0ZW0uc3ViSXRlbXMpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeUl0ZW1zLnNwbGljZShpLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBGaW5kcyB0cmlnZ2VyIGl0ZW0gaW4gY2F0ZWdvcnkgYW5kIGFuZCBwdXNoIG5ld0l0ZW0gaW4gaXRzIHN1Ykl0ZW1zXHJcbiAgICAgKiBAcGFyYW0gaXRlbXNJbkN0Z3IgXHJcbiAgICAgKiBAcGFyYW0gdHJpZ2dlcklkIFxyXG4gICAgICogQHBhcmFtIG5ld0l0ZW0gXHJcbiAgICAgKi9cclxuICAgICBzdGF0aWMgcGFzdGVJdGVtSW5TdWJBY2NvcmRpbmdJZChpdGVtc0luQ3RncjppdGVtW10gfCB1bmRlZmluZWQsIHRyaWdnZXJJZDpzdHJpbmcsIG5ld0l0ZW06aXRlbSl7XHJcbiAgICAgICAgbGV0IHJlc3VsdDpib29sZWFuID0gZmFsc2U7XHJcbiAgICAgICAgaWYgKCFpdGVtc0luQ3Rncikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnSXRlbS5zdWJpdGVtcyA9IHVuZGVmaW5lZCBpbiBmbmMgSW1hZ2VJdGVtLnBhc3RlSXRlbUluU3ViQWNjb3JkaW5nSWQnKTtcclxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICB9IFxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBpdGVtc0luQ3Rnci5mb3JFYWNoKCAoaXRlbSwgaW5kZXgsIGFycmF5SXRzZWxmKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXRlbS5pZCA9PT0gdHJpZ2dlcklkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFhcnJheUl0c2VsZltpbmRleF0uc3ViSXRlbXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXJyYXlJdHNlbGZbaW5kZXhdLnN1Ykl0ZW1zID0gW25ld0l0ZW1dO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhcnJheUl0c2VsZltpbmRleF0uc3ViSXRlbXMhLnB1c2gobmV3SXRlbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYoaXRlbS5zdWJJdGVtcyl7XHJcbiAgICAgICAgICAgICAgICAgICByZXN1bHQgPSB0aGlzLnBhc3RlSXRlbUluU3ViQWNjb3JkaW5nSWQoaXRlbS5zdWJJdGVtcywgdHJpZ2dlcklkLCBuZXdJdGVtKVxyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnSXRlbS5zdWJpdGVtcyA9IHVuZGVmaW5lZCBpbiBmbmMgSW1hZ2VJdGVtLnBhc3RlSXRlbUluU3ViQWNjb3JkaW5nSWQnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNhdmVzIHdpZHRoIGluIHByb3BlcnR5IGlubFN0eWxlIG9mIGl0ZW1cclxuICAgICAqIEBwYXJhbSBpdGVtIFxyXG4gICAgICogQHBhcmFtIHdpZHRoIFxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgc2F2ZUlubFN0eWxXaWR0aChpdGVtOml0ZW0sIHdpZHRoOnN0cmluZ3xudW1iZXIpIHtcclxuICAgICAgICBpZiAoaXRlbS5pbmxTdHlsKSB7XHJcbiAgICAgICAgICAgIGl0ZW0uaW5sU3R5bC53aWR0aCA9IHdpZHRoLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgIGl0ZW0uaW5sU3R5bCA9IHt3aWR0aDp3aWR0aC50b1N0cmluZygpfTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbi8qKlxyXG4gKiBTYXZlcyBoZWlnaHQgaW4gcHJvcGVydHkgaW5sU3R5bGUgb2YgaXRlbVxyXG4gKiBAcGFyYW0gaXRlbSBcclxuICogQHBhcmFtIGhlaWdodCBcclxuICovXHJcbiBzdGF0aWMgc2F2ZUlubFN0eWxIZWlnaHQoaXRlbTppdGVtLCBoZWlnaHQ6c3RyaW5nfG51bWJlcikge1xyXG4gICAgICAgIGlmIChpdGVtLmlubFN0eWwpIHtcclxuICAgICAgICAgICAgaXRlbS5pbmxTdHlsLmhlaWdodCA9IGhlaWdodC50b1N0cmluZygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaXRlbS5pbmxTdHlsID0ge2hlaWdodDpoZWlnaHQudG9TdHJpbmcoKX07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyB1cGdySXRlbShjYXRlZ29yeUl0ZW1zOml0ZW1bXSB8IHVuZGVmaW5lZCwgaWRPZlNlYXJjaGVkSXRlbTpzdHJpbmcsIHVwZ3JhZGVkSXRlbTppdGVtKTpib29sZWFue1xyXG4gICAgICAgIGxldCByZXN1bHQ6Ym9vbGVhbiA9IGZhbHNlO1xyXG4gICAgICAgICBpZiAoIWNhdGVnb3J5SXRlbXMpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0l0ZW0uc3ViaXRlbXMgPSB1bmRlZmluZWQgaW4gZm5jIExvY1N0b3JhZ2UudXBnckl0ZW0nKVxyXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0ID0gZmFsc2U7XHJcbiAgICAgICAgIH1cclxuICAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgLy90byBicmVhayB0aGUgbG9vcCB1c2UgZm9yLi4ub2YgbG9vcFxyXG4gICAgICAgICAgICBmb3IgKGxldCBpdGVtIG9mIGNhdGVnb3J5SXRlbXMpIHtcclxuICAgICAgICAgICAgICAgIGlmKGl0ZW0uaWQgPT09IGlkT2ZTZWFyY2hlZEl0ZW0pe1xyXG4gICAgICAgICAgICAgICAgICAgIC8vdWxvemVuaSBvYmpla3R1IGhsZWRhbmVobyBpdGVtdVxyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW0gPSB1cGdyYWRlZEl0ZW07XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaXRlbS5zdWJJdGVtcyl7Ly9wb2t1ZCBORUpTT1Ugc3ViSXRlbXkgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy51cGdySXRlbShpdGVtLnN1Ykl0ZW1zLCBpZE9mU2VhcmNoZWRJdGVtLCB1cGdyYWRlZEl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyBkaW1lbnNpb24gY2hhbmdlZCBkb3duIHJlbGF0aXZlIHRvIHRoZSB0cmlnZ2VyIGRpbWVuc2lvblxyXG4gICAgICogZS5nLiBpZiB0cmlnZ2VyIGRpbWVuc2lvbiBpcyBhLCByZXR1cm5zIGIuIElmIGIsIHJldHVybnMgYywgZXRjLlxyXG4gICAgICogQHBhcmFtIHRyaWdnZXJEYXRhIFxyXG4gICAgICogQHJldHVybnMgXHJcbiAgICAgKi9cclxuICAgICAvKiBzdGF0aWMgZGltZW5zaW9uRG93bih0cmlnZ2VyRGF0YTogaXRlbSl7XHJcbiAgICAgICAgbGV0IHJpZ2h0SW5kZXg6bnVtYmVyID0gMDtcclxuICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgTG9jU3RvcmFnZS5kaW1lbnNpb25zLmxlbmd0aDsgaW5kZXgrKykge1xyXG4gICAgICAgICAgICBpZihMb2NTdG9yYWdlLmRpbWVuc2lvbnNbaW5kZXhdID09PSB0cmlnZ2VyRGF0YS5kaW1lbnNpb24pe1xyXG4gICAgICAgICAgICAgICAgcmlnaHRJbmRleCA9IGluZGV4O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBMb2NTdG9yYWdlLmRpbWVuc2lvbnNbcmlnaHRJbmRleCsxXTtcclxuICAgIH0gKi9cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgZGltZW5zaW9uIGNoYW5nZWQgZG93biByZWxhdGl2ZSB0byB0aGUgdHJpZ2dlciBkaW1lbnNpb25cclxuICAgICAqIGUuZy4gaWYgdHJpZ2dlciBkaW1lbnNpb24gaXMgYSwgcmV0dXJucyBiLiBJZiBiLCByZXR1cm5zIGMsIGV0Yy5cclxuICAgICAqIEBwYXJhbSB0cmlnZ2VyRGF0YSBcclxuICAgICAqIEByZXR1cm5zIFxyXG4gICAgICovXHJcbiAgICAvKiAgc3RhdGljIGRpbWVuc2lvbkRvd25SZWN1cnNpdmVseShjYXRlZ29yeUl0ZW1zOml0ZW1bXSAsdHJpZ2dlcklkOnN0cmluZyl7XHJcbiAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIGNhdGVnb3J5SXRlbXMpIHtcclxuICAgICAgICAgICAgaWYgKGl0ZW0uaWQgPT09IHRyaWdnZXJJZCkgeyAgXHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnZnVja2luZycpOyBcclxuICAgICAgICAgICAgICAgIGlmIChpdGVtLnN1Ykl0ZW1zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50ZXN0aW5nUmVjdXJzaXZlbHkoaXRlbS5zdWJJdGVtcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2RvZ2dpbmcnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmKGl0ZW0uc3ViSXRlbXMpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kaW1lbnNpb25Eb3duUmVjdXJzaXZlbHkoaXRlbS5zdWJJdGVtcywgdHJpZ2dlcklkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgdGVzdGluZ1JlY3Vyc2l2ZWx5KHN1Ykl0ZW1zOml0ZW1bXSl7XHJcblxyXG4gICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBzdWJJdGVtcykge1xyXG4gICAgICAgICAgIGl0ZW0uZGltZW5zaW9uID0gdGhpcy5kaW1lbnNpb25Eb3duKGl0ZW0pO1xyXG4gICAgICAgICAgIGlmIChpdGVtLnN1Ykl0ZW1zKSB7XHJcbiAgICAgICAgICAgICAgIHRoaXMudGVzdGluZ1JlY3Vyc2l2ZWx5KGl0ZW0uc3ViSXRlbXMpO1xyXG4gICAgICAgICAgICAgICBjb25zb2xlLmxvZygnd29ya2luZycpO1xyXG4gICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgfSAqL1xyXG5cclxufSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/common/localStorage/LocStorage.ts\n");

/***/ }),

/***/ "./src/editor/ComicsEditor.ts":
/*!************************************!*\
  !*** ./src/editor/ComicsEditor.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ComicsEditor\": () => (/* binding */ ComicsEditor)\n/* harmony export */ });\n/* harmony import */ var _common_EventListeners__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../common/EventListeners */ \"./src/common/EventListeners.ts\");\n/* harmony import */ var _HTMLComponents_input_Input__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../HTMLComponents/input/Input */ \"./src/HTMLComponents/input/Input.ts\");\n/* harmony import */ var _HTMLComponents_flexBox_Flex__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./../HTMLComponents/flexBox/Flex */ \"./src/HTMLComponents/flexBox/Flex.ts\");\n/* harmony import */ var _editorComponents_item_flexBoxItem_FlexBoxItem__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./editorComponents/item/flexBoxItem/FlexBoxItem */ \"./src/editor/editorComponents/item/flexBoxItem/FlexBoxItem.ts\");\n/* harmony import */ var _editorComponents_item_imageItem_ImageItem__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./editorComponents/item/imageItem/ImageItem */ \"./src/editor/editorComponents/item/imageItem/ImageItem.ts\");\n/* harmony import */ var _editorComponents_item_Item__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./editorComponents/item/Item */ \"./src/editor/editorComponents/item/Item.ts\");\n/* harmony import */ var _editorComponents_item_itemMenu_ItemMenu__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./editorComponents/item/itemMenu/ItemMenu */ \"./src/editor/editorComponents/item/itemMenu/ItemMenu.ts\");\n/* harmony import */ var _editorComponents_mainBox_comics_Comics__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./editorComponents/mainBox/comics/Comics */ \"./src/editor/editorComponents/mainBox/comics/Comics.ts\");\n/* harmony import */ var _editorComponents_mainBox_MainBox__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./editorComponents/mainBox/MainBox */ \"./src/editor/editorComponents/mainBox/MainBox.ts\");\n/* harmony import */ var _editorComponents_item_itemMenu_subMenu_SubMenu__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./editorComponents/item/itemMenu/subMenu/SubMenu */ \"./src/editor/editorComponents/item/itemMenu/subMenu/SubMenu.ts\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n__webpack_require__(/*! ../itemPresets.scss */ \"./src/itemPresets.scss\");\r\nclass ComicsEditor {\r\n    constructor() {\r\n        this.flex = new _HTMLComponents_flexBox_Flex__WEBPACK_IMPORTED_MODULE_2__.Flex();\r\n        this.flexBoxItem = new _editorComponents_item_flexBoxItem_FlexBoxItem__WEBPACK_IMPORTED_MODULE_3__.FlexBoxItem();\r\n        this.imageItem = new _editorComponents_item_imageItem_ImageItem__WEBPACK_IMPORTED_MODULE_4__.ImageItem();\r\n        this.comics = new _editorComponents_mainBox_comics_Comics__WEBPACK_IMPORTED_MODULE_7__.Comics(this.flexBoxItem, this.imageItem, this.flex);\r\n        this.input = new _HTMLComponents_input_Input__WEBPACK_IMPORTED_MODULE_1__.Input();\r\n        this.subMenu = new _editorComponents_item_itemMenu_subMenu_SubMenu__WEBPACK_IMPORTED_MODULE_9__.SubMenu(this.input);\r\n        this.itemMenu = new _editorComponents_item_itemMenu_ItemMenu__WEBPACK_IMPORTED_MODULE_6__.ItemMenu(this.input, this.subMenu);\r\n        this.item = new _editorComponents_item_Item__WEBPACK_IMPORTED_MODULE_5__.Item();\r\n        this.mainBox = new _editorComponents_mainBox_MainBox__WEBPACK_IMPORTED_MODULE_8__.MainBox(this.flexBoxItem, this.imageItem);\r\n        this.eventListeners = new _common_EventListeners__WEBPACK_IMPORTED_MODULE_0__.EventListeners(this.flexBoxItem, this.itemMenu, this.imageItem, this.item, this.mainBox);\r\n    }\r\n    crtEditor() {\r\n        let comicsElm;\r\n        try {\r\n            comicsElm = this.comics.createComics();\r\n        }\r\n        catch (error) {\r\n            console.log(error);\r\n            comicsElm = document.createElement('div');\r\n            comicsElm.innerHTML = '<h1>Aplication is not working!</h1>';\r\n        }\r\n        return comicsElm;\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZWRpdG9yL0NvbWljc0VkaXRvci50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUEwRDtBQUNKO0FBQ0U7QUFDc0I7QUFDTjtBQUNwQjtBQUNpQjtBQUNIO0FBQ0w7QUFDYztBQUMzRSxtQkFBTyxDQUFDLG1EQUFxQixDQUFDLENBQUM7QUFFeEIsTUFBTSxZQUFZO0lBY3JCO1FBQ0ksSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLDhEQUFJLEVBQUUsQ0FBQztRQUN2QixJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksdUZBQVcsRUFBRSxDQUFDO1FBQ3JDLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxpRkFBUyxFQUFFLENBQUM7UUFDakMsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLDJFQUFNLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxJQUFJLENBQUMsU0FBUyxFQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUN2RSxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksOERBQUssRUFBRSxDQUFDO1FBQ3pCLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxvRkFBTyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUN2QyxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksOEVBQVEsQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUN2RCxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksNkRBQUksRUFBRSxDQUFDO1FBQ3ZCLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxzRUFBTyxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQzdELElBQUksQ0FBQyxjQUFjLEdBQUcsSUFBSSxrRUFBYyxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUUsSUFBSSxDQUFDLFFBQVEsRUFBRSxJQUFJLENBQUMsU0FBUyxFQUFFLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ3ZILENBQUM7SUFFTSxTQUFTO1FBQ1osSUFBSSxTQUFTLENBQUM7UUFDZCxJQUFJO1lBQ0EsU0FBUyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsWUFBWSxFQUFFLENBQUM7U0FDMUM7UUFBQyxPQUFPLEtBQWMsRUFBRTtZQUNyQixPQUFPLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQztZQUNsQixTQUFTLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUMxQyxTQUFTLENBQUMsU0FBUyxHQUFHLHFDQUFxQztTQUM5RDtRQUVELE9BQU8sU0FBUyxDQUFDO0lBQ3JCLENBQUM7Q0FFSiIsInNvdXJjZXMiOlsid2VicGFjazovL2NvbWljcy1lZGl0b3IvLi9zcmMvZWRpdG9yL0NvbWljc0VkaXRvci50cz9lMTY2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEV2ZW50TGlzdGVuZXJzIH0gZnJvbSAnLi4vY29tbW9uL0V2ZW50TGlzdGVuZXJzJztcclxuaW1wb3J0IHsgSW5wdXQgfSBmcm9tICcuLi9IVE1MQ29tcG9uZW50cy9pbnB1dC9JbnB1dCc7XHJcbmltcG9ydCB7IEZsZXggfSBmcm9tICcuLy4uL0hUTUxDb21wb25lbnRzL2ZsZXhCb3gvRmxleCc7XHJcbmltcG9ydCB7IEZsZXhCb3hJdGVtIH0gZnJvbSAnLi9lZGl0b3JDb21wb25lbnRzL2l0ZW0vZmxleEJveEl0ZW0vRmxleEJveEl0ZW0nO1xyXG5pbXBvcnQgeyBJbWFnZUl0ZW0gfSBmcm9tICcuL2VkaXRvckNvbXBvbmVudHMvaXRlbS9pbWFnZUl0ZW0vSW1hZ2VJdGVtJztcclxuaW1wb3J0IHsgSXRlbSB9IGZyb20gJy4vZWRpdG9yQ29tcG9uZW50cy9pdGVtL0l0ZW0nO1xyXG5pbXBvcnQgeyBJdGVtTWVudSB9IGZyb20gJy4vZWRpdG9yQ29tcG9uZW50cy9pdGVtL2l0ZW1NZW51L0l0ZW1NZW51JztcclxuaW1wb3J0IHsgQ29taWNzIH0gZnJvbSAnLi9lZGl0b3JDb21wb25lbnRzL21haW5Cb3gvY29taWNzL0NvbWljcyc7XHJcbmltcG9ydCB7IE1haW5Cb3ggfSBmcm9tICcuL2VkaXRvckNvbXBvbmVudHMvbWFpbkJveC9NYWluQm94JztcclxuaW1wb3J0IHsgU3ViTWVudSB9IGZyb20gJy4vZWRpdG9yQ29tcG9uZW50cy9pdGVtL2l0ZW1NZW51L3N1Yk1lbnUvU3ViTWVudSc7XHJcbnJlcXVpcmUoJy4uL2l0ZW1QcmVzZXRzLnNjc3MnKTtcclxuXHJcbmV4cG9ydCBjbGFzcyBDb21pY3NFZGl0b3Ige1xyXG5cclxuICAgIC8vRGVwZW5kZWNpZXNcclxuICAgIHByaXZhdGUgZmxleDpGbGV4O1xyXG4gICAgcHJpdmF0ZSBmbGV4Qm94SXRlbTpGbGV4Qm94SXRlbTtcclxuICAgIHByaXZhdGUgaW1hZ2VJdGVtOkltYWdlSXRlbTtcclxuICAgIHByaXZhdGUgY29taWNzOkNvbWljcztcclxuICAgIHB1YmxpYyBldmVudExpc3RlbmVyczpFdmVudExpc3RlbmVycztcclxuICAgIHByaXZhdGUgaXRlbU1lbnU6IEl0ZW1NZW51O1xyXG4gICAgcHJpdmF0ZSBpdGVtOiBJdGVtO1xyXG4gICAgcHJpdmF0ZSBtYWluQm94OiBNYWluQm94O1xyXG4gICAgcHJpdmF0ZSBpbnB1dDogSW5wdXQ7XHJcbiAgICBwcml2YXRlIHN1Yk1lbnU6IFN1Yk1lbnVcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcigpe1xyXG4gICAgICAgIHRoaXMuZmxleCA9IG5ldyBGbGV4KCk7XHJcbiAgICAgICAgdGhpcy5mbGV4Qm94SXRlbSA9IG5ldyBGbGV4Qm94SXRlbSgpO1xyXG4gICAgICAgIHRoaXMuaW1hZ2VJdGVtID0gbmV3IEltYWdlSXRlbSgpO1xyXG4gICAgICAgIHRoaXMuY29taWNzID0gbmV3IENvbWljcyh0aGlzLmZsZXhCb3hJdGVtLCB0aGlzLmltYWdlSXRlbSwgIHRoaXMuZmxleCk7XHJcbiAgICAgICAgdGhpcy5pbnB1dCA9IG5ldyBJbnB1dCgpO1xyXG4gICAgICAgIHRoaXMuc3ViTWVudSA9IG5ldyBTdWJNZW51KHRoaXMuaW5wdXQpO1xyXG4gICAgICAgIHRoaXMuaXRlbU1lbnUgPSBuZXcgSXRlbU1lbnUodGhpcy5pbnB1dCwgdGhpcy5zdWJNZW51KTtcclxuICAgICAgICB0aGlzLml0ZW0gPSBuZXcgSXRlbSgpO1xyXG4gICAgICAgIHRoaXMubWFpbkJveCA9IG5ldyBNYWluQm94KHRoaXMuZmxleEJveEl0ZW0sIHRoaXMuaW1hZ2VJdGVtKTtcclxuICAgICAgICB0aGlzLmV2ZW50TGlzdGVuZXJzID0gbmV3IEV2ZW50TGlzdGVuZXJzKHRoaXMuZmxleEJveEl0ZW0sIHRoaXMuaXRlbU1lbnUsIHRoaXMuaW1hZ2VJdGVtLCB0aGlzLml0ZW0sIHRoaXMubWFpbkJveCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNydEVkaXRvciAoKXtcclxuICAgICAgICBsZXQgY29taWNzRWxtO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbWljc0VsbSA9IHRoaXMuY29taWNzLmNyZWF0ZUNvbWljcygpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yOiB1bmtub3duKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKVxyXG4gICAgICAgICAgICBjb21pY3NFbG0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgICAgY29taWNzRWxtLmlubmVySFRNTCA9ICc8aDE+QXBsaWNhdGlvbiBpcyBub3Qgd29ya2luZyE8L2gxPidcclxuICAgICAgICB9XHJcbiAgICAgICBcclxuICAgICAgICByZXR1cm4gY29taWNzRWxtO1xyXG4gICAgfVxyXG4gICBcclxufSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/editor/ComicsEditor.ts\n");

/***/ }),

/***/ "./src/editor/editorComponents/item/Item.ts":
/*!**************************************************!*\
  !*** ./src/editor/editorComponents/item/Item.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Item\": () => (/* binding */ Item)\n/* harmony export */ });\n/* harmony import */ var _common_AtributesToElement__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../common/AtributesToElement */ \"./src/common/AtributesToElement.ts\");\n/* harmony import */ var _common_StyleToElement__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../common/StyleToElement */ \"./src/common/StyleToElement.ts\");\n/* harmony import */ var _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../common/localStorage/LocStorage */ \"./src/common/localStorage/LocStorage.ts\");\n/* harmony import */ var _editor_module_scss__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../editor.module.scss */ \"./src/editor/editor.module.scss\");\n/* harmony import */ var _itemMenu_itemMenu_module_scss__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./itemMenu/itemMenu.module.scss */ \"./src/editor/editorComponents/item/itemMenu/itemMenu.module.scss\");\n/* harmony import */ var _itemMenu_ItemMenu__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./itemMenu/ItemMenu */ \"./src/editor/editorComponents/item/itemMenu/ItemMenu.ts\");\n/* harmony import */ var _common_inputGetter_InputGetter__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./../../../common/inputGetter/InputGetter */ \"./src/common/inputGetter/InputGetter.ts\");\n/* harmony import */ var _common_error_locStorageError_ExistInLocStorageError__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../common/error/locStorageError/ExistInLocStorageError */ \"./src/common/error/locStorageError/ExistInLocStorageError.ts\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n__webpack_require__(/*! ./item.module.scss */ \"./src/editor/editorComponents/item/item.module.scss\");\r\nlet debug = false;\r\nclass Item {\r\n    rszPercent(e) {\r\n        //musí být dvě funkce, jedna pro klik na button, druhá pro klik na označený boxItem třídou moveBox\r\n        if (e.target.id === 'rsz-item-percent' || e.target.id === 'rsz-outerBox-percent') {\r\n            e.preventDefault();\r\n            console.log(e.target.id);\r\n            let triggerId = null;\r\n            if (e.target.id === 'rsz-item-percent') {\r\n                triggerId = localStorage.getItem('triggerid');\r\n            }\r\n            else if (e.target.id === 'rsz-outerBox-percent') {\r\n                triggerId = localStorage.getItem('trggrPrntId');\r\n            }\r\n            if (triggerId) {\r\n                const trigger = document.getElementById(triggerId);\r\n                const triggerKind = trigger === null || trigger === void 0 ? void 0 : trigger.getAttribute('data-kind');\r\n                if (trigger && triggerKind) {\r\n                    const trggrCtgrName = trigger.getAttribute('data-category');\r\n                    const presets = _common_inputGetter_InputGetter__WEBPACK_IMPORTED_MODULE_6__.InputGetter.getChckInpdVls('#boxItem-preset');\r\n                    let items = _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_2__.LocStorage.getItems('items');\r\n                    let ctgrData = null;\r\n                    try {\r\n                        ctgrData = _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_2__.LocStorage.getCtgr(items, trggrCtgrName);\r\n                    }\r\n                    catch (error) {\r\n                        if (error instanceof _common_error_locStorageError_ExistInLocStorageError__WEBPACK_IMPORTED_MODULE_7__.ExistInLocStorageError) {\r\n                            console.log(error.message, error.property);\r\n                        }\r\n                    }\r\n                    if (ctgrData) {\r\n                        let triggerData = _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_2__.LocStorage.findItem(ctgrData.subItems, triggerId);\r\n                        if (triggerData) {\r\n                            presets.forEach(preset => {\r\n                                var _a, _b, _c, _d;\r\n                                if (preset.name === 'width') {\r\n                                    if (triggerData.classes.width[0] !== preset.value) {\r\n                                        if (triggerKind === 'boxItem') {\r\n                                            if (preset.value === 'x100') {\r\n                                                if ((_a = trigger.parentElement) === null || _a === void 0 ? void 0 : _a.classList.contains('horizontal')) {\r\n                                                    if (trigger.classList.contains('grow')) {\r\n                                                        trigger.classList.remove('grow');\r\n                                                        triggerData.classes.grow[0] = 'noGrow';\r\n                                                    }\r\n                                                }\r\n                                                if (trigger.style.width) {\r\n                                                    trigger.style.width = '';\r\n                                                    if ((_b = triggerData === null || triggerData === void 0 ? void 0 : triggerData.inlStyl) === null || _b === void 0 ? void 0 : _b.width) {\r\n                                                        delete triggerData.inlStyl.width;\r\n                                                    }\r\n                                                }\r\n                                                if (trigger.classList.contains('x0')) {\r\n                                                    trigger.classList.remove('x0');\r\n                                                }\r\n                                                trigger.classList.add(preset.value);\r\n                                            }\r\n                                            else if (preset.value === 'x0') {\r\n                                                if (trigger.classList.contains('x100')) {\r\n                                                    trigger.classList.remove('x100');\r\n                                                }\r\n                                            }\r\n                                        }\r\n                                        else if (triggerKind === 'imageItem') {\r\n                                            if (preset.value === 'x100') {\r\n                                                if (trigger.classList.contains('x0')) {\r\n                                                    trigger.classList.remove('x0');\r\n                                                }\r\n                                                trigger.classList.add(preset.value);\r\n                                            }\r\n                                            else if (preset.value === 'x0') {\r\n                                                if (trigger.classList.contains('x100')) {\r\n                                                    trigger.classList.remove('x100');\r\n                                                }\r\n                                            }\r\n                                        }\r\n                                        triggerData.classes.width[0] = preset.value;\r\n                                        _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_2__.LocStorage.upgrItem(ctgrData.subItems, triggerId, triggerData);\r\n                                        _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_2__.LocStorage.setItem('items', items);\r\n                                    }\r\n                                    else {\r\n                                        return;\r\n                                    }\r\n                                }\r\n                                else if (preset.name === 'height') {\r\n                                    if (triggerData.classes.height[0] !== preset.value) {\r\n                                        if (triggerKind === 'boxItem') {\r\n                                            if (preset.value === 'y100') {\r\n                                                if ((_c = trigger.parentElement) === null || _c === void 0 ? void 0 : _c.classList.contains('vertical')) {\r\n                                                    if (trigger.classList.contains('grow')) {\r\n                                                        trigger.classList.remove('grow');\r\n                                                        triggerData.classes.grow[0] = 'noGrow';\r\n                                                    }\r\n                                                }\r\n                                                if (trigger.style.height) {\r\n                                                    trigger.style.height = '';\r\n                                                    if ((_d = triggerData === null || triggerData === void 0 ? void 0 : triggerData.inlStyl) === null || _d === void 0 ? void 0 : _d.height) {\r\n                                                        delete triggerData.inlStyl.height;\r\n                                                    }\r\n                                                }\r\n                                                if (trigger.classList.contains('y0')) {\r\n                                                    trigger.classList.remove('y0');\r\n                                                }\r\n                                                trigger.classList.add(preset.value);\r\n                                            }\r\n                                            else if (preset.value === 'y0') {\r\n                                                if (trigger.classList.contains('y100')) {\r\n                                                    trigger.classList.remove('y100');\r\n                                                }\r\n                                            }\r\n                                        }\r\n                                        else if (triggerKind === 'imageItem') {\r\n                                            if (preset.value === 'y100') {\r\n                                                if (trigger.classList.contains('y0')) {\r\n                                                    trigger.classList.remove('y0');\r\n                                                }\r\n                                                trigger.classList.add(preset.value);\r\n                                            }\r\n                                            else if (preset.value === 'y0') {\r\n                                                if (trigger.classList.contains('y100')) {\r\n                                                    trigger.classList.remove('y100');\r\n                                                }\r\n                                            }\r\n                                        }\r\n                                        triggerData.classes.height[0] = preset.value;\r\n                                        _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_2__.LocStorage.upgrItem(ctgrData.subItems, triggerId, triggerData);\r\n                                        _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_2__.LocStorage.setItem('items', items);\r\n                                    }\r\n                                    else {\r\n                                        return;\r\n                                    }\r\n                                }\r\n                            });\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    rszItemState(item) {\r\n        return (e) => {\r\n            var _a, _b, _c, _d;\r\n            if (e.target.id === 'rsz-box-width' ||\r\n                e.target.id === 'rsz-box-height' ||\r\n                e.target.id === 'rsz-box-both' ||\r\n                e.target.id === 'rsz-outerBox-width' ||\r\n                e.target.id === 'rsz-outerBox-height' ||\r\n                e.target.id === 'rsz-outerBox-both') {\r\n                console.log(`rsz item...${e.target.id}`);\r\n                let triggerId;\r\n                let menuTrggrId;\r\n                if (e.target.id === 'rsz-box-width' ||\r\n                    e.target.id === 'rsz-box-height' ||\r\n                    e.target.id === 'rsz-box-both') {\r\n                    triggerId = localStorage.getItem('triggerid');\r\n                }\r\n                else if (e.target.id === 'rsz-outerBox-width' ||\r\n                    e.target.id === 'rsz-outerBox-height' ||\r\n                    e.target.id === 'rsz-outerBox-both') {\r\n                    triggerId = localStorage.getItem('trggrPrntId');\r\n                    menuTrggrId = localStorage.getItem('triggerid');\r\n                }\r\n                if (triggerId) {\r\n                    const trigger = document.getElementById(triggerId);\r\n                    if (trigger) {\r\n                        const triggerCategory = trigger.getAttribute('data-category');\r\n                        localStorage.setItem('resizingItem', triggerId);\r\n                        //if trigger contains grow property, set style width/height and remove grow\r\n                        trigger.style.position = 'relative';\r\n                        trigger.style.overflow = 'hidden';\r\n                        //item.resizeEven(trigger, item);\r\n                        trigger.classList.add(_editor_module_scss__WEBPACK_IMPORTED_MODULE_3__[\"default\"].focus);\r\n                        if (menuTrggrId) {\r\n                            let menuTrggr = document.getElementById(menuTrggrId);\r\n                            if (menuTrggr) {\r\n                                menuTrggr.classList.remove(_itemMenu_itemMenu_module_scss__WEBPACK_IMPORTED_MODULE_4__[\"default\"].hasNav);\r\n                            }\r\n                        }\r\n                        else {\r\n                            trigger.classList.remove(_itemMenu_itemMenu_module_scss__WEBPACK_IMPORTED_MODULE_4__[\"default\"].hasNav);\r\n                        }\r\n                        var resizer = document.createElement('div');\r\n                        resizer.id = 'resizer';\r\n                        resizer.style.width = '10px';\r\n                        resizer.style.height = '10px';\r\n                        resizer.style.background = 'red';\r\n                        resizer.style.position = 'absolute';\r\n                        resizer.style.right = '0';\r\n                        resizer.style.bottom = '0';\r\n                        resizer.style.cursor = 'se-resize';\r\n                        trigger.appendChild(resizer);\r\n                        switch (e.target.id) {\r\n                            case 'rsz-box-width':\r\n                            case 'rsz-outerBox-width':\r\n                                localStorage.setItem('rszItem', 'rsz-width');\r\n                                if (trigger.classList.contains('grow')) {\r\n                                    if ((_a = trigger.parentElement) === null || _a === void 0 ? void 0 : _a.classList.contains('horizontal')) {\r\n                                        trigger.style.width = `${trigger.offsetWidth}px`;\r\n                                        trigger.classList.remove('grow');\r\n                                    }\r\n                                }\r\n                                var resizeWidth = function (e) {\r\n                                    console.log('pageX', e.pageX);\r\n                                    //offsetLeft takes the nearest POSITIONED parentElement\r\n                                    trigger.style.width = (e.pageX - trigger.offsetLeft - 15) + 'px';\r\n                                };\r\n                                var stopResize = function () {\r\n                                    window.removeEventListener('mousemove', resizeWidth, false);\r\n                                    window.removeEventListener('mouseup', stopResize, false);\r\n                                };\r\n                                var initResize = function () {\r\n                                    e.preventDefault();\r\n                                    window.addEventListener('mousemove', resizeWidth, false);\r\n                                    window.addEventListener('mouseup', stopResize, false);\r\n                                };\r\n                                resizer.addEventListener('mousedown', initResize, false);\r\n                                break;\r\n                            case 'rsz-box-height':\r\n                            case 'rsz-outerBox-height':\r\n                                localStorage.setItem('rszItem', 'rsz-height');\r\n                                if (trigger.classList.contains('grow')) {\r\n                                    if ((_b = trigger.parentElement) === null || _b === void 0 ? void 0 : _b.classList.contains('vertical')) {\r\n                                        trigger.style.height = `${trigger.offsetHeight}px`;\r\n                                        trigger.classList.remove('grow');\r\n                                    }\r\n                                }\r\n                                var resizeHeight = function (e) {\r\n                                    trigger.style.height = (e.pageY - trigger.offsetTop - 32) + 'px';\r\n                                };\r\n                                var stopResize = function () {\r\n                                    window.removeEventListener('mousemove', resizeHeight, false);\r\n                                    window.removeEventListener('mouseup', stopResize, false);\r\n                                };\r\n                                var initResize = function () {\r\n                                    window.addEventListener('mousemove', resizeHeight, false);\r\n                                    window.addEventListener('mouseup', stopResize, false);\r\n                                };\r\n                                console.log('adfadsff');\r\n                                resizer.addEventListener('mousedown', initResize, false);\r\n                                break;\r\n                            case 'rsz-box-both':\r\n                            case 'rsz-outerBox-both':\r\n                                localStorage.setItem('rszItem', 'rsz-both');\r\n                                if (trigger.classList.contains('grow')) {\r\n                                    if ((_c = trigger.parentElement) === null || _c === void 0 ? void 0 : _c.classList.contains('horizontal')) {\r\n                                        trigger.style.width = `${trigger.offsetWidth}px`;\r\n                                    }\r\n                                    if ((_d = trigger.parentElement) === null || _d === void 0 ? void 0 : _d.classList.contains('vertical')) {\r\n                                        trigger.style.height = `${trigger.offsetHeight}px`;\r\n                                    }\r\n                                    trigger.classList.remove('grow');\r\n                                }\r\n                                var resizeBoth = function (e) {\r\n                                    trigger.style.width = (e.pageX - trigger.offsetLeft - 22) + 'px';\r\n                                    trigger.style.height = (e.pageY - trigger.offsetTop - 32) + 'px';\r\n                                };\r\n                                var stopResize = function () {\r\n                                    window.removeEventListener('mousemove', resizeBoth, false);\r\n                                    window.removeEventListener('mouseup', stopResize, false);\r\n                                };\r\n                                var initResize = function () {\r\n                                    window.addEventListener('mousemove', resizeBoth, false);\r\n                                    window.addEventListener('mouseup', stopResize, false);\r\n                                };\r\n                                console.log('adfadsff');\r\n                                resizer.addEventListener('mousedown', initResize, false);\r\n                                break;\r\n                        }\r\n                        _itemMenu_ItemMenu__WEBPACK_IMPORTED_MODULE_5__.ItemMenu.resize = true;\r\n                    }\r\n                }\r\n            }\r\n        };\r\n    }\r\n    /**\r\n     * Cancels rsz item\r\n     * @param e\r\n     */\r\n    rszEnd(e) {\r\n        var _a, _b, _c;\r\n        //musí být dvě funkce, jedna pro klik na button, druhá pro klik na označený boxItem třídou moveBox\r\n        if (e.target.id === 'rsz-item-pixel-end') {\r\n            console.log('rsz-item-pixel-end');\r\n            /*   const mainBox = document.getElementById('comics');\r\n              mainBox?.classList.remove('hasNavRsz'); */\r\n            let resizngItemId = localStorage.getItem('resizingItem');\r\n            let resizngItem;\r\n            if (resizngItemId) {\r\n                resizngItem = document.getElementById(resizngItemId);\r\n                if (resizngItem) {\r\n                    const trggrCtgrName = resizngItem.getAttribute('data-category');\r\n                    const items = _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_2__.LocStorage.getItems('items');\r\n                    let ctgrData = null;\r\n                    try {\r\n                        ctgrData = _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_2__.LocStorage.getCtgr(items, trggrCtgrName);\r\n                    }\r\n                    catch (error) {\r\n                        if (error instanceof _common_error_locStorageError_ExistInLocStorageError__WEBPACK_IMPORTED_MODULE_7__.ExistInLocStorageError) {\r\n                            console.log(error.message, error.property);\r\n                        }\r\n                    }\r\n                    if (ctgrData) {\r\n                        const rszingItemData = _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_2__.LocStorage.findItem(ctgrData.subItems, resizngItemId);\r\n                        if (rszingItemData) {\r\n                            //vrácení původních css tríd pro width\r\n                            console.log(rszingItemData.classes.grow);\r\n                            rszingItemData.classes.grow.forEach(classs => {\r\n                                resizngItem.classList.add(classs);\r\n                            });\r\n                            if (rszingItemData.inlStyl) {\r\n                                let iterator;\r\n                                for (iterator in rszingItemData.inlStyl) {\r\n                                    resizngItem.style[`${iterator}`] = rszingItemData.inlStyl[iterator];\r\n                                }\r\n                            }\r\n                            resizngItem.classList.remove(_editor_module_scss__WEBPACK_IMPORTED_MODULE_3__[\"default\"].focus);\r\n                            //remove style needed to resize \r\n                            resizngItem.style.position = '';\r\n                            resizngItem.style.overflow = '';\r\n                            //if inline style width or hight is already in memory, do not delete these inline styles\r\n                            if (!((_a = rszingItemData.inlStyl) === null || _a === void 0 ? void 0 : _a.width)) {\r\n                                resizngItem.style.width = '';\r\n                            }\r\n                            else if (!((_b = rszingItemData.inlStyl) === null || _b === void 0 ? void 0 : _b.height)) {\r\n                                resizngItem.style.height = '';\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            (_c = document.getElementById('resizer')) === null || _c === void 0 ? void 0 : _c.remove();\r\n            _itemMenu_ItemMenu__WEBPACK_IMPORTED_MODULE_5__.ItemMenu.resize = false;\r\n        }\r\n    }\r\n    /**\r\n     * Cancels move item\r\n     * @param e\r\n     */\r\n    rszItem(e) {\r\n        var _a, _b, _c, _d, _e;\r\n        //musí být dvě funkce, jedna pro klik na button, druhá pro klik na označený boxItem třídou moveBox\r\n        if (e.target.id === 'rsz-item-pixel') {\r\n            console.log('rsz-item-pixel');\r\n            let resizngItemId = localStorage.getItem('resizingItem');\r\n            let resizngItem;\r\n            if (resizngItemId) {\r\n                resizngItem = document.getElementById(resizngItemId);\r\n                if (resizngItem) {\r\n                    const trggrCtgrName = resizngItem.getAttribute('data-category');\r\n                    resizngItem.classList.remove(_editor_module_scss__WEBPACK_IMPORTED_MODULE_3__[\"default\"].focus);\r\n                    //remove style needed to resize \r\n                    resizngItem.style.position = '';\r\n                    //width and Height of resizingItem\r\n                    const items = _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_2__.LocStorage.getItems('items');\r\n                    let ctgrData = null;\r\n                    try {\r\n                        ctgrData = _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_2__.LocStorage.getCtgr(items, trggrCtgrName);\r\n                    }\r\n                    catch (error) {\r\n                        if (error instanceof _common_error_locStorageError_ExistInLocStorageError__WEBPACK_IMPORTED_MODULE_7__.ExistInLocStorageError) {\r\n                            console.log(error.message, error.property);\r\n                        }\r\n                    }\r\n                    if (ctgrData) {\r\n                        const rszItemData = _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_2__.LocStorage.findItem(ctgrData.subItems, resizngItemId);\r\n                        if (rszItemData) {\r\n                            let rszItemWidth;\r\n                            let rszItemHeight;\r\n                            const rszDrctn = localStorage.getItem('rszItem');\r\n                            switch (rszDrctn) {\r\n                                case 'rsz-width':\r\n                                    rszItemWidth = resizngItem.style.width;\r\n                                    console.log(resizngItem.style.width);\r\n                                    _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_2__.LocStorage.saveInlStylWidth(rszItemData, rszItemWidth);\r\n                                    if (resizngItem.classList.contains('x100')) {\r\n                                        resizngItem.classList.remove('x100');\r\n                                        rszItemData.classes.width[0] = 'x0';\r\n                                    }\r\n                                    if ((_a = resizngItem.parentElement) === null || _a === void 0 ? void 0 : _a.classList.contains('horizontal')) {\r\n                                        if (rszItemData.classes.grow[0] === 'grow') {\r\n                                            rszItemData.classes.grow[0] = 'noGrow';\r\n                                        }\r\n                                    }\r\n                                    break;\r\n                                case 'rsz-height':\r\n                                    rszItemHeight = resizngItem.style.height;\r\n                                    _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_2__.LocStorage.saveInlStylHeight(rszItemData, rszItemHeight);\r\n                                    if (resizngItem.classList.contains('y100')) {\r\n                                        resizngItem.classList.remove('y100');\r\n                                        rszItemData.classes.height[0] = 'y0';\r\n                                    }\r\n                                    if ((_b = resizngItem.parentElement) === null || _b === void 0 ? void 0 : _b.classList.contains('vertical')) {\r\n                                        if (rszItemData.classes.grow[0] === 'grow') {\r\n                                            rszItemData.classes.grow[0] = 'noGrow';\r\n                                        }\r\n                                    }\r\n                                    break;\r\n                                case 'rsz-both':\r\n                                    rszItemWidth = resizngItem.style.width;\r\n                                    rszItemHeight = resizngItem.style.height;\r\n                                    _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_2__.LocStorage.saveInlStylWidth(rszItemData, rszItemWidth);\r\n                                    _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_2__.LocStorage.saveInlStylHeight(rszItemData, rszItemHeight);\r\n                                    if (resizngItem.classList.contains('y100')) {\r\n                                        resizngItem.classList.remove('y100');\r\n                                        rszItemData.classes.height[0] = 'y0';\r\n                                    }\r\n                                    if (resizngItem.classList.contains('x100')) {\r\n                                        resizngItem.classList.remove('x100');\r\n                                        rszItemData.classes.width[0] = 'x0';\r\n                                    }\r\n                                    if ((_c = resizngItem.parentElement) === null || _c === void 0 ? void 0 : _c.classList.contains('horizontal')) {\r\n                                        if (rszItemData.classes.grow[0] === 'grow') {\r\n                                            rszItemData.classes.grow[0] = 'noGrow';\r\n                                        }\r\n                                    }\r\n                                    if ((_d = resizngItem.parentElement) === null || _d === void 0 ? void 0 : _d.classList.contains('vertical')) {\r\n                                        if (rszItemData.classes.grow[0] === 'grow') {\r\n                                            rszItemData.classes.grow[0] = 'noGrow';\r\n                                        }\r\n                                    }\r\n                                    break;\r\n                            }\r\n                            let saved = _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_2__.LocStorage.upgrItem(ctgrData.subItems, resizngItemId, rszItemData);\r\n                            if (saved) {\r\n                                (_e = document.getElementById('resizer')) === null || _e === void 0 ? void 0 : _e.remove();\r\n                                _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_2__.LocStorage.setItem('items', items);\r\n                                _itemMenu_ItemMenu__WEBPACK_IMPORTED_MODULE_5__.ItemMenu.resize = false;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * Turns on image item move state\r\n     * @param e\r\n     */\r\n    moveItem(e) {\r\n        var _a;\r\n        //musí být dvě funkce, jedna pro klik na button, druhá pro klik na označený boxItem třídou moveBox\r\n        if (e.target.id === 'move-item') {\r\n            console.log('move-item');\r\n            const itemMenu = e.target.closest('#itemMenu');\r\n            const triggerId = itemMenu === null || itemMenu === void 0 ? void 0 : itemMenu.getAttribute('data-triggerid');\r\n            if (triggerId) {\r\n                const trigger = document.getElementById(triggerId);\r\n                if (trigger) {\r\n                    const triggerCategory = trigger.getAttribute('data-category');\r\n                    //nastavý všem boxům červený outline a zapne menu pro Move State\r\n                    if (!((_a = trigger.parentElement) === null || _a === void 0 ? void 0 : _a.classList.contains(_editor_module_scss__WEBPACK_IMPORTED_MODULE_3__[\"default\"].moveBox))) {\r\n                        let itemBoxes = document.getElementsByClassName('boxItem');\r\n                        const mainBox = document.getElementById('comics');\r\n                        mainBox === null || mainBox === void 0 ? void 0 : mainBox.classList.add(_editor_module_scss__WEBPACK_IMPORTED_MODULE_3__[\"default\"].moveBox);\r\n                        for (const itemBox of itemBoxes) {\r\n                            itemBox.classList.add(_editor_module_scss__WEBPACK_IMPORTED_MODULE_3__[\"default\"].moveBox);\r\n                        }\r\n                        localStorage.setItem('movingItem', trigger.id);\r\n                        trigger.classList.add(_editor_module_scss__WEBPACK_IMPORTED_MODULE_3__[\"default\"].focus);\r\n                        trigger.classList.remove(_itemMenu_itemMenu_module_scss__WEBPACK_IMPORTED_MODULE_4__[\"default\"].hasNav);\r\n                        _itemMenu_ItemMenu__WEBPACK_IMPORTED_MODULE_5__.ItemMenu.move = true;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * Cancels move item\r\n     * @param e\r\n     */\r\n    moveEnd(e) {\r\n        //musí být dvě funkce, jedna pro klik na button, druhá pro klik na označený boxItem třídou moveBox\r\n        if (e.target.id === 'move-end') {\r\n            console.log('move-end');\r\n            const itemMenu = e.target.closest('#itemMenu');\r\n            const triggerId = itemMenu === null || itemMenu === void 0 ? void 0 : itemMenu.getAttribute('data-triggerid');\r\n            if (triggerId) {\r\n                const trigger = document.getElementById(triggerId);\r\n                if (trigger) {\r\n                    const triggerCategory = trigger.getAttribute('data-category');\r\n                    //odstraní všem boxům červený outline a zapne menu pro Move State\r\n                    let itemBoxes = document.getElementsByClassName('boxItem');\r\n                    const mainBox = document.getElementById('comics');\r\n                    mainBox === null || mainBox === void 0 ? void 0 : mainBox.classList.remove(_editor_module_scss__WEBPACK_IMPORTED_MODULE_3__[\"default\"].moveBox);\r\n                    for (const itemBox of itemBoxes) {\r\n                        itemBox.classList.remove(_editor_module_scss__WEBPACK_IMPORTED_MODULE_3__[\"default\"].moveBox);\r\n                    }\r\n                    let movingItemId = localStorage.getItem('movingItem');\r\n                    let movingItem;\r\n                    if (movingItemId) {\r\n                        movingItem = document.getElementById(movingItemId);\r\n                    }\r\n                    if (movingItem) {\r\n                        movingItem.classList.remove(_editor_module_scss__WEBPACK_IMPORTED_MODULE_3__[\"default\"].focus);\r\n                    }\r\n                    trigger.classList.remove(_itemMenu_itemMenu_module_scss__WEBPACK_IMPORTED_MODULE_4__[\"default\"].hasNavMove);\r\n                    _itemMenu_ItemMenu__WEBPACK_IMPORTED_MODULE_5__.ItemMenu.move = false;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    /**\r\n   * Moves moving item in trigger item\r\n   * @param e\r\n   */\r\n    moveItemHere(e) {\r\n        //musí být dvě funkce, jedna pro klik na button, druhá pro klik na označený boxItem třídou moveBox\r\n        if (e.target.id === 'move-item-here') {\r\n            console.log('move-item-here');\r\n            const evTarget = e.target;\r\n            const itemMenu = evTarget.closest('#itemMenu');\r\n            const triggerId = itemMenu === null || itemMenu === void 0 ? void 0 : itemMenu.getAttribute('data-triggerid');\r\n            if (triggerId) {\r\n                const trigger = document.getElementById(triggerId);\r\n                if (trigger) {\r\n                    const trggrCtgrName = trigger.getAttribute('data-category');\r\n                    const items = _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_2__.LocStorage.getItems('items');\r\n                    let ctgrData = null;\r\n                    try {\r\n                        ctgrData = _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_2__.LocStorage.getCtgr(items, trggrCtgrName);\r\n                    }\r\n                    catch (error) {\r\n                        if (error instanceof _common_error_locStorageError_ExistInLocStorageError__WEBPACK_IMPORTED_MODULE_7__.ExistInLocStorageError) {\r\n                            console.log(error.message, error.property);\r\n                        }\r\n                    }\r\n                    if (ctgrData) {\r\n                        let movingItemId = localStorage.getItem('movingItem');\r\n                        if (movingItemId) {\r\n                            let movingItem;\r\n                            movingItem = document.getElementById(movingItemId);\r\n                            if (movingItem) {\r\n                                if (!movingItem.contains(trigger)) {\r\n                                    movingItem.classList.remove(_editor_module_scss__WEBPACK_IMPORTED_MODULE_3__[\"default\"].focus);\r\n                                    let movingItemCtgr = movingItem.getAttribute('data-category');\r\n                                    //Local storage part\r\n                                    let movingItemData = {};\r\n                                    if (movingItemCtgr) {\r\n                                        if (movingItemCtgr === trggrCtgrName) {\r\n                                            movingItemData = _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_2__.LocStorage.findItem(ctgrData.subItems, movingItemId);\r\n                                            let removed = _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_2__.LocStorage.rmvItem(ctgrData.subItems, movingItemId);\r\n                                            if (!removed) {\r\n                                                return;\r\n                                            }\r\n                                        }\r\n                                        else {\r\n                                            movingItemData = _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_2__.LocStorage.findItem(ctgrData.subItems, movingItemId);\r\n                                            let removed = _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_2__.LocStorage.rmvItem(ctgrData.subItems, movingItemId);\r\n                                            if (!removed) {\r\n                                                return;\r\n                                            }\r\n                                        }\r\n                                    }\r\n                                    //pokud je trigger image\r\n                                    if (trigger.tagName === 'IMG') {\r\n                                        let triggerPrnt = trigger.parentElement;\r\n                                        if (triggerPrnt) {\r\n                                            //pokud je triggerPrnt main box\r\n                                            if (triggerPrnt.id === trggrCtgrName) {\r\n                                                //najdi triggerData a vloz za nej movingItemData\r\n                                                if (ctgrData.subItems) {\r\n                                                    for (let index = 0; index < ctgrData.subItems.length; index++) {\r\n                                                        if (trigger.id === ctgrData.subItems[index].id) {\r\n                                                            if (movingItemData) {\r\n                                                                ctgrData.subItems.splice(index + 1, 0, movingItemData);\r\n                                                                trigger.after(movingItem);\r\n                                                            }\r\n                                                            break;\r\n                                                        }\r\n                                                        ;\r\n                                                    }\r\n                                                }\r\n                                            }\r\n                                            //pokud je triggerPrnt itemBox\r\n                                            else {\r\n                                                if (movingItemData) {\r\n                                                    let replaced = _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_2__.LocStorage.placeItemBhndItem(ctgrData.subItems, triggerId, movingItemData);\r\n                                                    if (replaced) {\r\n                                                        trigger.after(movingItem);\r\n                                                    }\r\n                                                }\r\n                                            }\r\n                                        }\r\n                                    }\r\n                                    else {\r\n                                        //pokud je trigger mainBox\r\n                                        if (trigger.id === trggrCtgrName) {\r\n                                            if (ctgrData.subItems) {\r\n                                                if (movingItemData) {\r\n                                                    ctgrData.subItems.push(movingItemData);\r\n                                                    trigger.append(movingItem);\r\n                                                }\r\n                                            }\r\n                                        }\r\n                                        else {\r\n                                            if (movingItemData) {\r\n                                                let pushed = _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_2__.LocStorage.pushItemInSubItems(ctgrData.subItems, triggerId, movingItemData);\r\n                                                if (pushed) {\r\n                                                    trigger.append(movingItem);\r\n                                                }\r\n                                            }\r\n                                        }\r\n                                    }\r\n                                    _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_2__.LocStorage.setItem('items', items);\r\n                                    //odstraní všem boxům červený outline a vypne menu pro Move State\r\n                                    let itemBoxes = document.getElementsByClassName('boxItem');\r\n                                    const mainBox = document.getElementById('comics');\r\n                                    mainBox === null || mainBox === void 0 ? void 0 : mainBox.classList.remove(_editor_module_scss__WEBPACK_IMPORTED_MODULE_3__[\"default\"].moveBox);\r\n                                    for (const itemBox of itemBoxes) {\r\n                                        itemBox.classList.remove(_editor_module_scss__WEBPACK_IMPORTED_MODULE_3__[\"default\"].moveBox);\r\n                                    }\r\n                                    trigger.classList.remove(_itemMenu_itemMenu_module_scss__WEBPACK_IMPORTED_MODULE_4__[\"default\"].hasNavMove);\r\n                                    _itemMenu_ItemMenu__WEBPACK_IMPORTED_MODULE_5__.ItemMenu.move = false;\r\n                                }\r\n                                //pokud je target ditetem moving itemu, upozorni uživatele, že nelze přesouvat otce do svého dítěte\r\n                                else {\r\n                                    window.alert('You can not place parent item into child item!');\r\n                                }\r\n                            }\r\n                        }\r\n                        //DOM moving item part\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * neplatí pro tuhle funkci: Sort items in localStorage to make them in correct order on a next page reload\r\n     * funkci rozdělit na dvě!\r\n     * @param items\r\n     */\r\n    /*  public getSortedItems(category:string){\r\n         const items: items = LocStorage.getItems('items');\r\n         if(category === 'comics'){\r\n             if(typeof items.comics.subItems !== 'undefined'){\r\n                 \r\n                 items.comics.subItems.sort( (a, b) => {\r\n                     return a.order - b.order;\r\n                 });\r\n \r\n                 return items.comics;\r\n             }\r\n             \r\n         }\r\n         else if(category === 'material'){\r\n             if(typeof items.material !== 'undefined'){\r\n \r\n                 items.material.sort( (a, b) => {\r\n                     return a.order - b.order;\r\n                 });\r\n             \r\n                 return items.material;\r\n             }\r\n \r\n         }\r\n     } */\r\n    createDivContainer(styles, atributes) {\r\n        const divContainer = document.createElement('div');\r\n        //style for grid category\r\n        if (styles) {\r\n            (0,_common_StyleToElement__WEBPACK_IMPORTED_MODULE_1__.addInlineStyle)(divContainer, styles);\r\n        }\r\n        if (atributes) {\r\n            (0,_common_AtributesToElement__WEBPACK_IMPORTED_MODULE_0__.addAtributes)(divContainer, atributes);\r\n        }\r\n        /* divContainer.setAttribute('draggable', 'true');\r\n        divContainer.setAttribute('id', 'item2'); */\r\n        return divContainer;\r\n    }\r\n    createTestItem(width, height, background, atributes) {\r\n        const styles = {\r\n            width: width,\r\n            height: height,\r\n            border: '1px solid black',\r\n            background: background,\r\n            float: 'left',\r\n            /* 'align-self': 'center' */\r\n        };\r\n        const divItem = document.createElement('div');\r\n        //style for grid category\r\n        if (styles) {\r\n            (0,_common_StyleToElement__WEBPACK_IMPORTED_MODULE_1__.addInlineStyle)(divItem, styles);\r\n        }\r\n        if (atributes) {\r\n            (0,_common_AtributesToElement__WEBPACK_IMPORTED_MODULE_0__.addAtributes)(divItem, atributes);\r\n        }\r\n        return divItem;\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZWRpdG9yL2VkaXRvckNvbXBvbmVudHMvaXRlbS9JdGVtLnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFrRTtBQUNGO0FBQ0s7QUFHcEI7QUFDTTtBQUNSO0FBQ3lCO0FBQzhCO0FBQ3RHLG1CQUFPLENBQUMsK0VBQW9CLENBQUMsQ0FBQztBQUU5QixJQUFJLEtBQUssR0FBQyxLQUFLLENBQUM7QUFFVCxNQUFNLElBQUk7SUFFTixVQUFVLENBQUMsQ0FBTztRQUNyQixrR0FBa0c7UUFDbEcsSUFBa0IsQ0FBQyxDQUFDLE1BQU8sQ0FBQyxFQUFFLEtBQUssa0JBQWtCLElBQWtCLENBQUMsQ0FBQyxNQUFPLENBQUMsRUFBRSxLQUFLLHNCQUFzQixFQUFFO1lBQzVHLENBQUMsQ0FBQyxjQUFjLEVBQUUsQ0FBQztZQUNuQixPQUFPLENBQUMsR0FBRyxDQUFlLENBQUMsQ0FBQyxNQUFPLENBQUMsRUFBRSxDQUFDLENBQUM7WUFDeEMsSUFBSSxTQUFTLEdBQWUsSUFBSSxDQUFDO1lBQ2pDLElBQWtCLENBQUMsQ0FBQyxNQUFPLENBQUMsRUFBRSxLQUFLLGtCQUFrQixFQUFHO2dCQUNwRCxTQUFTLEdBQUcsWUFBWSxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUM7YUFDaEQ7aUJBQ0ksSUFBa0IsQ0FBQyxDQUFDLE1BQU8sQ0FBQyxFQUFFLEtBQUssc0JBQXNCLEVBQUM7Z0JBQzNELFNBQVMsR0FBRyxZQUFZLENBQUMsT0FBTyxDQUFDLGFBQWEsQ0FBQzthQUVsRDtZQUNELElBQUksU0FBUyxFQUFFO2dCQUNYLE1BQU0sT0FBTyxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsU0FBUyxDQUFDLENBQUM7Z0JBQ25ELE1BQU0sV0FBVyxHQUFHLE9BQU8sYUFBUCxPQUFPLHVCQUFQLE9BQU8sQ0FBRSxZQUFZLENBQUMsV0FBVyxDQUFDLENBQUM7Z0JBQ3ZELElBQUcsT0FBTyxJQUFJLFdBQVcsRUFBQztvQkFDdEIsTUFBTSxhQUFhLEdBQVcsT0FBTyxDQUFD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QU0sQ0FBQyxDQUFDO1NBQ3ZDO1FBQ0QsSUFBRyxTQUFTLEVBQUM7WUFDVCx3RUFBWSxDQUFDLFlBQVksRUFBRSxTQUFTLENBQUMsQ0FBQztTQUN6QztRQUNEO29EQUM0QztRQUU1QyxPQUFPLFlBQVksQ0FBQztJQUN4QixDQUFDO0lBSU8sY0FBYyxDQUFDLEtBQVksRUFBRSxNQUFhLEVBQUUsVUFBaUIsRUFBRSxTQUFpQjtRQUNwRixNQUFNLE1BQU0sR0FBRztZQUNYLEtBQUssRUFBRyxLQUFLO1lBQ2IsTUFBTSxFQUFHLE1BQU07WUFDZixNQUFNLEVBQUcsaUJBQWlCO1lBQzFCLFVBQVUsRUFBRSxVQUFVO1lBQ3RCLEtBQUssRUFBRSxNQUFNO1lBQ2IsNEJBQTRCO1NBQy9CLENBQUM7UUFFRixNQUFNLE9BQU8sR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQzlDLHlCQUF5QjtRQUN6QixJQUFJLE1BQU0sRUFBQztZQUNQLHNFQUFjLENBQUMsT0FBTyxFQUFFLE1BQU0sQ0FBQyxDQUFDO1NBQ25DO1FBQ0QsSUFBRyxTQUFTLEVBQUM7WUFDVCx3RUFBWSxDQUFDLE9BQU8sRUFBRSxTQUFTLENBQUMsQ0FBQztTQUNwQztRQUVELE9BQU8sT0FBTyxDQUFDO0lBQ25CLENBQUM7Q0FJSiIsInNvdXJjZXMiOlsid2VicGFjazovL2NvbWljcy1lZGl0b3IvLi9zcmMvZWRpdG9yL2VkaXRvckNvbXBvbmVudHMvaXRlbS9JdGVtLnRzPzc1Y2IiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYWRkQXRyaWJ1dGVzIH0gZnJvbSBcIi4uLy4uLy4uL2NvbW1vbi9BdHJpYnV0ZXNUb0VsZW1lbnRcIjtcclxuaW1wb3J0IHsgYWRkSW5saW5lU3R5bGUgfSBmcm9tIFwiLi4vLi4vLi4vY29tbW9uL1N0eWxlVG9FbGVtZW50XCI7XHJcbmltcG9ydCB7IExvY1N0b3JhZ2UgfSBmcm9tICcuLi8uLi8uLi9jb21tb24vbG9jYWxTdG9yYWdlL0xvY1N0b3JhZ2UnO1xyXG5pbXBvcnQgeyBpdGVtcywgaXRlbSwgYm94SXRlbUNsYXNzIH0gZnJvbSBcIi4uLy4uLy4uL2NvbW1vbi9sb2NhbFN0b3JhZ2Uvc3RvcmFnZUludGVyZmFjZXNcIjtcclxuaW1wb3J0IHsgY3RncklkIH0gZnJvbSBcIi4uLy4uL2VkaXRvclR5cGVzXCI7XHJcbmltcG9ydCBzdHlsRWRpdG9yIGZyb20gXCIuLi8uLi9lZGl0b3IubW9kdWxlLnNjc3NcIlxyXG5pbXBvcnQgc3R5bElNZW51IGZyb20gXCIuL2l0ZW1NZW51L2l0ZW1NZW51Lm1vZHVsZS5zY3NzXCJcclxuaW1wb3J0IHsgSXRlbU1lbnUgfSBmcm9tIFwiLi9pdGVtTWVudS9JdGVtTWVudVwiO1xyXG5pbXBvcnQgeyBJbnB1dEdldHRlciB9IGZyb20gJy4vLi4vLi4vLi4vY29tbW9uL2lucHV0R2V0dGVyL0lucHV0R2V0dGVyJztcclxuaW1wb3J0IHsgRXhpc3RJbkxvY1N0b3JhZ2VFcnJvciB9IGZyb20gXCIuLi8uLi8uLi9jb21tb24vZXJyb3IvbG9jU3RvcmFnZUVycm9yL0V4aXN0SW5Mb2NTdG9yYWdlRXJyb3JcIjtcclxucmVxdWlyZSgnLi9pdGVtLm1vZHVsZS5zY3NzJyk7XHJcblxyXG5sZXQgZGVidWc9ZmFsc2U7XHJcblxyXG5leHBvcnQgY2xhc3MgSXRlbXtcclxuXHJcbiAgICBwdWJsaWMgcnN6UGVyY2VudChlOkV2ZW50KXtcclxuICAgICAgICAvL211c8OtIGLDvXQgZHbEmyBmdW5rY2UsIGplZG5hIHBybyBrbGlrIG5hIGJ1dHRvbiwgZHJ1aMOhIHBybyBrbGlrIG5hIG96bmHEjWVuw70gYm94SXRlbSB0xZnDrWRvdSBtb3ZlQm94XHJcbiAgICAgICAgaWYgKCg8SFRNTEVsZW1lbnQ+ZS50YXJnZXQpLmlkID09PSAncnN6LWl0ZW0tcGVyY2VudCcgfHwgKDxIVE1MRWxlbWVudD5lLnRhcmdldCkuaWQgPT09ICdyc3otb3V0ZXJCb3gtcGVyY2VudCcpIHtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygoPEhUTUxFbGVtZW50PmUudGFyZ2V0KS5pZCk7XHJcbiAgICAgICAgICAgIGxldCB0cmlnZ2VySWQ6c3RyaW5nfG51bGwgPSBudWxsO1xyXG4gICAgICAgICAgICBpZiAoKDxIVE1MRWxlbWVudD5lLnRhcmdldCkuaWQgPT09ICdyc3otaXRlbS1wZXJjZW50JyApIHtcclxuICAgICAgICAgICAgICAgIHRyaWdnZXJJZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0cmlnZ2VyaWQnKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKCg8SFRNTEVsZW1lbnQ+ZS50YXJnZXQpLmlkID09PSAncnN6LW91dGVyQm94LXBlcmNlbnQnKXtcclxuICAgICAgICAgICAgICAgIHRyaWdnZXJJZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0cmdnclBybnRJZCcpXHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0cmlnZ2VySWQpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRyaWdnZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0cmlnZ2VySWQpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdHJpZ2dlcktpbmQgPSB0cmlnZ2VyPy5nZXRBdHRyaWJ1dGUoJ2RhdGEta2luZCcpO1xyXG4gICAgICAgICAgICAgICAgaWYodHJpZ2dlciAmJiB0cmlnZ2VyS2luZCl7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdHJnZ3JDdGdyTmFtZSA9IDxjdGdySWQ+dHJpZ2dlci5nZXRBdHRyaWJ1dGUoJ2RhdGEtY2F0ZWdvcnknKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwcmVzZXRzID0gIElucHV0R2V0dGVyLmdldENoY2tJbnBkVmxzKCcjYm94SXRlbS1wcmVzZXQnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGl0ZW1zID0gTG9jU3RvcmFnZS5nZXRJdGVtcygnaXRlbXMnKTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgY3RnckRhdGE6aXRlbSB8IG51bGwgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN0Z3JEYXRhID0gTG9jU3RvcmFnZS5nZXRDdGdyKGl0ZW1zLCB0cmdnckN0Z3JOYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3I6dW5rbm93bikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFeGlzdEluTG9jU3RvcmFnZUVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvci5tZXNzYWdlLCBlcnJvci5wcm9wZXJ0eSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoY3RnckRhdGEpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0cmlnZ2VyRGF0YSA9IExvY1N0b3JhZ2UuZmluZEl0ZW0oY3RnckRhdGEuc3ViSXRlbXMsIHRyaWdnZXJJZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0cmlnZ2VyRGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJlc2V0cy5mb3JFYWNoKHByZXNldCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJlc2V0Lm5hbWUgPT09ICd3aWR0aCcpIHsgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRyaWdnZXJEYXRhIS5jbGFzc2VzLndpZHRoWzBdICE9PSBwcmVzZXQudmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0cmlnZ2VyS2luZCA9PT0gJ2JveEl0ZW0nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJlc2V0LnZhbHVlID09PSAneDEwMCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHJpZ2dlci5wYXJlbnRFbGVtZW50Py5jbGFzc0xpc3QuY29udGFpbnMoJ2hvcml6b250YWwnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHJpZ2dlci5jbGFzc0xpc3QuY29udGFpbnMoJ2dyb3cnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJpZ2dlci5jbGFzc0xpc3QucmVtb3ZlKCdncm93Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoPGJveEl0ZW1DbGFzcz50cmlnZ2VyRGF0YSEuY2xhc3NlcykuZ3Jvd1swXSA9ICdub0dyb3cnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0cmlnZ2VyLnN0eWxlLndpZHRoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyaWdnZXIuc3R5bGUud2lkdGggPSAnJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRyaWdnZXJEYXRhPy5pbmxTdHlsPy53aWR0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHRyaWdnZXJEYXRhLmlubFN0eWwud2lkdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRyaWdnZXIuY2xhc3NMaXN0LmNvbnRhaW5zKCd4MCcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyaWdnZXIuY2xhc3NMaXN0LnJlbW92ZSgneDAnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJpZ2dlci5jbGFzc0xpc3QuYWRkKHByZXNldC52YWx1ZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZihwcmVzZXQudmFsdWUgPT09ICd4MCcpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0cmlnZ2VyLmNsYXNzTGlzdC5jb250YWlucygneDEwMCcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyaWdnZXIuY2xhc3NMaXN0LnJlbW92ZSgneDEwMCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0cmlnZ2VyS2luZCA9PT0gJ2ltYWdlSXRlbScpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcmVzZXQudmFsdWUgPT09ICd4MTAwJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0cmlnZ2VyLmNsYXNzTGlzdC5jb250YWlucygneDAnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyLmNsYXNzTGlzdC5yZW1vdmUoJ3gwJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyaWdnZXIuY2xhc3NMaXN0LmFkZChwcmVzZXQudmFsdWUpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYocHJlc2V0LnZhbHVlID09PSAneDAnKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHJpZ2dlci5jbGFzc0xpc3QuY29udGFpbnMoJ3gxMDAnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyLmNsYXNzTGlzdC5yZW1vdmUoJ3gxMDAnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKDxib3hJdGVtQ2xhc3M+dHJpZ2dlckRhdGEhLmNsYXNzZXMpLndpZHRoWzBdID0gcHJlc2V0LnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBMb2NTdG9yYWdlLnVwZ3JJdGVtKGN0Z3JEYXRhIS5zdWJJdGVtcywgdHJpZ2dlcklkISwgdHJpZ2dlckRhdGEhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9jU3RvcmFnZS5zZXRJdGVtKCdpdGVtcycsIGl0ZW1zKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAocHJlc2V0Lm5hbWUgPT09ICdoZWlnaHQnKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRyaWdnZXJEYXRhIS5jbGFzc2VzLmhlaWdodFswXSAhPT0gcHJlc2V0LnZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHJpZ2dlcktpbmQgPT09ICdib3hJdGVtJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcmVzZXQudmFsdWUgPT09ICd5MTAwJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRyaWdnZXIucGFyZW50RWxlbWVudD8uY2xhc3NMaXN0LmNvbnRhaW5zKCd2ZXJ0aWNhbCcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHJpZ2dlci5jbGFzc0xpc3QuY29udGFpbnMoJ2dyb3cnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyaWdnZXIuY2xhc3NMaXN0LnJlbW92ZSgnZ3JvdycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICg8Ym94SXRlbUNsYXNzPnRyaWdnZXJEYXRhIS5jbGFzc2VzKS5ncm93WzBdID0gJ25vR3Jvdyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRyaWdnZXIuc3R5bGUuaGVpZ2h0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyLnN0eWxlLmhlaWdodCA9ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRyaWdnZXJEYXRhPy5pbmxTdHlsPy5oZWlnaHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgdHJpZ2dlckRhdGEuaW5sU3R5bC5oZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRyaWdnZXIuY2xhc3NMaXN0LmNvbnRhaW5zKCd5MCcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyLmNsYXNzTGlzdC5yZW1vdmUoJ3kwJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJpZ2dlci5jbGFzc0xpc3QuYWRkKHByZXNldC52YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmKHByZXNldC52YWx1ZSA9PT0gJ3kwJyl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHJpZ2dlci5jbGFzc0xpc3QuY29udGFpbnMoJ3kxMDAnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyaWdnZXIuY2xhc3NMaXN0LnJlbW92ZSgneTEwMCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0cmlnZ2VyS2luZCA9PT0gJ2ltYWdlSXRlbScpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByZXNldC52YWx1ZSA9PT0gJ3kxMDAnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0cmlnZ2VyLmNsYXNzTGlzdC5jb250YWlucygneTAnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyaWdnZXIuY2xhc3NMaXN0LnJlbW92ZSgneTAnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyaWdnZXIuY2xhc3NMaXN0LmFkZChwcmVzZXQudmFsdWUpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmKHByZXNldC52YWx1ZSA9PT0gJ3kwJyl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHJpZ2dlci5jbGFzc0xpc3QuY29udGFpbnMoJ3kxMDAnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyaWdnZXIuY2xhc3NMaXN0LnJlbW92ZSgneTEwMCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICg8Ym94SXRlbUNsYXNzPnRyaWdnZXJEYXRhIS5jbGFzc2VzKS5oZWlnaHRbMF0gPSBwcmVzZXQudmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9jU3RvcmFnZS51cGdySXRlbShjdGdyRGF0YSEuc3ViSXRlbXMsIHRyaWdnZXJJZCEsIHRyaWdnZXJEYXRhISlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBMb2NTdG9yYWdlLnNldEl0ZW0oJ2l0ZW1zJywgaXRlbXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByc3pJdGVtU3RhdGUoaXRlbTpJdGVtKXtcclxuICAgICAgICByZXR1cm4gKGU6RXZlbnQpPT57XHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICg8SFRNTEVsZW1lbnQ+ZS50YXJnZXQpLmlkID09PSAncnN6LWJveC13aWR0aCcgfHxcclxuICAgICAgICAoPEhUTUxFbGVtZW50PmUudGFyZ2V0KS5pZCA9PT0gJ3Jzei1ib3gtaGVpZ2h0JyB8fFxyXG4gICAgICAgICg8SFRNTEVsZW1lbnQ+ZS50YXJnZXQpLmlkID09PSAncnN6LWJveC1ib3RoJyB8fFxyXG4gICAgICAgICg8SFRNTEVsZW1lbnQ+ZS50YXJnZXQpLmlkID09PSAncnN6LW91dGVyQm94LXdpZHRoJyB8fFxyXG4gICAgICAgICg8SFRNTEVsZW1lbnQ+ZS50YXJnZXQpLmlkID09PSAncnN6LW91dGVyQm94LWhlaWdodCcgfHxcclxuICAgICAgICAoPEhUTUxFbGVtZW50PmUudGFyZ2V0KS5pZCA9PT0gJ3Jzei1vdXRlckJveC1ib3RoJyBcclxuICAgICAgICApe1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgcnN6IGl0ZW0uLi4keyg8SFRNTEVsZW1lbnQ+ZS50YXJnZXQpLmlkfWApO1xyXG4gICAgICAgICAgICBsZXQgdHJpZ2dlcklkO1xyXG4gICAgICAgICAgICBsZXQgbWVudVRyZ2dySWQ7XHJcbiAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgKDxIVE1MRWxlbWVudD5lLnRhcmdldCkuaWQgPT09ICdyc3otYm94LXdpZHRoJyB8fFxyXG4gICAgICAgICAgICAoPEhUTUxFbGVtZW50PmUudGFyZ2V0KS5pZCA9PT0gJ3Jzei1ib3gtaGVpZ2h0JyB8fFxyXG4gICAgICAgICAgICAoPEhUTUxFbGVtZW50PmUudGFyZ2V0KS5pZCA9PT0gJ3Jzei1ib3gtYm90aCcpIHtcclxuICAgICAgICAgICAgICAgIHRyaWdnZXJJZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0cmlnZ2VyaWQnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChcclxuICAgICAgICAgICAgKDxIVE1MRWxlbWVudD5lLnRhcmdldCkuaWQgPT09ICdyc3otb3V0ZXJCb3gtd2lkdGgnIHx8XHJcbiAgICAgICAgICAgICg8SFRNTEVsZW1lbnQ+ZS50YXJnZXQpLmlkID09PSAncnN6LW91dGVyQm94LWhlaWdodCcgfHxcclxuICAgICAgICAgICAgKDxIVE1MRWxlbWVudD5lLnRhcmdldCkuaWQgPT09ICdyc3otb3V0ZXJCb3gtYm90aCcgKXtcclxuICAgICAgICAgICAgICAgIHRyaWdnZXJJZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0cmdnclBybnRJZCcpO1xyXG4gICAgICAgICAgICAgICAgbWVudVRyZ2dySWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndHJpZ2dlcmlkJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRyaWdnZXJJZCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdHJpZ2dlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRyaWdnZXJJZCk7XHJcbiAgICAgICAgICAgICAgICBpZih0cmlnZ2VyKXtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0cmlnZ2VyQ2F0ZWdvcnkgPSA8Y3RncklkPnRyaWdnZXIuZ2V0QXR0cmlidXRlKCdkYXRhLWNhdGVnb3J5Jyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdyZXNpemluZ0l0ZW0nLCB0cmlnZ2VySWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vaWYgdHJpZ2dlciBjb250YWlucyBncm93IHByb3BlcnR5LCBzZXQgc3R5bGUgd2lkdGgvaGVpZ2h0IGFuZCByZW1vdmUgZ3Jvd1xyXG4gICAgICAgICAgICAgICAgICAgIHRyaWdnZXIuc3R5bGUucG9zaXRpb24gPSAncmVsYXRpdmUnO1xyXG4gICAgICAgICAgICAgICAgICAgIHRyaWdnZXIuc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJztcclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAvL2l0ZW0ucmVzaXplRXZlbih0cmlnZ2VyLCBpdGVtKTtcclxuICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyLmNsYXNzTGlzdC5hZGQoc3R5bEVkaXRvci5mb2N1cyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lbnVUcmdncklkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBtZW51VHJnZ3IgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChtZW51VHJnZ3JJZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZW51VHJnZ3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lbnVUcmdnci5jbGFzc0xpc3QucmVtb3ZlKHN0eWxJTWVudS5oYXNOYXYpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyLmNsYXNzTGlzdC5yZW1vdmUoc3R5bElNZW51Lmhhc05hdik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZXNpemVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzaXplci5pZCA9ICdyZXNpemVyJztcclxuICAgICAgICAgICAgICAgICAgICByZXNpemVyLnN0eWxlLndpZHRoID0gJzEwcHgnO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc2l6ZXIuc3R5bGUuaGVpZ2h0ID0gJzEwcHgnO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc2l6ZXIuc3R5bGUuYmFja2dyb3VuZCA9ICdyZWQnO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc2l6ZXIuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc2l6ZXIuc3R5bGUucmlnaHQgPSAnMCc7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzaXplci5zdHlsZS5ib3R0b20gPSAnMCc7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzaXplci5zdHlsZS5jdXJzb3IgPSAnc2UtcmVzaXplJztcclxuICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyLmFwcGVuZENoaWxkKHJlc2l6ZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoKDxIVE1MRWxlbWVudD5lLnRhcmdldCkuaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAncnN6LWJveC13aWR0aCc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UncnN6LW91dGVyQm94LXdpZHRoJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdyc3pJdGVtJywgJ3Jzei13aWR0aCcpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0cmlnZ2VyLmNsYXNzTGlzdC5jb250YWlucygnZ3JvdycpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRyaWdnZXIucGFyZW50RWxlbWVudD8uY2xhc3NMaXN0LmNvbnRhaW5zKCdob3Jpem9udGFsJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJpZ2dlci5zdHlsZS53aWR0aCA9IGAke3RyaWdnZXIub2Zmc2V0V2lkdGh9cHhgOyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJpZ2dlci5jbGFzc0xpc3QucmVtb3ZlKCdncm93Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXNpemVXaWR0aCA9IGZ1bmN0aW9uIChlOkV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3BhZ2VYJywoPE1vdXNlRXZlbnQ+ZSkucGFnZVgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vb2Zmc2V0TGVmdCB0YWtlcyB0aGUgbmVhcmVzdCBQT1NJVElPTkVEIHBhcmVudEVsZW1lbnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyLnN0eWxlLndpZHRoID0gKCg8TW91c2VFdmVudD5lKS5wYWdlWCAtIHRyaWdnZXIub2Zmc2V0TGVmdCAtMTUpICsgJ3B4JztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN0b3BSZXNpemUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHJlc2l6ZVdpZHRoLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBzdG9wUmVzaXplLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbml0UmVzaXplPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHJlc2l6ZVdpZHRoLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBzdG9wUmVzaXplLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNpemVyLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGluaXRSZXNpemUsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ3Jzei1ib3gtaGVpZ2h0JzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAncnN6LW91dGVyQm94LWhlaWdodCc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncnN6SXRlbScsICdyc3otaGVpZ2h0Jyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRyaWdnZXIuY2xhc3NMaXN0LmNvbnRhaW5zKCdncm93JykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHJpZ2dlci5wYXJlbnRFbGVtZW50Py5jbGFzc0xpc3QuY29udGFpbnMoJ3ZlcnRpY2FsJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJpZ2dlci5zdHlsZS5oZWlnaHQgPSBgJHt0cmlnZ2VyLm9mZnNldEhlaWdodH1weGA7IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyLmNsYXNzTGlzdC5yZW1vdmUoJ2dyb3cnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc2l6ZUhlaWdodCA9IGZ1bmN0aW9uIChlOkV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJpZ2dlci5zdHlsZS5oZWlnaHQgPSAoKDxNb3VzZUV2ZW50PmUpLnBhZ2VZIC0gdHJpZ2dlci5vZmZzZXRUb3AgLSAzMikgKyAncHgnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3RvcFJlc2l6ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgcmVzaXplSGVpZ2h0LCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBzdG9wUmVzaXplLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbml0UmVzaXplPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHJlc2l6ZUhlaWdodCwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgc3RvcFJlc2l6ZSwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2FkZmFkc2ZmJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc2l6ZXIuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgaW5pdFJlc2l6ZSwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAncnN6LWJveC1ib3RoJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAncnN6LW91dGVyQm94LWJvdGgnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3Jzekl0ZW0nLCAncnN6LWJvdGgnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHJpZ2dlci5jbGFzc0xpc3QuY29udGFpbnMoJ2dyb3cnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0cmlnZ2VyLnBhcmVudEVsZW1lbnQ/LmNsYXNzTGlzdC5jb250YWlucygnaG9yaXpvbnRhbCcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyaWdnZXIuc3R5bGUud2lkdGggPSBgJHt0cmlnZ2VyLm9mZnNldFdpZHRofXB4YDsgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0cmlnZ2VyLnBhcmVudEVsZW1lbnQ/LmNsYXNzTGlzdC5jb250YWlucygndmVydGljYWwnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyLnN0eWxlLmhlaWdodCA9IGAke3RyaWdnZXIub2Zmc2V0SGVpZ2h0fXB4YDsgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyaWdnZXIuY2xhc3NMaXN0LnJlbW92ZSgnZ3JvdycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzaXplQm90aCA9IGZ1bmN0aW9uIChlOkV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJpZ2dlci5zdHlsZS53aWR0aCA9ICgoPE1vdXNlRXZlbnQ+ZSkucGFnZVggLSB0cmlnZ2VyLm9mZnNldExlZnQgLSAyMikgKyAncHgnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyaWdnZXIuc3R5bGUuaGVpZ2h0ID0gKCg8TW91c2VFdmVudD5lKS5wYWdlWSAtIHRyaWdnZXIub2Zmc2V0VG9wIC0gMzIpICsgJ3B4JztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN0b3BSZXNpemUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHJlc2l6ZUJvdGgsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHN0b3BSZXNpemUsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluaXRSZXNpemU9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgcmVzaXplQm90aCwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgc3RvcFJlc2l6ZSwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2FkZmFkc2ZmJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc2l6ZXIuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgaW5pdFJlc2l6ZSwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgSXRlbU1lbnUucmVzaXplID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIENhbmNlbHMgcnN6IGl0ZW1cclxuICAgICAqIEBwYXJhbSBlIFxyXG4gICAgICovXHJcbiAgICAgcHVibGljIHJzekVuZChlOkV2ZW50KXtcclxuICAgICAgICAvL211c8OtIGLDvXQgZHbEmyBmdW5rY2UsIGplZG5hIHBybyBrbGlrIG5hIGJ1dHRvbiwgZHJ1aMOhIHBybyBrbGlrIG5hIG96bmHEjWVuw70gYm94SXRlbSB0xZnDrWRvdSBtb3ZlQm94XHJcbiAgICAgICAgaWYgKCg8SFRNTEVsZW1lbnQ+ZS50YXJnZXQpLmlkID09PSAncnN6LWl0ZW0tcGl4ZWwtZW5kJykge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygncnN6LWl0ZW0tcGl4ZWwtZW5kJyk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgLyogICBjb25zdCBtYWluQm94ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbWljcycpO1xyXG4gICAgICAgICAgICBtYWluQm94Py5jbGFzc0xpc3QucmVtb3ZlKCdoYXNOYXZSc3onKTsgKi9cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGxldCByZXNpem5nSXRlbUlkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Jlc2l6aW5nSXRlbScpO1xyXG4gICAgICAgICAgICBsZXQgcmVzaXpuZ0l0ZW06SFRNTEVsZW1lbnQgfCBudWxsO1xyXG4gICAgICAgICAgICBpZiAocmVzaXpuZ0l0ZW1JZCkge1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICByZXNpem5nSXRlbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHJlc2l6bmdJdGVtSWQpO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBpZiAocmVzaXpuZ0l0ZW0pIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0cmdnckN0Z3JOYW1lID0gPGN0Z3JJZD5yZXNpem5nSXRlbS5nZXRBdHRyaWJ1dGUoJ2RhdGEtY2F0ZWdvcnknKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBpdGVtcyA9IExvY1N0b3JhZ2UuZ2V0SXRlbXMoJ2l0ZW1zJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGN0Z3JEYXRhOml0ZW0gfCBudWxsID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdGdyRGF0YSA9IExvY1N0b3JhZ2UuZ2V0Q3RncihpdGVtcywgdHJnZ3JDdGdyTmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yOnVua25vd24pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXhpc3RJbkxvY1N0b3JhZ2VFcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IubWVzc2FnZSwgZXJyb3IucHJvcGVydHkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGN0Z3JEYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJzemluZ0l0ZW1EYXRhID0gTG9jU3RvcmFnZS5maW5kSXRlbShjdGdyRGF0YS5zdWJJdGVtcywgcmVzaXpuZ0l0ZW1JZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyc3ppbmdJdGVtRGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy92csOhY2Vuw60gcMWvdm9kbsOtY2ggY3NzIHRyw61kIHBybyB3aWR0aFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coKDxib3hJdGVtQ2xhc3M+cnN6aW5nSXRlbURhdGEuY2xhc3NlcykuZ3Jvdyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoPGJveEl0ZW1DbGFzcz5yc3ppbmdJdGVtRGF0YS5jbGFzc2VzKS5ncm93LmZvckVhY2goY2xhc3NzID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzaXpuZ0l0ZW0hLmNsYXNzTGlzdC5hZGQoY2xhc3NzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJzemluZ0l0ZW1EYXRhLmlubFN0eWwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgaXRlcmF0b3I6a2V5b2YgdHlwZW9mIHJzemluZ0l0ZW1EYXRhLmlubFN0eWw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICggaXRlcmF0b3IgaW4gcnN6aW5nSXRlbURhdGEuaW5sU3R5bCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNpem5nSXRlbSEuc3R5bGVbYCR7aXRlcmF0b3J9YF0gPSByc3ppbmdJdGVtRGF0YS5pbmxTdHlsW2l0ZXJhdG9yXSE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc2l6bmdJdGVtLmNsYXNzTGlzdC5yZW1vdmUoc3R5bEVkaXRvci5mb2N1cyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3JlbW92ZSBzdHlsZSBuZWVkZWQgdG8gcmVzaXplIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzaXpuZ0l0ZW0uc3R5bGUucG9zaXRpb24gPSAnJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc2l6bmdJdGVtLnN0eWxlLm92ZXJmbG93ID0gJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vaWYgaW5saW5lIHN0eWxlIHdpZHRoIG9yIGhpZ2h0IGlzIGFscmVhZHkgaW4gbWVtb3J5LCBkbyBub3QgZGVsZXRlIHRoZXNlIGlubGluZSBzdHlsZXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcnN6aW5nSXRlbURhdGEuaW5sU3R5bD8ud2lkdGggKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzaXpuZ0l0ZW0uc3R5bGUud2lkdGggPSAnJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKCFyc3ppbmdJdGVtRGF0YS5pbmxTdHlsPy5oZWlnaHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNpem5nSXRlbS5zdHlsZS5oZWlnaHQgPSAnJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVzaXplcicpPy5yZW1vdmUoKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIEl0ZW1NZW51LnJlc2l6ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDYW5jZWxzIG1vdmUgaXRlbVxyXG4gICAgICogQHBhcmFtIGUgXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyByc3pJdGVtKGU6RXZlbnQpe1xyXG4gICAgICAgIC8vbXVzw60gYsO9dCBkdsSbIGZ1bmtjZSwgamVkbmEgcHJvIGtsaWsgbmEgYnV0dG9uLCBkcnVow6EgcHJvIGtsaWsgbmEgb3puYcSNZW7DvSBib3hJdGVtIHTFmcOtZG91IG1vdmVCb3hcclxuICAgICAgICBpZiAoKDxIVE1MRWxlbWVudD5lLnRhcmdldCkuaWQgPT09ICdyc3otaXRlbS1waXhlbCcpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ3Jzei1pdGVtLXBpeGVsJyk7XHJcbiAgICAgICAgICAgICAgICBsZXQgcmVzaXpuZ0l0ZW1JZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdyZXNpemluZ0l0ZW0nKTtcclxuICAgICAgICAgICAgICAgIGxldCByZXNpem5nSXRlbTpIVE1MRWxlbWVudCB8IG51bGw7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzaXpuZ0l0ZW1JZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIHJlc2l6bmdJdGVtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocmVzaXpuZ0l0ZW1JZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc2l6bmdJdGVtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRyZ2dyQ3Rnck5hbWUgPSA8Y3RncklkPnJlc2l6bmdJdGVtLmdldEF0dHJpYnV0ZSgnZGF0YS1jYXRlZ29yeScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNpem5nSXRlbS5jbGFzc0xpc3QucmVtb3ZlKHN0eWxFZGl0b3IuZm9jdXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3JlbW92ZSBzdHlsZSBuZWVkZWQgdG8gcmVzaXplIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNpem5nSXRlbS5zdHlsZS5wb3NpdGlvbiA9ICcnO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy93aWR0aCBhbmQgSGVpZ2h0IG9mIHJlc2l6aW5nSXRlbVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaXRlbXMgPSBMb2NTdG9yYWdlLmdldEl0ZW1zKCdpdGVtcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgY3RnckRhdGE6aXRlbSB8IG51bGwgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3RnckRhdGEgPSBMb2NTdG9yYWdlLmdldEN0Z3IoaXRlbXMsIHRyZ2dyQ3Rnck5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yOnVua25vd24pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEV4aXN0SW5Mb2NTdG9yYWdlRXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvci5tZXNzYWdlLCBlcnJvci5wcm9wZXJ0eSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3RnckRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJzekl0ZW1EYXRhID0gTG9jU3RvcmFnZS5maW5kSXRlbShjdGdyRGF0YS5zdWJJdGVtcywgcmVzaXpuZ0l0ZW1JZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocnN6SXRlbURhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcnN6SXRlbVdpZHRoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCByc3pJdGVtSGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJzekRyY3RuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Jzekl0ZW0nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHJzekRyY3RuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ3Jzei13aWR0aCc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByc3pJdGVtV2lkdGggPSByZXNpem5nSXRlbS5zdHlsZS53aWR0aDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc2l6bmdJdGVtLnN0eWxlLndpZHRoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIExvY1N0b3JhZ2Uuc2F2ZUlubFN0eWxXaWR0aChyc3pJdGVtRGF0YSwgcnN6SXRlbVdpZHRoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzaXpuZ0l0ZW0uY2xhc3NMaXN0LmNvbnRhaW5zKCd4MTAwJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNpem5nSXRlbS5jbGFzc0xpc3QucmVtb3ZlKCd4MTAwJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKDxib3hJdGVtQ2xhc3M+cnN6SXRlbURhdGEuY2xhc3Nlcykud2lkdGhbMF0gPSAneDAnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNpem5nSXRlbS5wYXJlbnRFbGVtZW50Py5jbGFzc0xpc3QuY29udGFpbnMoJ2hvcml6b250YWwnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKDxib3hJdGVtQ2xhc3M+cnN6SXRlbURhdGEuY2xhc3NlcykuZ3Jvd1swXSA9PT0gJ2dyb3cnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoPGJveEl0ZW1DbGFzcz5yc3pJdGVtRGF0YSEuY2xhc3NlcykuZ3Jvd1swXSA9ICdub0dyb3cnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdyc3otaGVpZ2h0JzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJzekl0ZW1IZWlnaHQgPSByZXNpem5nSXRlbS5zdHlsZS5oZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBMb2NTdG9yYWdlLnNhdmVJbmxTdHlsSGVpZ2h0KHJzekl0ZW1EYXRhLHJzekl0ZW1IZWlnaHQpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNpem5nSXRlbS5jbGFzc0xpc3QuY29udGFpbnMoJ3kxMDAnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc2l6bmdJdGVtLmNsYXNzTGlzdC5yZW1vdmUoJ3kxMDAnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoPGJveEl0ZW1DbGFzcz5yc3pJdGVtRGF0YS5jbGFzc2VzKS5oZWlnaHRbMF0gPSAneTAnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNpem5nSXRlbS5wYXJlbnRFbGVtZW50Py5jbGFzc0xpc3QuY29udGFpbnMoJ3ZlcnRpY2FsJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKDxib3hJdGVtQ2xhc3M+cnN6SXRlbURhdGEuY2xhc3NlcykuZ3Jvd1swXSA9PT0gJ2dyb3cnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICg8Ym94SXRlbUNsYXNzPnJzekl0ZW1EYXRhIS5jbGFzc2VzKS5ncm93WzBdID0gJ25vR3Jvdyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdyc3otYm90aCc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByc3pJdGVtV2lkdGggPSByZXNpem5nSXRlbS5zdHlsZS53aWR0aDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJzekl0ZW1IZWlnaHQgPSByZXNpem5nSXRlbS5zdHlsZS5oZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBMb2NTdG9yYWdlLnNhdmVJbmxTdHlsV2lkdGgocnN6SXRlbURhdGEsIHJzekl0ZW1XaWR0aCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBMb2NTdG9yYWdlLnNhdmVJbmxTdHlsSGVpZ2h0KHJzekl0ZW1EYXRhLHJzekl0ZW1IZWlnaHQpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNpem5nSXRlbS5jbGFzc0xpc3QuY29udGFpbnMoJ3kxMDAnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc2l6bmdJdGVtLmNsYXNzTGlzdC5yZW1vdmUoJ3kxMDAnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoPGJveEl0ZW1DbGFzcz5yc3pJdGVtRGF0YS5jbGFzc2VzKS5oZWlnaHRbMF0gPSAneTAnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc2l6bmdJdGVtLmNsYXNzTGlzdC5jb250YWlucygneDEwMCcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzaXpuZ0l0ZW0uY2xhc3NMaXN0LnJlbW92ZSgneDEwMCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICg8Ym94SXRlbUNsYXNzPnJzekl0ZW1EYXRhLmNsYXNzZXMpLndpZHRoWzBdID0gJ3gwJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzaXpuZ0l0ZW0ucGFyZW50RWxlbWVudD8uY2xhc3NMaXN0LmNvbnRhaW5zKCdob3Jpem9udGFsJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKDxib3hJdGVtQ2xhc3M+cnN6SXRlbURhdGEuY2xhc3NlcykuZ3Jvd1swXSA9PT0gJ2dyb3cnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICg8Ym94SXRlbUNsYXNzPnJzekl0ZW1EYXRhIS5jbGFzc2VzKS5ncm93WzBdID0gJ25vR3Jvdyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc2l6bmdJdGVtLnBhcmVudEVsZW1lbnQ/LmNsYXNzTGlzdC5jb250YWlucygndmVydGljYWwnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoPGJveEl0ZW1DbGFzcz5yc3pJdGVtRGF0YS5jbGFzc2VzKS5ncm93WzBdID09PSAnZ3JvdycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKDxib3hJdGVtQ2xhc3M+cnN6SXRlbURhdGEhLmNsYXNzZXMpLmdyb3dbMF0gPSAnbm9Hcm93JztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNhdmVkID0gTG9jU3RvcmFnZS51cGdySXRlbShjdGdyRGF0YS5zdWJJdGVtcywgcmVzaXpuZ0l0ZW1JZCwgcnN6SXRlbURhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzYXZlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVzaXplcicpPy5yZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9jU3RvcmFnZS5zZXRJdGVtKCdpdGVtcycsIGl0ZW1zKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJdGVtTWVudS5yZXNpemUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVHVybnMgb24gaW1hZ2UgaXRlbSBtb3ZlIHN0YXRlXHJcbiAgICAgKiBAcGFyYW0gZSBcclxuICAgICAqL1xyXG4gICAgIHB1YmxpYyBtb3ZlSXRlbShlOkV2ZW50KXtcclxuICAgICAgICAvL211c8OtIGLDvXQgZHbEmyBmdW5rY2UsIGplZG5hIHBybyBrbGlrIG5hIGJ1dHRvbiwgZHJ1aMOhIHBybyBrbGlrIG5hIG96bmHEjWVuw70gYm94SXRlbSB0xZnDrWRvdSBtb3ZlQm94XHJcbiAgICAgICAgaWYgKCg8SFRNTEVsZW1lbnQ+ZS50YXJnZXQpLmlkID09PSAnbW92ZS1pdGVtJykge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnbW92ZS1pdGVtJyk7XHJcbiAgICAgICAgICAgIGNvbnN0IGl0ZW1NZW51ID0gKDxIVE1MRWxlbWVudD5lLnRhcmdldCkuY2xvc2VzdCgnI2l0ZW1NZW51Jyk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0cmlnZ2VySWQgPSBpdGVtTWVudT8uZ2V0QXR0cmlidXRlKCdkYXRhLXRyaWdnZXJpZCcpO1xyXG4gICAgICAgICAgICBpZiAodHJpZ2dlcklkKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0cmlnZ2VyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodHJpZ2dlcklkKTtcclxuICAgICAgICAgICAgICAgIGlmKHRyaWdnZXIpe1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRyaWdnZXJDYXRlZ29yeSA9IDxjdGdySWQ+dHJpZ2dlci5nZXRBdHRyaWJ1dGUoJ2RhdGEtY2F0ZWdvcnknKTtcclxuICAgICAgICAgICAgICAgICAgICAvL25hc3RhdsO9IHbFoWVtIGJveMWvbSDEjWVydmVuw70gb3V0bGluZSBhIHphcG5lIG1lbnUgcHJvIE1vdmUgU3RhdGVcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRyaWdnZXIucGFyZW50RWxlbWVudD8uY2xhc3NMaXN0LmNvbnRhaW5zKHN0eWxFZGl0b3IubW92ZUJveCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGl0ZW1Cb3hlcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2JveEl0ZW0nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtYWluQm94ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbWljcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1haW5Cb3g/LmNsYXNzTGlzdC5hZGQoc3R5bEVkaXRvci5tb3ZlQm94KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGl0ZW1Cb3ggb2YgaXRlbUJveGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1Cb3guY2xhc3NMaXN0LmFkZChzdHlsRWRpdG9yLm1vdmVCb3gpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnbW92aW5nSXRlbScsIHRyaWdnZXIuaWQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJpZ2dlci5jbGFzc0xpc3QuYWRkKHN0eWxFZGl0b3IuZm9jdXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyaWdnZXIuY2xhc3NMaXN0LnJlbW92ZShzdHlsSU1lbnUuaGFzTmF2KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJdGVtTWVudS5tb3ZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDYW5jZWxzIG1vdmUgaXRlbVxyXG4gICAgICogQHBhcmFtIGUgXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBtb3ZlRW5kKGU6RXZlbnQpe1xyXG4gICAgICAgIC8vbXVzw60gYsO9dCBkdsSbIGZ1bmtjZSwgamVkbmEgcHJvIGtsaWsgbmEgYnV0dG9uLCBkcnVow6EgcHJvIGtsaWsgbmEgb3puYcSNZW7DvSBib3hJdGVtIHTFmcOtZG91IG1vdmVCb3hcclxuICAgICAgICBpZiAoKDxIVE1MRWxlbWVudD5lLnRhcmdldCkuaWQgPT09ICdtb3ZlLWVuZCcpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ21vdmUtZW5kJyk7XHJcbiAgICAgICAgICAgIGNvbnN0IGl0ZW1NZW51ID0gKDxIVE1MRWxlbWVudD5lLnRhcmdldCkuY2xvc2VzdCgnI2l0ZW1NZW51Jyk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0cmlnZ2VySWQgPSBpdGVtTWVudT8uZ2V0QXR0cmlidXRlKCdkYXRhLXRyaWdnZXJpZCcpO1xyXG4gICAgICAgICAgICBpZiAodHJpZ2dlcklkKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0cmlnZ2VyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodHJpZ2dlcklkKTtcclxuICAgICAgICAgICAgICAgIGlmKHRyaWdnZXIpe1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRyaWdnZXJDYXRlZ29yeSA9IDxjdGdySWQ+dHJpZ2dlci5nZXRBdHRyaWJ1dGUoJ2RhdGEtY2F0ZWdvcnknKTtcclxuICAgICAgICAgICAgICAgICAgICAvL29kc3RyYW7DrSB2xaFlbSBib3jFr20gxI1lcnZlbsO9IG91dGxpbmUgYSB6YXBuZSBtZW51IHBybyBNb3ZlIFN0YXRlXHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGl0ZW1Cb3hlcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2JveEl0ZW0nKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBtYWluQm94ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbWljcycpO1xyXG4gICAgICAgICAgICAgICAgICAgIG1haW5Cb3g/LmNsYXNzTGlzdC5yZW1vdmUoc3R5bEVkaXRvci5tb3ZlQm94KTtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGl0ZW1Cb3ggb2YgaXRlbUJveGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1Cb3guY2xhc3NMaXN0LnJlbW92ZShzdHlsRWRpdG9yLm1vdmVCb3gpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBsZXQgbW92aW5nSXRlbUlkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ21vdmluZ0l0ZW0nKTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgbW92aW5nSXRlbTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobW92aW5nSXRlbUlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vdmluZ0l0ZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChtb3ZpbmdJdGVtSWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAobW92aW5nSXRlbSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtb3ZpbmdJdGVtLmNsYXNzTGlzdC5yZW1vdmUoc3R5bEVkaXRvci5mb2N1cyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdHJpZ2dlci5jbGFzc0xpc3QucmVtb3ZlKHN0eWxJTWVudS5oYXNOYXZNb3ZlKTtcclxuICAgICAgICAgICAgICAgICAgICBJdGVtTWVudS5tb3ZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgICAvKipcclxuICAgICAqIE1vdmVzIG1vdmluZyBpdGVtIGluIHRyaWdnZXIgaXRlbSBcclxuICAgICAqIEBwYXJhbSBlIFxyXG4gICAgICovXHJcbiAgICAgICBwdWJsaWMgbW92ZUl0ZW1IZXJlKGU6RXZlbnQpe1xyXG4gICAgICAgIC8vbXVzw60gYsO9dCBkdsSbIGZ1bmtjZSwgamVkbmEgcHJvIGtsaWsgbmEgYnV0dG9uLCBkcnVow6EgcHJvIGtsaWsgbmEgb3puYcSNZW7DvSBib3hJdGVtIHTFmcOtZG91IG1vdmVCb3hcclxuICAgICAgICBpZiAoKDxIVE1MRWxlbWVudD5lLnRhcmdldCkuaWQgPT09ICdtb3ZlLWl0ZW0taGVyZScpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ21vdmUtaXRlbS1oZXJlJyk7XHJcbiAgICAgICAgICAgIGNvbnN0IGV2VGFyZ2V0PSAoPEhUTUxFbGVtZW50PmUudGFyZ2V0KTtcclxuICAgICAgICAgICAgY29uc3QgaXRlbU1lbnUgPSBldlRhcmdldC5jbG9zZXN0KCcjaXRlbU1lbnUnKTtcclxuICAgICAgICAgICAgY29uc3QgdHJpZ2dlcklkID0gaXRlbU1lbnU/LmdldEF0dHJpYnV0ZSgnZGF0YS10cmlnZ2VyaWQnKTtcclxuICAgICAgICAgICAgaWYgKHRyaWdnZXJJZCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdHJpZ2dlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRyaWdnZXJJZCk7XHJcbiAgICAgICAgICAgICAgICBpZih0cmlnZ2VyKXtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0cmdnckN0Z3JOYW1lID0gPGN0Z3JJZD50cmlnZ2VyLmdldEF0dHJpYnV0ZSgnZGF0YS1jYXRlZ29yeScpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW1zID0gTG9jU3RvcmFnZS5nZXRJdGVtcygnaXRlbXMnKTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgY3RnckRhdGE6aXRlbSB8IG51bGwgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN0Z3JEYXRhID0gTG9jU3RvcmFnZS5nZXRDdGdyKGl0ZW1zLCB0cmdnckN0Z3JOYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3I6dW5rbm93bikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFeGlzdEluTG9jU3RvcmFnZUVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvci5tZXNzYWdlLCBlcnJvci5wcm9wZXJ0eSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoY3RnckRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG1vdmluZ0l0ZW1JZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdtb3ZpbmdJdGVtJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobW92aW5nSXRlbUlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbW92aW5nSXRlbTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vdmluZ0l0ZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChtb3ZpbmdJdGVtSWQpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtb3ZpbmdJdGVtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFtb3ZpbmdJdGVtLmNvbnRhaW5zKHRyaWdnZXIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vdmluZ0l0ZW0uY2xhc3NMaXN0LnJlbW92ZShzdHlsRWRpdG9yLmZvY3VzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG1vdmluZ0l0ZW1DdGdyICA9IDxjdGdySWQgfCBudWxsPm1vdmluZ0l0ZW0uZ2V0QXR0cmlidXRlKCdkYXRhLWNhdGVnb3J5Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vTG9jYWwgc3RvcmFnZSBwYXJ0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBtb3ZpbmdJdGVtRGF0YSA9IDxpdGVtIHxudWxsPnt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihtb3ZpbmdJdGVtQ3Rncil7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobW92aW5nSXRlbUN0Z3IgPT09IHRyZ2dyQ3Rnck5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb3ZpbmdJdGVtRGF0YSA9IExvY1N0b3JhZ2UuZmluZEl0ZW0oY3RnckRhdGEuc3ViSXRlbXMsIG1vdmluZ0l0ZW1JZCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZW1vdmVkID0gTG9jU3RvcmFnZS5ybXZJdGVtKGN0Z3JEYXRhLnN1Ykl0ZW1zLCBtb3ZpbmdJdGVtSWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCFyZW1vdmVkKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vdmluZ0l0ZW1EYXRhID0gTG9jU3RvcmFnZS5maW5kSXRlbShjdGdyRGF0YS5zdWJJdGVtcywgbW92aW5nSXRlbUlkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmVtb3ZlZCA9IExvY1N0b3JhZ2Uucm12SXRlbShjdGdyRGF0YS5zdWJJdGVtcywgbW92aW5nSXRlbUlkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZighcmVtb3ZlZCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3Bva3VkIGplIHRyaWdnZXIgaW1hZ2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRyaWdnZXIudGFnTmFtZSA9PT0gJ0lNRycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0cmlnZ2VyUHJudCA9IHRyaWdnZXIucGFyZW50RWxlbWVudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0cmlnZ2VyUHJudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vcG9rdWQgamUgdHJpZ2dlclBybnQgbWFpbiBib3hcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZih0cmlnZ2VyUHJudC5pZCA9PT0gdHJnZ3JDdGdyTmFtZSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vbmFqZGkgdHJpZ2dlckRhdGEgYSB2bG96IHphIG5laiBtb3ZpbmdJdGVtRGF0YVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3RnckRhdGEuc3ViSXRlbXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBjdGdyRGF0YS5zdWJJdGVtcyEubGVuZ3RoOyBpbmRleCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCB0cmlnZ2VyLmlkID09PSBjdGdyRGF0YS5zdWJJdGVtcyFbaW5kZXhdLmlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtb3ZpbmdJdGVtRGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3RnckRhdGEuc3ViSXRlbXMhLnNwbGljZShpbmRleCsxLCAwLCBtb3ZpbmdJdGVtRGF0YSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyaWdnZXIuYWZ0ZXIobW92aW5nSXRlbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3Bva3VkIGplIHRyaWdnZXJQcm50IGl0ZW1Cb3hcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobW92aW5nSXRlbURhdGEpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmVwbGFjZWQgPSBMb2NTdG9yYWdlLnBsYWNlSXRlbUJobmRJdGVtKGN0Z3JEYXRhLnN1Ykl0ZW1zLCB0cmlnZ2VySWQsIG1vdmluZ0l0ZW1EYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXBsYWNlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyaWdnZXIuYWZ0ZXIobW92aW5nSXRlbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vcG9rdWQgamUgdHJpZ2dlciBtYWluQm94XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZih0cmlnZ2VyLmlkID09PSB0cmdnckN0Z3JOYW1lKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIGN0Z3JEYXRhLnN1Ykl0ZW1zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtb3ZpbmdJdGVtRGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3RnckRhdGEuc3ViSXRlbXMhLnB1c2gobW92aW5nSXRlbURhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJpZ2dlci5hcHBlbmQobW92aW5nSXRlbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtb3ZpbmdJdGVtRGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcHVzaGVkID0gTG9jU3RvcmFnZS5wdXNoSXRlbUluU3ViSXRlbXMoY3RnckRhdGEuc3ViSXRlbXMsIHRyaWdnZXJJZCwgbW92aW5nSXRlbURhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocHVzaGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyLmFwcGVuZChtb3ZpbmdJdGVtKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9jU3RvcmFnZS5zZXRJdGVtKCdpdGVtcycsaXRlbXMpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9vZHN0cmFuw60gdsWhZW0gYm94xa9tIMSNZXJ2ZW7DvSBvdXRsaW5lIGEgdnlwbmUgbWVudSBwcm8gTW92ZSBTdGF0ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgaXRlbUJveGVzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnYm94SXRlbScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtYWluQm94ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbWljcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYWluQm94Py5jbGFzc0xpc3QucmVtb3ZlKHN0eWxFZGl0b3IubW92ZUJveCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgaXRlbUJveCBvZiBpdGVtQm94ZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1Cb3guY2xhc3NMaXN0LnJlbW92ZShzdHlsRWRpdG9yLm1vdmVCb3gpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyaWdnZXIuY2xhc3NMaXN0LnJlbW92ZShzdHlsSU1lbnUuaGFzTmF2TW92ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEl0ZW1NZW51Lm1vdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9wb2t1ZCBqZSB0YXJnZXQgZGl0ZXRlbSBtb3ZpbmcgaXRlbXUsIHVwb3pvcm5pIHXFvml2YXRlbGUsIMW+ZSBuZWx6ZSBwxZllc291dmF0IG90Y2UgZG8gc3bDqWhvIGTDrXTEm3RlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmFsZXJ0KCdZb3UgY2FuIG5vdCBwbGFjZSBwYXJlbnQgaXRlbSBpbnRvIGNoaWxkIGl0ZW0hJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgLy9ET00gbW92aW5nIGl0ZW0gcGFydFxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIG5lcGxhdMOtIHBybyB0dWhsZSBmdW5rY2k6IFNvcnQgaXRlbXMgaW4gbG9jYWxTdG9yYWdlIHRvIG1ha2UgdGhlbSBpbiBjb3JyZWN0IG9yZGVyIG9uIGEgbmV4dCBwYWdlIHJlbG9hZFxyXG4gICAgICogZnVua2NpIHJvemTEm2xpdCBuYSBkdsSbIVxyXG4gICAgICogQHBhcmFtIGl0ZW1zIFxyXG4gICAgICovXHJcbiAgIC8qICBwdWJsaWMgZ2V0U29ydGVkSXRlbXMoY2F0ZWdvcnk6c3RyaW5nKXtcclxuICAgICAgICBjb25zdCBpdGVtczogaXRlbXMgPSBMb2NTdG9yYWdlLmdldEl0ZW1zKCdpdGVtcycpO1xyXG4gICAgICAgIGlmKGNhdGVnb3J5ID09PSAnY29taWNzJyl7XHJcbiAgICAgICAgICAgIGlmKHR5cGVvZiBpdGVtcy5jb21pY3Muc3ViSXRlbXMgIT09ICd1bmRlZmluZWQnKXtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgaXRlbXMuY29taWNzLnN1Ykl0ZW1zLnNvcnQoIChhLCBiKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGEub3JkZXIgLSBiLm9yZGVyO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW1zLmNvbWljcztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZihjYXRlZ29yeSA9PT0gJ21hdGVyaWFsJyl7XHJcbiAgICAgICAgICAgIGlmKHR5cGVvZiBpdGVtcy5tYXRlcmlhbCAhPT0gJ3VuZGVmaW5lZCcpe1xyXG5cclxuICAgICAgICAgICAgICAgIGl0ZW1zLm1hdGVyaWFsLnNvcnQoIChhLCBiKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGEub3JkZXIgLSBiLm9yZGVyO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW1zLm1hdGVyaWFsO1xyXG4gICAgICAgICAgICB9ICBcclxuXHJcbiAgICAgICAgfVxyXG4gICAgfSAqL1xyXG5cclxuICAgIHB1YmxpYyBjcmVhdGVEaXZDb250YWluZXIoc3R5bGVzPzogb2JqZWN0LCBhdHJpYnV0ZXM/Om9iamVjdCk6IEhUTUxEaXZFbGVtZW50e1xyXG4gICAgICAgIGNvbnN0IGRpdkNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIC8vc3R5bGUgZm9yIGdyaWQgY2F0ZWdvcnlcclxuICAgICAgICBpZiAoc3R5bGVzKXtcclxuICAgICAgICAgICAgYWRkSW5saW5lU3R5bGUoZGl2Q29udGFpbmVyLHN0eWxlcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKGF0cmlidXRlcyl7XHJcbiAgICAgICAgICAgIGFkZEF0cmlidXRlcyhkaXZDb250YWluZXIsIGF0cmlidXRlcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8qIGRpdkNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ2RyYWdnYWJsZScsICd0cnVlJyk7XHJcbiAgICAgICAgZGl2Q29udGFpbmVyLnNldEF0dHJpYnV0ZSgnaWQnLCAnaXRlbTInKTsgKi9cclxuXHJcbiAgICAgICAgcmV0dXJuIGRpdkNvbnRhaW5lcjtcclxuICAgIH1cclxuXHJcbiAgIFxyXG5cclxuICAgIHByaXZhdGUgY3JlYXRlVGVzdEl0ZW0od2lkdGg6c3RyaW5nLCBoZWlnaHQ6c3RyaW5nLCBiYWNrZ3JvdW5kOnN0cmluZywgYXRyaWJ1dGVzPzpvYmplY3QpOiBIVE1MRGl2RWxlbWVudHtcclxuICAgICAgICBjb25zdCBzdHlsZXMgPSB7XHJcbiAgICAgICAgICAgIHdpZHRoIDogd2lkdGgsXHJcbiAgICAgICAgICAgIGhlaWdodCA6IGhlaWdodCxcclxuICAgICAgICAgICAgYm9yZGVyIDogJzFweCBzb2xpZCBibGFjaycsXHJcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IGJhY2tncm91bmQsXHJcbiAgICAgICAgICAgIGZsb2F0OiAnbGVmdCcsXHJcbiAgICAgICAgICAgIC8qICdhbGlnbi1zZWxmJzogJ2NlbnRlcicgKi9cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBjb25zdCBkaXZJdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgLy9zdHlsZSBmb3IgZ3JpZCBjYXRlZ29yeVxyXG4gICAgICAgIGlmIChzdHlsZXMpe1xyXG4gICAgICAgICAgICBhZGRJbmxpbmVTdHlsZShkaXZJdGVtLCBzdHlsZXMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZihhdHJpYnV0ZXMpe1xyXG4gICAgICAgICAgICBhZGRBdHJpYnV0ZXMoZGl2SXRlbSwgYXRyaWJ1dGVzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBkaXZJdGVtO1xyXG4gICAgfVxyXG5cclxuXHJcblxyXG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/editor/editorComponents/item/Item.ts\n");

/***/ }),

/***/ "./src/editor/editorComponents/item/flexBoxItem/FlexBoxItem.ts":
/*!*********************************************************************!*\
  !*** ./src/editor/editorComponents/item/flexBoxItem/FlexBoxItem.ts ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"FlexBoxItem\": () => (/* binding */ FlexBoxItem)\n/* harmony export */ });\n/* harmony import */ var _HTMLComponents_flexBox_Flex__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../HTMLComponents/flexBox/Flex */ \"./src/HTMLComponents/flexBox/Flex.ts\");\n/* harmony import */ var _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../common/localStorage/LocStorage */ \"./src/common/localStorage/LocStorage.ts\");\n/* harmony import */ var _flexBoxItem_module_scss__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./flexBoxItem.module.scss */ \"./src/editor/editorComponents/item/flexBoxItem/flexBoxItem.module.scss\");\n/* harmony import */ var _common_inputGetter_InputGetter__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./../../../../common/inputGetter/InputGetter */ \"./src/common/inputGetter/InputGetter.ts\");\n/* harmony import */ var _common_error_locStorageError_ExistInLocStorageError__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../common/error/locStorageError/ExistInLocStorageError */ \"./src/common/error/locStorageError/ExistInLocStorageError.ts\");\n\r\n\r\n\r\n\r\n\r\nlet debug = false;\r\nclass FlexBoxItem extends _HTMLComponents_flexBox_Flex__WEBPACK_IMPORTED_MODULE_0__.Flex {\r\n    constructor() {\r\n        super();\r\n        this.boxItemStyles = {\r\n            horizontal: _flexBoxItem_module_scss__WEBPACK_IMPORTED_MODULE_2__[\"default\"].BIEmpty,\r\n            vertical: _flexBoxItem_module_scss__WEBPACK_IMPORTED_MODULE_2__[\"default\"].boxItem_Y_1\r\n        };\r\n    }\r\n    addImgBckGrnd(e) {\r\n        var _a, _b;\r\n        if (e.target.id === 'add-box-bckgrnd' || e.target.id === 'add-outerBox-bckgrnd') {\r\n            //funkce vyvolává click na input button, které je nezobrazené a tím spouští funkci this.fileReader()\r\n            if (e.target.id === 'add-box-bckgrnd') {\r\n                (_a = document.getElementById('box-bckgrnd-input')) === null || _a === void 0 ? void 0 : _a.click();\r\n            }\r\n            else if (e.target.id === 'add-outerBox-bckgrnd') {\r\n                (_b = document.getElementById('outerBox-bckgrnd-input')) === null || _b === void 0 ? void 0 : _b.click();\r\n            }\r\n            // if(debug)\r\n            console.log(e.target.id);\r\n            /**\r\n             * IMG lze vložit do hlavního kontejneru a do boxItemu\r\n             * Dědění:\r\n             *  - do hlavního kontejneru: ne\r\n             *  - do boxItem: ne\r\n             */\r\n        }\r\n    }\r\n    /**\r\n     * Event handler, save img base64 into local storage\r\n     * coder: I used wrapper function for first time to pass a dependence to event callback\r\n     * @param e\r\n     */\r\n    fileReader(e) {\r\n        //if(debug)   \r\n        if (e.target.id === 'box-bckgrnd-input' || e.target.id === 'outerBox-bckgrnd-input') {\r\n            console.log('file reader background image se spustil:');\r\n            const reader = new FileReader();\r\n            let trggId = e.target.id;\r\n            function passArgWrpr(trggrId) {\r\n                reader.addEventListener('load', (ev) => {\r\n                    //img as base64\r\n                    let uploaded_image = reader.result;\r\n                    if (uploaded_image) {\r\n                        let triggerId;\r\n                        if (trggId === 'box-bckgrnd-input') {\r\n                            triggerId = localStorage.getItem('triggerid');\r\n                        }\r\n                        else if (trggId === 'outerBox-bckgrnd-input') {\r\n                            triggerId = localStorage.getItem('trggrPrntId');\r\n                        }\r\n                        if (triggerId) {\r\n                            const trigger = document.getElementById(triggerId);\r\n                            if (trigger) {\r\n                                const trggrCtgrName = trigger.getAttribute('data-category');\r\n                                const items = _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_1__.LocStorage.getItems('items');\r\n                                let ctgrData = null;\r\n                                try {\r\n                                    ctgrData = _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_1__.LocStorage.getCtgr(items, trggrCtgrName);\r\n                                }\r\n                                catch (error) {\r\n                                    if (error instanceof _common_error_locStorageError_ExistInLocStorageError__WEBPACK_IMPORTED_MODULE_4__.ExistInLocStorageError) {\r\n                                        console.log(error.message, error.property);\r\n                                    }\r\n                                }\r\n                                if (ctgrData) {\r\n                                    let triggerData = _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_1__.LocStorage.findItem(ctgrData.subItems, triggerId);\r\n                                    if (triggerData) {\r\n                                        triggerData.img = uploaded_image;\r\n                                        let saved = _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_1__.LocStorage.upgrItem(ctgrData.subItems, triggerId, triggerData);\r\n                                        if (saved) {\r\n                                            _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_1__.LocStorage.setItem('items', items);\r\n                                            var img = new Image();\r\n                                            img.src = uploaded_image;\r\n                                            trigger.style.backgroundImage = \"url('\" + img.src + \"')\";\r\n                                        }\r\n                                    }\r\n                                }\r\n                                //pokud je trigger boxItem a pokud má class empty, odstran empty class z databáze a z DOM\r\n                                /* imageItem.rmvEmptyClassesFBItem(items[triggerCategory], triggerId);\r\n                                if (trigger.classList.contains(stylFlexBI.BIEmpty)) {\r\n                                    trigger.classList.remove(stylFlexBI.BIEmpty);\r\n                                } */\r\n                            } //\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n            passArgWrpr(trggId);\r\n            reader.readAsDataURL(e.target.files[0]);\r\n        }\r\n    }\r\n    rmvBoxBckGrnd(e) {\r\n        //pokud se kliklo na tlačítko add boxItem\r\n        if (e.target.id === 'rmv-box-bckgrnd' || e.target.id === 'rmv-outerBox-bckgrnd') {\r\n            e.preventDefault();\r\n            console.log(e.target.id);\r\n            //získání hodnot z checked inputů\r\n            let presets = _common_inputGetter_InputGetter__WEBPACK_IMPORTED_MODULE_3__.InputGetter.getChckInpdVls('#boxItem-preset');\r\n            console.log(presets);\r\n            let triggerId;\r\n            //trigger je element, na kterém se vyvolalo menu\r\n            if (e.target.id === 'rmv-box-bckgrnd') {\r\n                triggerId = localStorage.getItem('triggerid');\r\n            }\r\n            else if (e.target.id === 'rmv-outerBox-bckgrnd') {\r\n                triggerId = localStorage.getItem('trggrPrntId');\r\n            }\r\n            if (triggerId) {\r\n                const trigger = document.getElementById(triggerId);\r\n                if (trigger) {\r\n                    const trggrCtgrName = trigger.getAttribute('data-category');\r\n                    let items = _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_1__.LocStorage.getItems('items');\r\n                    let ctgrData = null;\r\n                    try {\r\n                        ctgrData = _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_1__.LocStorage.getCtgr(items, trggrCtgrName);\r\n                    }\r\n                    catch (error) {\r\n                        if (error instanceof _common_error_locStorageError_ExistInLocStorageError__WEBPACK_IMPORTED_MODULE_4__.ExistInLocStorageError) {\r\n                            console.log(error.message, error.property);\r\n                        }\r\n                    }\r\n                    if (ctgrData) {\r\n                        let triggerData = _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_1__.LocStorage.findItem(ctgrData.subItems, triggerId);\r\n                        if (triggerData) {\r\n                            if (triggerData.img) {\r\n                                delete triggerData.img;\r\n                                trigger.style.backgroundImage = '';\r\n                                _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_1__.LocStorage.upgrItem(ctgrData.subItems, triggerId, triggerData);\r\n                                _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_1__.LocStorage.setItem('items', items);\r\n                            }\r\n                            else {\r\n                                return;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    edtGrow(e) {\r\n        var _a, _b, _c, _d;\r\n        //pokud se kliklo na tlačítko add boxItem\r\n        if (e.target.id === 'edt-box-grow' || e.target.id === 'edt-outerBox-grow') {\r\n            e.preventDefault();\r\n            console.log('edt-box-grow');\r\n            //even target je button z menu!\r\n            const evTarget = e.target;\r\n            //získání hodnot z checked inputů\r\n            let presets = _common_inputGetter_InputGetter__WEBPACK_IMPORTED_MODULE_3__.InputGetter.getChckInpdVls('#boxItem-preset');\r\n            console.log(presets);\r\n            //trigger je element, na kterém se vyvolalo menu\r\n            let triggerId;\r\n            if (e.target.id === 'edt-box-grow') {\r\n                triggerId = localStorage.getItem('triggerid');\r\n            }\r\n            else if (e.target.id === 'edt-outerBox-grow') {\r\n                triggerId = localStorage.getItem('trggrPrntId');\r\n            }\r\n            if (triggerId) {\r\n                const trigger = document.getElementById(triggerId);\r\n                if (trigger) {\r\n                    const trggrCtgrName = trigger.getAttribute('data-category');\r\n                    let items = _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_1__.LocStorage.getItems('items');\r\n                    let ctgrData = null;\r\n                    try {\r\n                        ctgrData = _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_1__.LocStorage.getCtgr(items, trggrCtgrName);\r\n                    }\r\n                    catch (error) {\r\n                        if (error instanceof _common_error_locStorageError_ExistInLocStorageError__WEBPACK_IMPORTED_MODULE_4__.ExistInLocStorageError) {\r\n                            console.log(error.message, error.property);\r\n                        }\r\n                    }\r\n                    if (ctgrData) {\r\n                        let triggerData = _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_1__.LocStorage.findItem(ctgrData.subItems, triggerId);\r\n                        if (triggerData) {\r\n                            if (triggerData.classes.grow[0] !== presets[0].value) {\r\n                                if ((_a = trigger.parentElement) === null || _a === void 0 ? void 0 : _a.classList.contains('horizontal')) {\r\n                                    if (trigger.style.width) {\r\n                                        trigger.style.width = '';\r\n                                        if ((_b = triggerData.inlStyl) === null || _b === void 0 ? void 0 : _b.width) {\r\n                                            delete triggerData.inlStyl.width;\r\n                                        }\r\n                                    }\r\n                                    if (trigger.classList.contains('x100')) {\r\n                                        trigger.classList.remove('x100');\r\n                                        triggerData.classes.width[0] = 'x0';\r\n                                    }\r\n                                }\r\n                                else if ((_c = trigger.parentElement) === null || _c === void 0 ? void 0 : _c.classList.contains('vertical')) {\r\n                                    if (trigger.style.height) {\r\n                                        trigger.style.height = '';\r\n                                        if ((_d = triggerData.inlStyl) === null || _d === void 0 ? void 0 : _d.height) {\r\n                                            delete triggerData.inlStyl.height;\r\n                                        }\r\n                                    }\r\n                                    if (trigger.classList.contains('y100')) {\r\n                                        trigger.classList.remove('y100');\r\n                                        triggerData.classes.height[0] = 'y0';\r\n                                    }\r\n                                }\r\n                                let badClass = triggerData.classes.grow[0];\r\n                                trigger.classList.remove(badClass);\r\n                                trigger.classList.add(presets[0].value);\r\n                                triggerData.classes.grow[0] = presets[0].value;\r\n                                _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_1__.LocStorage.upgrItem(ctgrData.subItems, triggerId, triggerData);\r\n                                _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_1__.LocStorage.setItem('items', items);\r\n                            }\r\n                            else {\r\n                                return;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    edtBoxDcrtn(e) {\r\n        //pokud se kliklo na tlačítko add boxItem\r\n        if (e.target.id === 'edt-box-drctn' || e.target.id === 'edt-outerBox-drctn') {\r\n            e.preventDefault();\r\n            console.log(e.target.id);\r\n            //získání hodnot z checked inputů\r\n            let presets = _common_inputGetter_InputGetter__WEBPACK_IMPORTED_MODULE_3__.InputGetter.getChckInpdVls('#boxItem-preset');\r\n            console.log(presets);\r\n            let triggerId;\r\n            //trigger je element, na kterém se vyvolalo menu\r\n            if (e.target.id === 'edt-box-drctn') {\r\n                triggerId = localStorage.getItem('triggerid');\r\n            }\r\n            else if (e.target.id === 'edt-outerBox-drctn') {\r\n                triggerId = localStorage.getItem('trggrPrntId');\r\n            }\r\n            if (triggerId) {\r\n                const trigger = document.getElementById(triggerId);\r\n                if (trigger) {\r\n                    const trggrCtgrName = trigger.getAttribute('data-category');\r\n                    let items = _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_1__.LocStorage.getItems('items');\r\n                    let ctgrData = null;\r\n                    try {\r\n                        ctgrData = _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_1__.LocStorage.getCtgr(items, trggrCtgrName);\r\n                    }\r\n                    catch (error) {\r\n                        if (error instanceof _common_error_locStorageError_ExistInLocStorageError__WEBPACK_IMPORTED_MODULE_4__.ExistInLocStorageError) {\r\n                            console.log(error.message, error.property);\r\n                        }\r\n                    }\r\n                    if (ctgrData) {\r\n                        let triggerData = _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_1__.LocStorage.findItem(ctgrData.subItems, triggerId);\r\n                        if (triggerData) {\r\n                            if (triggerData.classes.flexDrctn[0] !== presets[0].value) {\r\n                                let badClass = triggerData.classes.flexDrctn[0];\r\n                                trigger.classList.remove(badClass);\r\n                                trigger.classList.add(presets[0].value);\r\n                                triggerData.classes.flexDrctn[0] = presets[0].value;\r\n                                _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_1__.LocStorage.upgrItem(ctgrData.subItems, triggerId, triggerData);\r\n                                _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_1__.LocStorage.setItem('items', items);\r\n                            }\r\n                            else {\r\n                                return;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * Creates item box and appends event target to it - needs test if event target can be appended, cause it is just read only\r\n     * @param e\r\n     */\r\n    addOuterBoxItem(flexBoxItem) {\r\n        return (e) => {\r\n            //pokud se kliklo na tlačítko add boxItem\r\n            if (e.target.id === 'add-outerBoxItem') {\r\n                console.log('add-outerBoxItem');\r\n                e.preventDefault();\r\n                //even target je button z menu!\r\n                const evTarget = e.target;\r\n                //získání hodnot z checked inputů\r\n                let presets = _common_inputGetter_InputGetter__WEBPACK_IMPORTED_MODULE_3__.InputGetter.getChckInpdVls('#boxItem-preset');\r\n                console.log(presets);\r\n                //trigger je element, na kterém se vyvolalo menu\r\n                const triggerId = localStorage.getItem('triggerid');\r\n                if (triggerId) {\r\n                    const trigger = document.getElementById(triggerId);\r\n                    if (trigger) {\r\n                        const trggrCtgrName = trigger.getAttribute('data-category');\r\n                        //id item boxu\r\n                        const newItemId = _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_1__.LocStorage.crtNewItemId();\r\n                        const items = _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_1__.LocStorage.getItems('items');\r\n                        let ctgrData = null;\r\n                        try {\r\n                            ctgrData = _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_1__.LocStorage.getCtgr(items, trggrCtgrName);\r\n                        }\r\n                        catch (error) {\r\n                            if (error instanceof _common_error_locStorageError_ExistInLocStorageError__WEBPACK_IMPORTED_MODULE_4__.ExistInLocStorageError) {\r\n                                console.log(error.message, error.property);\r\n                            }\r\n                        }\r\n                        if (ctgrData) {\r\n                            let classes = {\r\n                                classId: ['item', 'boxItem'],\r\n                                position: ['fb-jc-start', 'fb-ai-start', 'fi-none'],\r\n                                subItPstn: [],\r\n                                common: [_flexBoxItem_module_scss__WEBPACK_IMPORTED_MODULE_2__[\"default\"].boxItem_Y_1],\r\n                                flexDrctn: [],\r\n                                grow: [],\r\n                                width: ['x0'],\r\n                                height: ['y0'],\r\n                            };\r\n                            if (presets.length) {\r\n                                _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_1__.LocStorage.saveFbInptClasOptn(presets, classes);\r\n                            }\r\n                            const triggerNextSblng = trigger.nextElementSibling;\r\n                            if (debug)\r\n                                console.log('triggerNextSblng:', triggerNextSblng);\r\n                            const triggerPreviousSblng = trigger.previousElementSibling;\r\n                            const triggerPrnt = trigger.parentElement;\r\n                            //najdi trigger object in local storage\r\n                            const triggerData = _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_1__.LocStorage.findItem(ctgrData.subItems, triggerId);\r\n                            console.log('triggerData after LocStorage.findItem(items[triggerCategory],triggerId);', triggerData);\r\n                            const newItemBoxData = {\r\n                                id: newItemId,\r\n                                classes: classes,\r\n                                kind: 'boxItem'\r\n                            };\r\n                            //změn data dimension a order v triggerData\r\n                            if (triggerData) {\r\n                                newItemBoxData.subItems = [triggerData];\r\n                                flexBoxItem.pasteItemAccordingId(ctgrData.subItems, triggerId, newItemBoxData);\r\n                                _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_1__.LocStorage.setItem('items', items);\r\n                                //vložení trigger elementu do item boxu\r\n                                const boxItem = flexBoxItem.crtFlexItemBox(newItemBoxData, trggrCtgrName);\r\n                                boxItem.append(trigger);\r\n                                //vložení item boxu na bývalé místo trigger elementu \r\n                                if (triggerPrnt) {\r\n                                    flexBoxItem.appndInTrggrParntElm(triggerNextSblng, triggerPreviousSblng, triggerPrnt, boxItem);\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        };\r\n    }\r\n    /**\r\n     * Creates item box and appends event target to it - needs test if event target can be appended, cause it is just read only\r\n     * @param e\r\n     */\r\n    addInnerBoxItem(flexBoxItem) {\r\n        return (e) => {\r\n            //pokud se kliklo na tlačítko add boxItem\r\n            if (e.target.id === 'add-innerBoxItem') {\r\n                e.preventDefault();\r\n                console.log('add-innerBoxItem');\r\n                //even target je button z menu!\r\n                const evTarget = e.target;\r\n                //získání hodnot z checked inputů\r\n                let presets = _common_inputGetter_InputGetter__WEBPACK_IMPORTED_MODULE_3__.InputGetter.getChckInpdVls('#boxItem-preset');\r\n                console.log(presets);\r\n                //trigger je element, na kterém se vyvolalo menu\r\n                const triggerId = localStorage.getItem('triggerid');\r\n                if (triggerId) {\r\n                    const trigger = document.getElementById(triggerId);\r\n                    if (trigger) {\r\n                        const trggrCtgrName = trigger.getAttribute('data-category');\r\n                        //id item boxu\r\n                        const newItemId = _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_1__.LocStorage.crtNewItemId();\r\n                        const items = _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_1__.LocStorage.getItems('items');\r\n                        let ctgrData = null;\r\n                        try {\r\n                            ctgrData = _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_1__.LocStorage.getCtgr(items, trggrCtgrName);\r\n                        }\r\n                        catch (error) {\r\n                            if (error instanceof _common_error_locStorageError_ExistInLocStorageError__WEBPACK_IMPORTED_MODULE_4__.ExistInLocStorageError) {\r\n                                console.log(error.message, error.property);\r\n                            }\r\n                        }\r\n                        if (ctgrData) {\r\n                            let classes = {\r\n                                classId: ['item', 'boxItem'],\r\n                                position: ['fb-jc-start', 'fb-ai-start', 'fi-none'],\r\n                                subItPstn: [],\r\n                                common: [_flexBoxItem_module_scss__WEBPACK_IMPORTED_MODULE_2__[\"default\"].boxItem_Y_1],\r\n                                flexDrctn: [],\r\n                                grow: [],\r\n                                width: ['x0'],\r\n                                height: ['y0'],\r\n                            };\r\n                            const newItemBoxData = {\r\n                                id: newItemId,\r\n                                classes: classes,\r\n                                kind: 'boxItem'\r\n                            };\r\n                            if (presets.length) {\r\n                                _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_1__.LocStorage.saveFbInptClasOptn(presets, classes);\r\n                            }\r\n                            //pokud se klikne do main container, pokud je trigger zároveň kategorií\r\n                            if (triggerId === trggrCtgrName) {\r\n                                //blok pro uložení do localStorage\r\n                                _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_1__.LocStorage.pushNewItem(items.items, trggrCtgrName, newItemBoxData);\r\n                                _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_1__.LocStorage.setItem('items', items);\r\n                                //create box item and append to DOM\r\n                                const boxItem = flexBoxItem.crtFlexItemBox(newItemBoxData, trggrCtgrName);\r\n                                flexBoxItem.appndInTriggerElm(trigger === null || trigger === void 0 ? void 0 : trigger.childNodes, trigger, boxItem);\r\n                            }\r\n                            else {\r\n                                //najdi trigger object in local storage\r\n                                const triggerData = _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_1__.LocStorage.findItem(ctgrData.subItems, triggerId);\r\n                                //změn data dimension a order v triggerData\r\n                                if (triggerData) {\r\n                                    _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_1__.LocStorage.pasteItemInSubAccordingId(ctgrData.subItems, triggerId, newItemBoxData);\r\n                                    _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_1__.LocStorage.setItem('items', items);\r\n                                    //vložení trigger elementu do item boxu\r\n                                    const boxItem = flexBoxItem.crtFlexItemBox(newItemBoxData, trggrCtgrName);\r\n                                    trigger.append(boxItem);\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        };\r\n    }\r\n    /**\r\n     * Finds trigger item in category and replaces it with newItem, in which this old one is\r\n     * @param itemsInCtgr\r\n     * @param triggerId\r\n     * @param newItem\r\n     */\r\n    pasteItemAccordingId(itemsInCtgr, triggerId, newItem) {\r\n        let result = false;\r\n        if (!itemsInCtgr) {\r\n            console.log('Item.subitems = undefined in fnc FlexBoxItem.pasteItemAccordingId');\r\n            return result = false;\r\n        }\r\n        else {\r\n            itemsInCtgr.forEach((item, index, arrayItself) => {\r\n                if (item.id === triggerId) {\r\n                    arrayItself[index] = newItem;\r\n                    result = true;\r\n                }\r\n                else if (item.subItems) {\r\n                    let subItems = item.subItems;\r\n                    result = this.pasteItemAccordingId(subItems, triggerId, newItem);\r\n                }\r\n            });\r\n        }\r\n        return result;\r\n    }\r\n    /**\r\n     * Function for main container(the top container)\r\n     * If trigger element is main container like comics, append new element always to the trigger element before all existing trigger siblings or if no siblings to the end\r\n     * @param sblngs\r\n     * @param trigger\r\n     * @param boxItem\r\n     */\r\n    appndInTriggerElm(sblngs, trigger, newElm) {\r\n        //pokud je parrent vrcholný contejner typu comics, přidej item dovnitř něj, nikdy naopak\r\n        if (sblngs) {\r\n            /* trigger?.insertBefore(newElm, sblngs[0]); */\r\n            trigger === null || trigger === void 0 ? void 0 : trigger.append(newElm);\r\n        }\r\n        else {\r\n            trigger === null || trigger === void 0 ? void 0 : trigger.append(newElm);\r\n        }\r\n    }\r\n    /**\r\n     * Function for items(item can be container like boxItem except MAIN(top) container)\r\n     * If trigger element is item like img or item box, append new element always to the trigger PARENT element where the trigger element was located\r\n     * @param nextSblng\r\n     * @param triggerPrnt\r\n     * @param newElm\r\n     */\r\n    appndInTrggrParntElm(nextSblng, previousSblng, triggerPrnt, newElm) {\r\n        if (nextSblng) {\r\n            triggerPrnt === null || triggerPrnt === void 0 ? void 0 : triggerPrnt.insertBefore(newElm, nextSblng);\r\n        }\r\n        else if (previousSblng) {\r\n            previousSblng.after(newElm);\r\n        }\r\n        else {\r\n            triggerPrnt === null || triggerPrnt === void 0 ? void 0 : triggerPrnt.append(newElm);\r\n        }\r\n    }\r\n    crtFlexItemBox(item, ctgrId) {\r\n        const boxItem = this.createFlexContainer(undefined, {});\r\n        //přidej třídu do DOM\r\n        let key;\r\n        for (key in item.classes) {\r\n            if (item.classes.hasOwnProperty(key)) {\r\n                item.classes[key].forEach(classs => {\r\n                    boxItem.classList.add(classs);\r\n                });\r\n            }\r\n        }\r\n        if (item.inlStyl) {\r\n            let key;\r\n            for (key in item.inlStyl) {\r\n                if (Object.prototype.hasOwnProperty(key)) {\r\n                    const element = item.inlStyl[key];\r\n                }\r\n            }\r\n        }\r\n        if (item.img) {\r\n            boxItem.style.backgroundImage = \"url('\" + item.img + \"')\";\r\n        }\r\n        boxItem.setAttribute('id', item.id);\r\n        boxItem.setAttribute('data-category', ctgrId);\r\n        boxItem.setAttribute('data-kind', 'boxItem');\r\n        return boxItem;\r\n    }\r\n    rplcItem(items, ctgrId, newItemBox) {\r\n        for (const item of items) {\r\n            if (item.id === ctgrId) {\r\n                if (item.subItems) {\r\n                    item.subItems.forEach((item) => {\r\n                        if (item.id === newItemBox.id) {\r\n                            item = newItemBox;\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n        }\r\n    }\r\n    rmvBoxItemAll(e) {\r\n        if (e.target.id === 'rmv-boxItem-all') {\r\n            console.log('rmv-boxItem-all');\r\n            const itemMenu = e.target.closest('#itemMenu');\r\n            const triggerId = itemMenu === null || itemMenu === void 0 ? void 0 : itemMenu.getAttribute('data-triggerid');\r\n            if (triggerId) {\r\n                const trigger = document.getElementById(triggerId);\r\n                if (trigger) {\r\n                    const trggrCtgrName = trigger.getAttribute('data-category');\r\n                    //Local Storage part\r\n                    const items = _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_1__.LocStorage.getItems('items');\r\n                    let ctgrData = null;\r\n                    try {\r\n                        ctgrData = _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_1__.LocStorage.getCtgr(items, trggrCtgrName);\r\n                    }\r\n                    catch (error) {\r\n                        if (error instanceof _common_error_locStorageError_ExistInLocStorageError__WEBPACK_IMPORTED_MODULE_4__.ExistInLocStorageError) {\r\n                            console.log(error.message, error.property);\r\n                        }\r\n                    }\r\n                    if (ctgrData) {\r\n                        if (_common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_1__.LocStorage.rmvItem(ctgrData.subItems, triggerId)) {\r\n                            _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_1__.LocStorage.setItem('items', items);\r\n                            //DOM part\r\n                            trigger.remove();\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    rmvBoxItem(e) {\r\n        if (e.target.id === 'rmv-boxItem') {\r\n            console.log('rmv-boxItem');\r\n            const itemMenu = e.target.closest('#itemMenu');\r\n            const triggerId = itemMenu === null || itemMenu === void 0 ? void 0 : itemMenu.getAttribute('data-triggerid');\r\n            if (triggerId) {\r\n                const trigger = document.getElementById(triggerId);\r\n                if (trigger) {\r\n                    const trggrCtgrName = trigger.getAttribute('data-category');\r\n                    //Local Storage part\r\n                    const items = _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_1__.LocStorage.getItems('items');\r\n                    let ctgrData = null;\r\n                    try {\r\n                        ctgrData = _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_1__.LocStorage.getCtgr(items, trggrCtgrName);\r\n                    }\r\n                    catch (error) {\r\n                        if (error instanceof _common_error_locStorageError_ExistInLocStorageError__WEBPACK_IMPORTED_MODULE_4__.ExistInLocStorageError) {\r\n                            console.log(error.message, error.property);\r\n                        }\r\n                    }\r\n                    if (ctgrData) {\r\n                        const triggerParrent = trigger.parentElement;\r\n                        if (triggerParrent) {\r\n                            //pokud není main container rodič triggeru\r\n                            if (triggerParrent.id !== trggrCtgrName) {\r\n                                if (_common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_1__.LocStorage.rplcTrggrWTrggrSubItems(ctgrData.subItems, triggerParrent.id, triggerId)) {\r\n                                    _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_1__.LocStorage.setItem('items', items);\r\n                                }\r\n                            }\r\n                            else {\r\n                                if (_common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_1__.LocStorage.rplcTrggrWTrggrSubItemsInMain(ctgrData.subItems, triggerId)) {\r\n                                    _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_1__.LocStorage.setItem('items', items);\r\n                                }\r\n                            }\r\n                            //DOM part\r\n                            let triggerChildren = trigger.children;\r\n                            let triggerNextSblng = trigger.nextSibling;\r\n                            trigger.remove();\r\n                            for (let index = 0; index <= triggerChildren.length;) {\r\n                                if (triggerChildren.length) {\r\n                                    console.log('index === 0', triggerChildren);\r\n                                    triggerParrent.insertBefore(triggerChildren[index], triggerNextSblng);\r\n                                }\r\n                                else {\r\n                                    break;\r\n                                }\r\n                                /* else{\r\n                                    console.log('index !== 0',triggerChildren);\r\n                                    triggerParrent.insertBefore(triggerChildren[index],triggerChildren[index-1])\r\n                                } */\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    /* public edtBoxItems(e:Event){\r\n        const trggrPrntKind = localStorage.getItem('trggrPrntKind');\r\n        if (trggrPrntKind) {\r\n            if ((<HTMLElement>e.target).id === 'edt-outerBox' && trggrPrntKind === 'boxItem') {\r\n                e.preventDefault();\r\n                console.log('edt-outerBox, boxItem');\r\n\r\n                const triggerId = localStorage.getItem('triggerid');\r\n                if (triggerId) {\r\n                    const trigger = document.getElementById(triggerId);\r\n                    if(trigger){\r\n                        const triggerCategory = <ctgrId>trigger.getAttribute('data-category');\r\n                    \r\n                        const inputs = <NodeListOf<HTMLInputElement>>document.querySelectorAll('#outerBox-preset input');\r\n                        let presets: string[] = [];\r\n                        inputs.forEach((input) => {\r\n                            if (input.checked) {\r\n                                presets.push(input.value);\r\n                            }\r\n                        });\r\n                        console.log(presets);\r\n                        \r\n                        let triggerData = <item | null>{};\r\n                        const items = LocStorage.getItems('items');\r\n                        \r\n                        //pokud trigger není boxItem a zároveň trigger parent je boxItem\r\n                        const triggerPrnt = trigger.parentElement;\r\n                        if(triggerPrnt){\r\n                            if (triggerData = LocStorage.findItem(items[triggerCategory].subItems, triggerPrnt.id)) {\r\n\r\n                                if(presets.length){\r\n                                    triggerData.classes.position.forEach(classs => {\r\n                                        console.log('ano, obsahuji css tridu, co je v pameti')\r\n                                    if (triggerPrnt.classList.contains(classs)) {\r\n                                        triggerPrnt.classList.remove(classs);\r\n                                    }\r\n                                    });\r\n                                    triggerData.classes.position =[];\r\n                                    presets.forEach(classs => {\r\n                                        triggerPrnt.classList.add(classs);\r\n                                        triggerData!.classes.position.push(classs);\r\n                                    });\r\n                                }\r\n                            }\r\n                            console.log(triggerData);\r\n                            \r\n                            LocStorage.setItem('items', items);\r\n                            \r\n                            //Local Storage part\r\n                            const items = LocStorage.getItems('items');\r\n                            LocStorage.rmvItem(items[triggerCategory],triggerId);\r\n                            LocStorage.setItem('items', items);\r\n                            //DOM part\r\n                            trigger.remove();\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    } */\r\n    edtboxItem(e) {\r\n        if (e.target.id === 'edt-box-pstn' || e.target.id === 'edt-outerBox-pstn') {\r\n            e.preventDefault();\r\n            console.log(e.target.id);\r\n            let triggerId;\r\n            if (e.target.id === 'edt-box-pstn') {\r\n                triggerId = localStorage.getItem('triggerid');\r\n            }\r\n            else if (e.target.id === 'edt-outerBox-pstn') {\r\n                triggerId = localStorage.getItem('trggrPrntId');\r\n            }\r\n            if (triggerId) {\r\n                const trigger = document.getElementById(triggerId);\r\n                if (trigger) {\r\n                    const trggrCtgrName = trigger.getAttribute('data-category');\r\n                    const inputs = document.querySelectorAll('#edt-box-preset input');\r\n                    let presets = [];\r\n                    inputs.forEach((input) => {\r\n                        if (input.checked) {\r\n                            presets.push(input.value);\r\n                        }\r\n                    });\r\n                    console.log(presets);\r\n                    let triggerData = {};\r\n                    const items = _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_1__.LocStorage.getItems('items');\r\n                    let ctgrData = null;\r\n                    try {\r\n                        ctgrData = _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_1__.LocStorage.getCtgr(items, trggrCtgrName);\r\n                    }\r\n                    catch (error) {\r\n                        if (error instanceof _common_error_locStorageError_ExistInLocStorageError__WEBPACK_IMPORTED_MODULE_4__.ExistInLocStorageError) {\r\n                            console.log(error.message, error.property);\r\n                        }\r\n                    }\r\n                    if (ctgrData) {\r\n                        if (triggerData = _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_1__.LocStorage.findItem(ctgrData.subItems, triggerId)) {\r\n                            if (presets.length) {\r\n                                triggerData.classes.position.forEach(classs => {\r\n                                    console.log('ano, obsahuji css tridu, co je v pameti');\r\n                                    if (trigger.classList.contains(classs)) {\r\n                                        trigger.classList.remove(classs);\r\n                                    }\r\n                                });\r\n                                triggerData.classes.position = [];\r\n                                presets.forEach(classs => {\r\n                                    trigger.classList.add(classs);\r\n                                    triggerData.classes.position.push(classs);\r\n                                });\r\n                            }\r\n                        }\r\n                        console.log(triggerData);\r\n                        _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_1__.LocStorage.setItem('items', items);\r\n                        /*\r\n                        //Local Storage part\r\n                        const items = LocStorage.getItems('items');\r\n                        LocStorage.rmvItem(items[triggerCategory],triggerId);\r\n                        LocStorage.setItem('items', items);\r\n                        //DOM part\r\n                        trigger.remove();  */\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    edtOuterBoxItem(e) {\r\n        if (e.target.id === 'edt-outer-boxItem') {\r\n            e.preventDefault();\r\n            console.log('edt-outer-boxItem');\r\n            const triggerPrntId = localStorage.getItem('trggrPrntId');\r\n            if (triggerPrntId) {\r\n                const triggerPrnt = document.getElementById(triggerPrntId);\r\n                if (triggerPrnt) {\r\n                    const trggrCtgrName = triggerPrnt.getAttribute('data-category');\r\n                    const inputs = document.querySelectorAll('#edt-box-preset input');\r\n                    let presets = [];\r\n                    inputs.forEach((input) => {\r\n                        if (input.checked) {\r\n                            presets.push(input.value);\r\n                        }\r\n                    });\r\n                    console.log(presets);\r\n                    let triggerData = {};\r\n                    const items = _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_1__.LocStorage.getItems('items');\r\n                    let ctgrData = null;\r\n                    try {\r\n                        ctgrData = _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_1__.LocStorage.getCtgr(items, trggrCtgrName);\r\n                    }\r\n                    catch (error) {\r\n                        if (error instanceof _common_error_locStorageError_ExistInLocStorageError__WEBPACK_IMPORTED_MODULE_4__.ExistInLocStorageError) {\r\n                            console.log(error.message, error.property);\r\n                        }\r\n                    }\r\n                    if (ctgrData) {\r\n                        if (triggerData = _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_1__.LocStorage.findItem(ctgrData.subItems, triggerPrntId)) {\r\n                            if (presets.length) {\r\n                                triggerData.classes.position.forEach(classs => {\r\n                                    console.log('ano, obsahuji css tridu, co je v pameti');\r\n                                    if (triggerPrnt.classList.contains(classs)) {\r\n                                        triggerPrnt.classList.remove(classs);\r\n                                    }\r\n                                });\r\n                                triggerData.classes.position = [];\r\n                                presets.forEach(classs => {\r\n                                    triggerPrnt.classList.add(classs);\r\n                                    triggerData.classes.position.push(classs);\r\n                                });\r\n                            }\r\n                        }\r\n                        console.log(triggerData);\r\n                        _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_1__.LocStorage.setItem('items', items);\r\n                        /*\r\n                        //Local Storage part\r\n                        const items = LocStorage.getItems('items');\r\n                        LocStorage.rmvItem(items[triggerCategory],triggerId);\r\n                        LocStorage.setItem('items', items);\r\n                        //DOM part\r\n                        trigger.remove();  */\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZWRpdG9yL2VkaXRvckNvbXBvbmVudHMvaXRlbS9mbGV4Qm94SXRlbS9GbGV4Qm94SXRlbS50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFDOEQ7QUFFVTtBQUV6QjtBQUs0QjtBQUM4QjtBQUd6RyxJQUFJLEtBQUssR0FBRyxLQUFLLENBQUM7QUFFWCxNQUFNLFdBQVksU0FBUSw4REFBSTtJQUtqQztRQUNJLEtBQUssRUFBRSxDQUFDO1FBQ1IsSUFBSSxDQUFDLGFBQWEsR0FBRztZQUNqQixVQUFVLEVBQUUsd0VBQWM7WUFDMUIsUUFBUSxFQUFFLDRFQUFrQjtTQUMvQjtJQUVMLENBQUM7SUFFTSxhQUFhLENBQUMsQ0FBTzs7UUFDeEIsSUFBa0IsQ0FBQyxDQUFDLE1BQU8sQ0FBQyxFQUFFLEtBQUssaUJBQWlCLElBQWtCLENBQUMsQ0FBQyxNQUFPLENBQUMsRUFBRSxLQUFLLHNCQUFzQixFQUFFO1lBRTNHLG9HQUFvRztZQUNwRyxJQUFrQixDQUFDLENBQUMsTUFBTyxDQUFDLEVBQUUsS0FBSyxpQkFBaUIsRUFBRTtnQkFDbEQsY0FBUSxDQUFDLGNBQWMsQ0FBQyxtQkFBbUIsQ0FBQywwQ0FBRSxLQUFLLEVBQUUsQ0FBQzthQUN6RDtpQkFDSSxJQUFpQixDQUFDLENBQUMsTUFBTyxDQUFDLEVBQUUsS0FBSyxzQkFBc0IsRUFBQztnQkFDMUQsY0FBUSxDQUFDLGNBQWMsQ0FBQyx3QkFBd0IsQ0FBQywwQ0FBRSxLQUFLLEVBQUUsQ0FBQzthQUM5RDtZQUNGLFlBQVk7WUFDWCxPQUFPLENBQUMsR0FBRyxDQUFlLENBQUMsQ0FBQyxNQUFPLENBQUMsRUFBRSxDQUFDLENBQUM7WUFDeEM7Ozs7O2VBS0c7U0FDTjtJQUNMLENBQUM7SUFFRDs7OztPQUlHO0lBQ0ssVUFBVSxDQUFDLENBQU87UUFFdEIsY0FBYztRQUNkLElBQW1CLENBQUMsQ0FBQyxNQUFPLENBQUMsRUFBRSxLQUFLLG1CQUFtQixJQUFrQixDQUFDLENBQUMsTUFBTyxDQUFDLEVBQUUs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MUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyx5Q0FBeUMsQ0FBQztvQ0FDMUQsSUFBSSxXQUFXLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsRUFBRTt3Q0FDeEMsV0FBVyxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUM7cUNBQ3hDO2dDQUNELENBQUMsQ0FBQyxDQUFDO2dDQUNILFdBQVcsQ0FBQyxPQUFPLENBQUMsUUFBUSxHQUFFLEVBQUUsQ0FBQztnQ0FDakMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsRUFBRTtvQ0FDckIsV0FBVyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUM7b0NBQzlCLFdBQVksQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztnQ0FDbkQsQ0FBQyxDQUFDLENBQUM7NkJBQ047eUJBQ0o7d0JBQ0QsT0FBTyxDQUFDLEdBQUcsQ0FBQyxXQUFXLENBQUMsQ0FBQzt3QkFFekIsK0VBQWtCLENBQUMsT0FBTyxFQUFFLEtBQUssQ0FBQyxDQUFDO3dCQUVuQzs7Ozs7OzZDQU1xQjtxQkFDeEI7aUJBQ0o7YUFDSjtTQUNKO0lBQ0wsQ0FBQztDQUdKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY29taWNzLWVkaXRvci8uL3NyYy9lZGl0b3IvZWRpdG9yQ29tcG9uZW50cy9pdGVtL2ZsZXhCb3hJdGVtL0ZsZXhCb3hJdGVtLnRzPzQzNDYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZXZlbnRBbmRDYWxsIH0gZnJvbSBcIi4uLy4uLy4uLy4uL2NvbW1vbi9FdmVudExpc3RlbmVyc1wiO1xyXG5pbXBvcnQgeyBGbGV4IH0gZnJvbSBcIi4uLy4uLy4uLy4uL0hUTUxDb21wb25lbnRzL2ZsZXhCb3gvRmxleFwiXHJcbmltcG9ydCB7IGl0ZW1Cb3hDb2wgfSBmcm9tICcuL2ZsZXhJdGVtQ3NzJztcclxuaW1wb3J0IHsgTG9jU3RvcmFnZSB9IGZyb20gJy4uLy4uLy4uLy4uL2NvbW1vbi9sb2NhbFN0b3JhZ2UvTG9jU3RvcmFnZSc7XHJcbmltcG9ydCB7IGl0ZW0sIGltZ0l0ZW1DbGFzcywgaXRlbXMsIGJveEl0ZW1DbGFzcyx9IGZyb20gXCIuLi8uLi8uLi8uLi9jb21tb24vbG9jYWxTdG9yYWdlL3N0b3JhZ2VJbnRlcmZhY2VzXCI7XHJcbmltcG9ydCBzdHlsZXMgZnJvbSAnLi9mbGV4Qm94SXRlbS5tb2R1bGUuc2Nzcyc7XHJcbmltcG9ydCBzdHlsSXRNZW51IGZyb20gJy4vLi4vaXRlbU1lbnUvaXRlbU1lbnUubW9kdWxlLnNjc3MnO1xyXG5cclxuaW1wb3J0IHsgY3RncklkIH0gZnJvbSBcIi4uLy4uLy4uL2VkaXRvclR5cGVzXCI7XHJcbmltcG9ydCB7IEl0ZW1NZW51IH0gZnJvbSAnLi8uLi9pdGVtTWVudS9JdGVtTWVudSc7XHJcbmltcG9ydCB7IElucHV0R2V0dGVyIH0gZnJvbSAnLi8uLi8uLi8uLi8uLi9jb21tb24vaW5wdXRHZXR0ZXIvSW5wdXRHZXR0ZXInO1xyXG5pbXBvcnQgeyBFeGlzdEluTG9jU3RvcmFnZUVycm9yIH0gZnJvbSBcIi4uLy4uLy4uLy4uL2NvbW1vbi9lcnJvci9sb2NTdG9yYWdlRXJyb3IvRXhpc3RJbkxvY1N0b3JhZ2VFcnJvclwiO1xyXG5cclxuXHJcbmxldCBkZWJ1ZyA9IGZhbHNlO1xyXG5cclxuZXhwb3J0IGNsYXNzIEZsZXhCb3hJdGVtIGV4dGVuZHMgRmxleHtcclxuXHJcblxyXG4gICAgcHJpdmF0ZSBib3hJdGVtU3R5bGVzOiB7fTtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcigpe1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5ib3hJdGVtU3R5bGVzID0ge1xyXG4gICAgICAgICAgICBob3Jpem9udGFsOiBzdHlsZXMuQklFbXB0eSxcclxuICAgICAgICAgICAgdmVydGljYWw6IHN0eWxlcy5ib3hJdGVtX1lfMVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYWRkSW1nQmNrR3JuZChlOkV2ZW50KXtcclxuICAgICAgICBpZiAoKDxIVE1MRWxlbWVudD5lLnRhcmdldCkuaWQgPT09ICdhZGQtYm94LWJja2dybmQnIHx8ICg8SFRNTEVsZW1lbnQ+ZS50YXJnZXQpLmlkID09PSAnYWRkLW91dGVyQm94LWJja2dybmQnKSB7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvL2Z1bmtjZSB2eXZvbMOhdsOhIGNsaWNrIG5hIGlucHV0IGJ1dHRvbiwga3RlcsOpIGplIG5lem9icmF6ZW7DqSBhIHTDrW0gc3BvdcWhdMOtIGZ1bmtjaSB0aGlzLmZpbGVSZWFkZXIoKVxyXG4gICAgICAgICAgICBpZiAoKDxIVE1MRWxlbWVudD5lLnRhcmdldCkuaWQgPT09ICdhZGQtYm94LWJja2dybmQnKSB7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYm94LWJja2dybmQtaW5wdXQnKT8uY2xpY2soKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmKCg8SFRNTEVsZW1lbnQ+ZS50YXJnZXQpLmlkID09PSAnYWRkLW91dGVyQm94LWJja2dybmQnKXtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvdXRlckJveC1iY2tncm5kLWlucHV0Jyk/LmNsaWNrKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAvLyBpZihkZWJ1ZylcclxuICAgICAgICAgICAgY29uc29sZS5sb2coKDxIVE1MRWxlbWVudD5lLnRhcmdldCkuaWQpO1xyXG4gICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICogSU1HIGx6ZSB2bG/Fvml0IGRvIGhsYXZuw61obyBrb250ZWpuZXJ1IGEgZG8gYm94SXRlbXVcclxuICAgICAgICAgICAgICogRMSbZMSbbsOtOiBcclxuICAgICAgICAgICAgICogIC0gZG8gaGxhdm7DrWhvIGtvbnRlam5lcnU6IG5lXHJcbiAgICAgICAgICAgICAqICAtIGRvIGJveEl0ZW06IG5lXHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEV2ZW50IGhhbmRsZXIsIHNhdmUgaW1nIGJhc2U2NCBpbnRvIGxvY2FsIHN0b3JhZ2VcclxuICAgICAqIGNvZGVyOiBJIHVzZWQgd3JhcHBlciBmdW5jdGlvbiBmb3IgZmlyc3QgdGltZSB0byBwYXNzIGEgZGVwZW5kZW5jZSB0byBldmVudCBjYWxsYmFja1xyXG4gICAgICogQHBhcmFtIGUgXHJcbiAgICAgKi9cclxuICAgICBwdWJsaWMgZmlsZVJlYWRlcihlOkV2ZW50KXtcclxuICAgICAgIFxyXG4gICAgICAgIC8vaWYoZGVidWcpICAgXHJcbiAgICAgICAgaWYgKCAoPEhUTUxFbGVtZW50PmUudGFyZ2V0KS5pZCA9PT0gJ2JveC1iY2tncm5kLWlucHV0JyB8fCAoPEhUTUxFbGVtZW50PmUudGFyZ2V0KS5pZCA9PT0gJ291dGVyQm94LWJja2dybmQtaW5wdXQnKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdmaWxlIHJlYWRlciBiYWNrZ3JvdW5kIGltYWdlIHNlIHNwdXN0aWw6Jyk7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XHJcbiAgICAgICAgICAgIGxldCB0cmdnSWQgPSAoPEhUTUxFbGVtZW50PmUudGFyZ2V0KS5pZDtcclxuICAgICAgICAgICAgZnVuY3Rpb24gcGFzc0FyZ1dycHIodHJnZ3JJZDogc3RyaW5nKXtcclxuICAgICAgICAgICAgcmVhZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCAoZXYpID0+IHtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgLy9pbWcgYXMgYmFzZTY0XHJcbiAgICAgICAgICAgICAgICBsZXQgdXBsb2FkZWRfaW1hZ2UgPSByZWFkZXIucmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgaWYgKHVwbG9hZGVkX2ltYWdlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHRyaWdnZXJJZDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHJnZ0lkID09PSAnYm94LWJja2dybmQtaW5wdXQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyaWdnZXJJZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0cmlnZ2VyaWQnKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYodHJnZ0lkID09PSAnb3V0ZXJCb3gtYmNrZ3JuZC1pbnB1dCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHJpZ2dlcklkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3RyZ2dyUHJudElkJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmKHRyaWdnZXJJZCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRyaWdnZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0cmlnZ2VySWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZih0cmlnZ2VyKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRyZ2dyQ3Rnck5hbWUgPSA8J21hdGVyaWFsJ3wnY29taWNzJz50cmlnZ2VyLmdldEF0dHJpYnV0ZSgnZGF0YS1jYXRlZ29yeScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaXRlbXMgPSBMb2NTdG9yYWdlLmdldEl0ZW1zKCdpdGVtcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGN0Z3JEYXRhOml0ZW0gfCBudWxsID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3RnckRhdGEgPSBMb2NTdG9yYWdlLmdldEN0Z3IoaXRlbXMsIHRyZ2dyQ3Rnck5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3I6dW5rbm93bikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEV4aXN0SW5Mb2NTdG9yYWdlRXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IubWVzc2FnZSwgZXJyb3IucHJvcGVydHkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN0Z3JEYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRyaWdnZXJEYXRhID0gTG9jU3RvcmFnZS5maW5kSXRlbShjdGdyRGF0YS5zdWJJdGVtcyx0cmlnZ2VySWQpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHJpZ2dlckRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJpZ2dlckRhdGEuaW1nID0gPHN0cmluZz51cGxvYWRlZF9pbWFnZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzYXZlZCA9IExvY1N0b3JhZ2UudXBnckl0ZW0oY3RnckRhdGEuc3ViSXRlbXMsIHRyaWdnZXJJZCwgdHJpZ2dlckRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2F2ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIExvY1N0b3JhZ2Uuc2V0SXRlbSgnaXRlbXMnLCBpdGVtcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW1nID0gbmV3IEltYWdlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWcuc3JjID0gPHN0cmluZz51cGxvYWRlZF9pbWFnZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJpZ2dlci5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBcInVybCgnXCIgKyBpbWcuc3JjICsgXCInKVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vcG9rdWQgamUgdHJpZ2dlciBib3hJdGVtIGEgcG9rdWQgbcOhIGNsYXNzIGVtcHR5LCBvZHN0cmFuIGVtcHR5IGNsYXNzIHogZGF0YWLDoXplIGEgeiBET01cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qIGltYWdlSXRlbS5ybXZFbXB0eUNsYXNzZXNGQkl0ZW0oaXRlbXNbdHJpZ2dlckNhdGVnb3J5XSwgdHJpZ2dlcklkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0cmlnZ2VyLmNsYXNzTGlzdC5jb250YWlucyhzdHlsRmxleEJJLkJJRW1wdHkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJpZ2dlci5jbGFzc0xpc3QucmVtb3ZlKHN0eWxGbGV4QkkuQklFbXB0eSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0vL1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICAgICAgcGFzc0FyZ1dycHIodHJnZ0lkKTtcclxuICAgICAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoKDxIVE1MSW5wdXRFbGVtZW50PmUudGFyZ2V0KS5maWxlcyFbMF0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgIH0gXHJcbiAgICBcclxuICAgIHB1YmxpYyBybXZCb3hCY2tHcm5kKGU6RXZlbnQpe1xyXG4gICAgICAgIC8vcG9rdWQgc2Uga2xpa2xvIG5hIHRsYcSNw610a28gYWRkIGJveEl0ZW1cclxuICAgICAgICBpZiAoKDxIVE1MRWxlbWVudD5lLnRhcmdldCkuaWQgPT09ICdybXYtYm94LWJja2dybmQnIHx8ICg8SFRNTEVsZW1lbnQ+ZS50YXJnZXQpLmlkID09PSAncm12LW91dGVyQm94LWJja2dybmQnKXtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygoPEhUTUxFbGVtZW50PmUudGFyZ2V0KS5pZCk7XHJcblxyXG4gICAgICAgICAgICAvL3rDrXNrw6Fuw60gaG9kbm90IHogY2hlY2tlZCBpbnB1dMWvXHJcbiAgICAgICAgICAgIGxldCBwcmVzZXRzID0gSW5wdXRHZXR0ZXIuZ2V0Q2hja0lucGRWbHMoJyNib3hJdGVtLXByZXNldCcpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhwcmVzZXRzKTtcclxuICAgICAgICAgICAgbGV0IHRyaWdnZXJJZDtcclxuICAgICAgICAgICAgLy90cmlnZ2VyIGplIGVsZW1lbnQsIG5hIGt0ZXLDqW0gc2Ugdnl2b2xhbG8gbWVudVxyXG4gICAgICAgICAgICBpZiAoKDxIVE1MRWxlbWVudD5lLnRhcmdldCkuaWQgPT09ICdybXYtYm94LWJja2dybmQnKSB7XHJcbiAgICAgICAgICAgICAgICB0cmlnZ2VySWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndHJpZ2dlcmlkJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoKDxIVE1MRWxlbWVudD5lLnRhcmdldCkuaWQgPT09ICdybXYtb3V0ZXJCb3gtYmNrZ3JuZCcpe1xyXG4gICAgICAgICAgICAgICAgdHJpZ2dlcklkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3RyZ2dyUHJudElkJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYodHJpZ2dlcklkKXtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRyaWdnZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0cmlnZ2VySWQpO1xyXG4gICAgICAgICAgICAgICAgaWYodHJpZ2dlcil7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRyZ2dyQ3Rnck5hbWUgPSA8J21hdGVyaWFsJ3wnY29taWNzJz50cmlnZ2VyLmdldEF0dHJpYnV0ZSgnZGF0YS1jYXRlZ29yeScpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBpdGVtcyA9IExvY1N0b3JhZ2UuZ2V0SXRlbXMoJ2l0ZW1zJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGN0Z3JEYXRhOml0ZW0gfCBudWxsID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdGdyRGF0YSA9IExvY1N0b3JhZ2UuZ2V0Q3RncihpdGVtcywgdHJnZ3JDdGdyTmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yOnVua25vd24pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXhpc3RJbkxvY1N0b3JhZ2VFcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IubWVzc2FnZSwgZXJyb3IucHJvcGVydHkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGN0Z3JEYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0cmlnZ2VyRGF0YSA9IExvY1N0b3JhZ2UuZmluZEl0ZW0oY3RnckRhdGEuc3ViSXRlbXMsIHRyaWdnZXJJZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0cmlnZ2VyRGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRyaWdnZXJEYXRhLmltZykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB0cmlnZ2VyRGF0YS5pbWc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJpZ2dlci5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSAnJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIExvY1N0b3JhZ2UudXBnckl0ZW0oY3RnckRhdGEuc3ViSXRlbXMsIHRyaWdnZXJJZCwgdHJpZ2dlckRhdGEpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9jU3RvcmFnZS5zZXRJdGVtKCdpdGVtcycsIGl0ZW1zKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBlZHRHcm93KGU6RXZlbnQpe1xyXG4gICAgICAgXHJcbiAgICAgICAgLy9wb2t1ZCBzZSBrbGlrbG8gbmEgdGxhxI3DrXRrbyBhZGQgYm94SXRlbVxyXG4gICAgICAgIGlmICgoPEhUTUxFbGVtZW50PmUudGFyZ2V0KS5pZCA9PT0gJ2VkdC1ib3gtZ3Jvdyd8fCAoPEhUTUxFbGVtZW50PmUudGFyZ2V0KS5pZCA9PT0gJ2VkdC1vdXRlckJveC1ncm93Jyl7XHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ2VkdC1ib3gtZ3JvdycpO1xyXG4gICAgICAgICAgICAvL2V2ZW4gdGFyZ2V0IGplIGJ1dHRvbiB6IG1lbnUhXHJcbiAgICAgICAgICAgIGNvbnN0IGV2VGFyZ2V0ID0gKDxIVE1MRWxlbWVudD5lLnRhcmdldCk7XHJcbiAgICAgICAgICAgIC8vesOtc2vDoW7DrSBob2Rub3QgeiBjaGVja2VkIGlucHV0xa9cclxuICAgICAgICAgICAgbGV0IHByZXNldHMgPSBJbnB1dEdldHRlci5nZXRDaGNrSW5wZFZscygnI2JveEl0ZW0tcHJlc2V0Jyk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHByZXNldHMpO1xyXG5cclxuICAgICAgICAgICAgLy90cmlnZ2VyIGplIGVsZW1lbnQsIG5hIGt0ZXLDqW0gc2Ugdnl2b2xhbG8gbWVudVxyXG4gICAgICAgICAgICBsZXQgdHJpZ2dlcklkO1xyXG4gICAgICAgICAgICBpZiAoKDxIVE1MRWxlbWVudD5lLnRhcmdldCkuaWQgPT09ICdlZHQtYm94LWdyb3cnKSB7XHJcbiAgICAgICAgICAgICAgICB0cmlnZ2VySWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndHJpZ2dlcmlkJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZigoPEhUTUxFbGVtZW50PmUudGFyZ2V0KS5pZCA9PT0gJ2VkdC1vdXRlckJveC1ncm93Jyl7XHJcbiAgICAgICAgICAgICAgICB0cmlnZ2VySWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndHJnZ3JQcm50SWQnKTtcclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYodHJpZ2dlcklkKXtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRyaWdnZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0cmlnZ2VySWQpO1xyXG4gICAgICAgICAgICAgICAgaWYodHJpZ2dlcil7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRyZ2dyQ3Rnck5hbWUgPSA8J21hdGVyaWFsJ3wnY29taWNzJz50cmlnZ2VyLmdldEF0dHJpYnV0ZSgnZGF0YS1jYXRlZ29yeScpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBpdGVtcyA9IExvY1N0b3JhZ2UuZ2V0SXRlbXMoJ2l0ZW1zJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGN0Z3JEYXRhOml0ZW0gfCBudWxsID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdGdyRGF0YSA9IExvY1N0b3JhZ2UuZ2V0Q3RncihpdGVtcywgdHJnZ3JDdGdyTmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yOnVua25vd24pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXhpc3RJbkxvY1N0b3JhZ2VFcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IubWVzc2FnZSwgZXJyb3IucHJvcGVydHkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGN0Z3JEYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHRyaWdnZXJEYXRhID0gTG9jU3RvcmFnZS5maW5kSXRlbShjdGdyRGF0YS5zdWJJdGVtcywgdHJpZ2dlcklkKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHJpZ2dlckRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCg8Ym94SXRlbUNsYXNzPnRyaWdnZXJEYXRhLmNsYXNzZXMpLmdyb3dbMF0gIT09IHByZXNldHNbMF0udmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0cmlnZ2VyLnBhcmVudEVsZW1lbnQ/LmNsYXNzTGlzdC5jb250YWlucygnaG9yaXpvbnRhbCcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0cmlnZ2VyLnN0eWxlLndpZHRoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyLnN0eWxlLndpZHRoID0gJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHJpZ2dlckRhdGEuaW5sU3R5bD8ud2lkdGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgdHJpZ2dlckRhdGEuaW5sU3R5bC53aWR0aDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHJpZ2dlci5jbGFzc0xpc3QuY29udGFpbnMoJ3gxMDAnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJpZ2dlci5jbGFzc0xpc3QucmVtb3ZlKCd4MTAwJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoPGJveEl0ZW1DbGFzcz50cmlnZ2VyRGF0YS5jbGFzc2VzKS53aWR0aFswXSA9ICd4MCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHJpZ2dlci5wYXJlbnRFbGVtZW50Py5jbGFzc0xpc3QuY29udGFpbnMoJ3ZlcnRpY2FsJykpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHJpZ2dlci5zdHlsZS5oZWlnaHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyaWdnZXIuc3R5bGUuaGVpZ2h0ID0gJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHJpZ2dlckRhdGEuaW5sU3R5bD8uaGVpZ2h0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHRyaWdnZXJEYXRhLmlubFN0eWwuaGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0cmlnZ2VyLmNsYXNzTGlzdC5jb250YWlucygneTEwMCcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyLmNsYXNzTGlzdC5yZW1vdmUoJ3kxMDAnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICg8Ym94SXRlbUNsYXNzPnRyaWdnZXJEYXRhLmNsYXNzZXMpLmhlaWdodFswXSA9ICd5MCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBiYWRDbGFzcyA9ICg8Ym94SXRlbUNsYXNzPnRyaWdnZXJEYXRhLmNsYXNzZXMpLmdyb3dbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyLmNsYXNzTGlzdC5yZW1vdmUoYmFkQ2xhc3MpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJpZ2dlci5jbGFzc0xpc3QuYWRkKHByZXNldHNbMF0udmFsdWUpO1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoPGJveEl0ZW1DbGFzcz50cmlnZ2VyRGF0YS5jbGFzc2VzKS5ncm93WzBdID0gcHJlc2V0c1swXS52YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIExvY1N0b3JhZ2UudXBnckl0ZW0oY3RnckRhdGEuc3ViSXRlbXMsIHRyaWdnZXJJZCwgdHJpZ2dlckRhdGEpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBMb2NTdG9yYWdlLnNldEl0ZW0oJ2l0ZW1zJywgaXRlbXMpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGVkdEJveERjcnRuKGU6RXZlbnQpe1xyXG4gICAgICAgICAgICAvL3Bva3VkIHNlIGtsaWtsbyBuYSB0bGHEjcOtdGtvIGFkZCBib3hJdGVtXHJcbiAgICAgICAgICAgIGlmICgoPEhUTUxFbGVtZW50PmUudGFyZ2V0KS5pZCA9PT0gJ2VkdC1ib3gtZHJjdG4nIHx8ICg8SFRNTEVsZW1lbnQ+ZS50YXJnZXQpLmlkID09PSAnZWR0LW91dGVyQm94LWRyY3RuJyl7XHJcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygoPEhUTUxFbGVtZW50PmUudGFyZ2V0KS5pZCk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy96w61za8OhbsOtIGhvZG5vdCB6IGNoZWNrZWQgaW5wdXTFr1xyXG4gICAgICAgICAgICAgICAgbGV0IHByZXNldHMgPSBJbnB1dEdldHRlci5nZXRDaGNrSW5wZFZscygnI2JveEl0ZW0tcHJlc2V0Jyk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhwcmVzZXRzKTtcclxuICAgICAgICAgICAgICAgIGxldCB0cmlnZ2VySWQ7XHJcbiAgICAgICAgICAgICAgICAvL3RyaWdnZXIgamUgZWxlbWVudCwgbmEga3RlcsOpbSBzZSB2eXZvbGFsbyBtZW51XHJcbiAgICAgICAgICAgICAgICBpZiAoKDxIVE1MRWxlbWVudD5lLnRhcmdldCkuaWQgPT09ICdlZHQtYm94LWRyY3RuJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRyaWdnZXJJZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0cmlnZ2VyaWQnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKCg8SFRNTEVsZW1lbnQ+ZS50YXJnZXQpLmlkID09PSAnZWR0LW91dGVyQm94LWRyY3RuJyl7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJpZ2dlcklkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3RyZ2dyUHJudElkJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZih0cmlnZ2VySWQpe1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRyaWdnZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0cmlnZ2VySWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKHRyaWdnZXIpe1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdHJnZ3JDdGdyTmFtZSA9IDwnbWF0ZXJpYWwnfCdjb21pY3MnPnRyaWdnZXIuZ2V0QXR0cmlidXRlKCdkYXRhLWNhdGVnb3J5Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpdGVtcyA9IExvY1N0b3JhZ2UuZ2V0SXRlbXMoJ2l0ZW1zJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjdGdyRGF0YTppdGVtIHwgbnVsbCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdGdyRGF0YSA9IExvY1N0b3JhZ2UuZ2V0Q3RncihpdGVtcywgdHJnZ3JDdGdyTmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3I6dW5rbm93bikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXhpc3RJbkxvY1N0b3JhZ2VFcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yLm1lc3NhZ2UsIGVycm9yLnByb3BlcnR5KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdGdyRGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgdHJpZ2dlckRhdGEgPSBMb2NTdG9yYWdlLmZpbmRJdGVtKGN0Z3JEYXRhLnN1Ykl0ZW1zLCB0cmlnZ2VySWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHJpZ2dlckRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoPGJveEl0ZW1DbGFzcz50cmlnZ2VyRGF0YS5jbGFzc2VzKS5mbGV4RHJjdG5bMF0gIT09IHByZXNldHNbMF0udmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgYmFkQ2xhc3MgPSAoPGJveEl0ZW1DbGFzcz50cmlnZ2VyRGF0YS5jbGFzc2VzKS5mbGV4RHJjdG5bMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJpZ2dlci5jbGFzc0xpc3QucmVtb3ZlKGJhZENsYXNzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyLmNsYXNzTGlzdC5hZGQocHJlc2V0c1swXS52YWx1ZSk7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoPGJveEl0ZW1DbGFzcz50cmlnZ2VyRGF0YS5jbGFzc2VzKS5mbGV4RHJjdG5bMF0gPSBwcmVzZXRzWzBdLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIExvY1N0b3JhZ2UudXBnckl0ZW0oY3RnckRhdGEuc3ViSXRlbXMsIHRyaWdnZXJJZCwgdHJpZ2dlckRhdGEpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9jU3RvcmFnZS5zZXRJdGVtKCdpdGVtcycsIGl0ZW1zKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIGl0ZW0gYm94IGFuZCBhcHBlbmRzIGV2ZW50IHRhcmdldCB0byBpdCAtIG5lZWRzIHRlc3QgaWYgZXZlbnQgdGFyZ2V0IGNhbiBiZSBhcHBlbmRlZCwgY2F1c2UgaXQgaXMganVzdCByZWFkIG9ubHlcclxuICAgICAqIEBwYXJhbSBlIFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgYWRkT3V0ZXJCb3hJdGVtKGZsZXhCb3hJdGVtOiBGbGV4Qm94SXRlbSl7XHJcbiAgICAgICAgcmV0dXJuKGU6RXZlbnQpPT4ge1xyXG4gICAgICAgICAgICAvL3Bva3VkIHNlIGtsaWtsbyBuYSB0bGHEjcOtdGtvIGFkZCBib3hJdGVtXHJcbiAgICAgICAgICAgIGlmICgoPEhUTUxFbGVtZW50PmUudGFyZ2V0KS5pZCA9PT0gJ2FkZC1vdXRlckJveEl0ZW0nKXtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdhZGQtb3V0ZXJCb3hJdGVtJylcclxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgIC8vZXZlbiB0YXJnZXQgamUgYnV0dG9uIHogbWVudSFcclxuICAgICAgICAgICAgICAgIGNvbnN0IGV2VGFyZ2V0ID0gKDxIVE1MRWxlbWVudD5lLnRhcmdldCk7XHJcbiAgICAgICAgICAgICAgICAvL3rDrXNrw6Fuw60gaG9kbm90IHogY2hlY2tlZCBpbnB1dMWvXHJcbiAgICAgICAgICAgICAgICBsZXQgcHJlc2V0cyA9IElucHV0R2V0dGVyLmdldENoY2tJbnBkVmxzKCcjYm94SXRlbS1wcmVzZXQnKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHByZXNldHMpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vdHJpZ2dlciBqZSBlbGVtZW50LCBuYSBrdGVyw6ltIHNlIHZ5dm9sYWxvIG1lbnVcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRyaWdnZXJJZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0cmlnZ2VyaWQnKTtcclxuICAgICAgICAgICAgICAgIGlmKHRyaWdnZXJJZCl7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdHJpZ2dlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRyaWdnZXJJZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYodHJpZ2dlcil7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0cmdnckN0Z3JOYW1lID0gPCdtYXRlcmlhbCd8J2NvbWljcyc+dHJpZ2dlci5nZXRBdHRyaWJ1dGUoJ2RhdGEtY2F0ZWdvcnknKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vaWQgaXRlbSBib3h1XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld0l0ZW1JZCA9IExvY1N0b3JhZ2UuY3J0TmV3SXRlbUlkKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpdGVtcyA9IExvY1N0b3JhZ2UuZ2V0SXRlbXMoJ2l0ZW1zJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjdGdyRGF0YTppdGVtIHwgbnVsbCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdGdyRGF0YSA9IExvY1N0b3JhZ2UuZ2V0Q3RncihpdGVtcywgdHJnZ3JDdGdyTmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3I6dW5rbm93bikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXhpc3RJbkxvY1N0b3JhZ2VFcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yLm1lc3NhZ2UsIGVycm9yLnByb3BlcnR5KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdGdyRGF0YSkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjbGFzc2VzOmJveEl0ZW1DbGFzcyA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc0lkOlsnaXRlbScsICdib3hJdGVtJ10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246WydmYi1qYy1zdGFydCcsICdmYi1haS1zdGFydCcsICdmaS1ub25lJ10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ViSXRQc3RuOltdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1vbjpbc3R5bGVzLmJveEl0ZW1fWV8xXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbGV4RHJjdG46W10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdzpbXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDpbJ3gwJ10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OlsneTAnXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihwcmVzZXRzLmxlbmd0aCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9jU3RvcmFnZS5zYXZlRmJJbnB0Q2xhc09wdG4ocHJlc2V0cywgY2xhc3Nlcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRyaWdnZXJOZXh0U2JsbmcgPSB0cmlnZ2VyLm5leHRFbGVtZW50U2libGluZztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihkZWJ1ZylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3RyaWdnZXJOZXh0U2Jsbmc6Jyx0cmlnZ2VyTmV4dFNibG5nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0cmlnZ2VyUHJldmlvdXNTYmxuZyA9IHRyaWdnZXIucHJldmlvdXNFbGVtZW50U2libGluZztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0cmlnZ2VyUHJudCA9IHRyaWdnZXIucGFyZW50RWxlbWVudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL25hamRpIHRyaWdnZXIgb2JqZWN0IGluIGxvY2FsIHN0b3JhZ2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0cmlnZ2VyRGF0YSA9IExvY1N0b3JhZ2UuZmluZEl0ZW0oY3RnckRhdGEuc3ViSXRlbXMsdHJpZ2dlcklkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygndHJpZ2dlckRhdGEgYWZ0ZXIgTG9jU3RvcmFnZS5maW5kSXRlbShpdGVtc1t0cmlnZ2VyQ2F0ZWdvcnldLHRyaWdnZXJJZCk7JywgdHJpZ2dlckRhdGEpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld0l0ZW1Cb3hEYXRhOml0ZW0gPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOm5ld0l0ZW1JZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NlczogY2xhc3NlcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2luZDonYm94SXRlbScgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3ptxJtuIGRhdGEgZGltZW5zaW9uIGEgb3JkZXIgdiB0cmlnZ2VyRGF0YVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0cmlnZ2VyRGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdJdGVtQm94RGF0YS5zdWJJdGVtcyA9IFt0cmlnZ2VyRGF0YV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsZXhCb3hJdGVtLnBhc3RlSXRlbUFjY29yZGluZ0lkKGN0Z3JEYXRhLnN1Ykl0ZW1zLHRyaWdnZXJJZCwgbmV3SXRlbUJveERhdGEpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBMb2NTdG9yYWdlLnNldEl0ZW0oJ2l0ZW1zJywgaXRlbXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3Zsb8W+ZW7DrSB0cmlnZ2VyIGVsZW1lbnR1IGRvIGl0ZW0gYm94dVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBib3hJdGVtID0gZmxleEJveEl0ZW0uY3J0RmxleEl0ZW1Cb3gobmV3SXRlbUJveERhdGEsIHRyZ2dyQ3Rnck5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm94SXRlbS5hcHBlbmQoPE5vZGU+dHJpZ2dlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3Zsb8W+ZW7DrSBpdGVtIGJveHUgbmEgYsO9dmFsw6kgbcOtc3RvIHRyaWdnZXIgZWxlbWVudHUgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKHRyaWdnZXJQcm50KXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsZXhCb3hJdGVtLmFwcG5kSW5UcmdnclBhcm50RWxtKHRyaWdnZXJOZXh0U2JsbmcsIHRyaWdnZXJQcmV2aW91c1NibG5nLCB0cmlnZ2VyUHJudCwgYm94SXRlbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIGl0ZW0gYm94IGFuZCBhcHBlbmRzIGV2ZW50IHRhcmdldCB0byBpdCAtIG5lZWRzIHRlc3QgaWYgZXZlbnQgdGFyZ2V0IGNhbiBiZSBhcHBlbmRlZCwgY2F1c2UgaXQgaXMganVzdCByZWFkIG9ubHlcclxuICAgICAqIEBwYXJhbSBlIFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgYWRkSW5uZXJCb3hJdGVtKGZsZXhCb3hJdGVtOiBGbGV4Qm94SXRlbSl7XHJcbiAgICAgICAgcmV0dXJuKGU6RXZlbnQpPT4ge1xyXG4gICAgICAgICAgICAvL3Bva3VkIHNlIGtsaWtsbyBuYSB0bGHEjcOtdGtvIGFkZCBib3hJdGVtXHJcbiAgICAgICAgICAgIGlmICgoPEhUTUxFbGVtZW50PmUudGFyZ2V0KS5pZCA9PT0gJ2FkZC1pbm5lckJveEl0ZW0nKXtcclxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdhZGQtaW5uZXJCb3hJdGVtJylcclxuICAgICAgICAgICAgICAgIC8vZXZlbiB0YXJnZXQgamUgYnV0dG9uIHogbWVudSFcclxuICAgICAgICAgICAgICAgIGNvbnN0IGV2VGFyZ2V0ID0gKDxIVE1MRWxlbWVudD5lLnRhcmdldCk7XHJcbiAgICAgICAgICAgICAgICAvL3rDrXNrw6Fuw60gaG9kbm90IHogY2hlY2tlZCBpbnB1dMWvXHJcbiAgICAgICAgICAgICAgICBsZXQgcHJlc2V0cyA9IElucHV0R2V0dGVyLmdldENoY2tJbnBkVmxzKCcjYm94SXRlbS1wcmVzZXQnKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHByZXNldHMpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vdHJpZ2dlciBqZSBlbGVtZW50LCBuYSBrdGVyw6ltIHNlIHZ5dm9sYWxvIG1lbnVcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRyaWdnZXJJZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0cmlnZ2VyaWQnKTtcclxuICAgICAgICAgICAgICAgIGlmKHRyaWdnZXJJZCl7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdHJpZ2dlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRyaWdnZXJJZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYodHJpZ2dlcil7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0cmdnckN0Z3JOYW1lID0gPCdtYXRlcmlhbCd8J2NvbWljcyc+dHJpZ2dlci5nZXRBdHRyaWJ1dGUoJ2RhdGEtY2F0ZWdvcnknKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vaWQgaXRlbSBib3h1XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld0l0ZW1JZCA9IExvY1N0b3JhZ2UuY3J0TmV3SXRlbUlkKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpdGVtcyA9IExvY1N0b3JhZ2UuZ2V0SXRlbXMoJ2l0ZW1zJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgY3RnckRhdGE6aXRlbSB8IG51bGwgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3RnckRhdGEgPSBMb2NTdG9yYWdlLmdldEN0Z3IoaXRlbXMsIHRyZ2dyQ3Rnck5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yOnVua25vd24pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEV4aXN0SW5Mb2NTdG9yYWdlRXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvci5tZXNzYWdlLCBlcnJvci5wcm9wZXJ0eSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3RnckRhdGEpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgY2xhc3Nlczpib3hJdGVtQ2xhc3MgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NJZDpbJ2l0ZW0nLCAnYm94SXRlbSddLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOlsnZmItamMtc3RhcnQnLCAnZmItYWktc3RhcnQnLCAnZmktbm9uZSddLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Ykl0UHN0bjpbXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21tb246W3N0eWxlcy5ib3hJdGVtX1lfMV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmxleERyY3RuOltdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyb3c6W10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6Wyd4MCddLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDpbJ3kwJ10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3SXRlbUJveERhdGE6aXRlbSA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDpuZXdJdGVtSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NlczpjbGFzc2VzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtpbmQ6J2JveEl0ZW0nfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihwcmVzZXRzLmxlbmd0aCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9jU3RvcmFnZS5zYXZlRmJJbnB0Q2xhc09wdG4ocHJlc2V0cywgY2xhc3Nlcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3Bva3VkIHNlIGtsaWtuZSBkbyBtYWluIGNvbnRhaW5lciwgcG9rdWQgamUgdHJpZ2dlciB6w6Fyb3ZlxYgga2F0ZWdvcmnDrVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRyaWdnZXJJZCA9PT0gdHJnZ3JDdGdyTmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vYmxvayBwcm8gdWxvxb5lbsOtIGRvIGxvY2FsU3RvcmFnZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIExvY1N0b3JhZ2UucHVzaE5ld0l0ZW0oaXRlbXMuaXRlbXMsIHRyZ2dyQ3Rnck5hbWUsIG5ld0l0ZW1Cb3hEYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBMb2NTdG9yYWdlLnNldEl0ZW0oJ2l0ZW1zJywgaXRlbXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY3JlYXRlIGJveCBpdGVtIGFuZCBhcHBlbmQgdG8gRE9NXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYm94SXRlbSA9IGZsZXhCb3hJdGVtLmNydEZsZXhJdGVtQm94KG5ld0l0ZW1Cb3hEYXRhLCB0cmdnckN0Z3JOYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbGV4Qm94SXRlbS5hcHBuZEluVHJpZ2dlckVsbSh0cmlnZ2VyPy5jaGlsZE5vZGVzLCB0cmlnZ2VyLCBib3hJdGVtKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9uYWpkaSB0cmlnZ2VyIG9iamVjdCBpbiBsb2NhbCBzdG9yYWdlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdHJpZ2dlckRhdGEgPSBMb2NTdG9yYWdlLmZpbmRJdGVtKGN0Z3JEYXRhLnN1Ykl0ZW1zLHRyaWdnZXJJZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy96bcSbbiBkYXRhIGRpbWVuc2lvbiBhIG9yZGVyIHYgdHJpZ2dlckRhdGFcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHJpZ2dlckRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIExvY1N0b3JhZ2UucGFzdGVJdGVtSW5TdWJBY2NvcmRpbmdJZChjdGdyRGF0YS5zdWJJdGVtcywgdHJpZ2dlcklkLCBuZXdJdGVtQm94RGF0YSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9jU3RvcmFnZS5zZXRJdGVtKCdpdGVtcycsIGl0ZW1zKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy92bG/FvmVuw60gdHJpZ2dlciBlbGVtZW50dSBkbyBpdGVtIGJveHVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYm94SXRlbSA9IGZsZXhCb3hJdGVtLmNydEZsZXhJdGVtQm94KG5ld0l0ZW1Cb3hEYXRhLCB0cmdnckN0Z3JOYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyaWdnZXIuYXBwZW5kKGJveEl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEZpbmRzIHRyaWdnZXIgaXRlbSBpbiBjYXRlZ29yeSBhbmQgcmVwbGFjZXMgaXQgd2l0aCBuZXdJdGVtLCBpbiB3aGljaCB0aGlzIG9sZCBvbmUgaXNcclxuICAgICAqIEBwYXJhbSBpdGVtc0luQ3RnciBcclxuICAgICAqIEBwYXJhbSB0cmlnZ2VySWQgXHJcbiAgICAgKiBAcGFyYW0gbmV3SXRlbSBcclxuICAgICAqL1xyXG4gICAgcGFzdGVJdGVtQWNjb3JkaW5nSWQoaXRlbXNJbkN0Z3I6aXRlbVtdIHwgdW5kZWZpbmVkICwgdHJpZ2dlcklkOnN0cmluZywgbmV3SXRlbTppdGVtKXtcclxuICAgICAgICBsZXQgcmVzdWx0OmJvb2xlYW4gPSBmYWxzZTtcclxuICAgICAgICBpZiAoIWl0ZW1zSW5DdGdyKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdJdGVtLnN1Yml0ZW1zID0gdW5kZWZpbmVkIGluIGZuYyBGbGV4Qm94SXRlbS5wYXN0ZUl0ZW1BY2NvcmRpbmdJZCcpO1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0ID0gZmFsc2U7XHJcbiAgICAgICAgfSBcclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGl0ZW1zSW5DdGdyLmZvckVhY2goIChpdGVtLCBpbmRleCwgYXJyYXlJdHNlbGYpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChpdGVtLmlkID09PSB0cmlnZ2VySWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBhcnJheUl0c2VsZltpbmRleF0gPSBuZXdJdGVtO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmKGl0ZW0uc3ViSXRlbXMpe1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBzdWJJdGVtcyA9IGl0ZW0uc3ViSXRlbXMgYXMgaXRlbVtdO1xyXG4gICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5wYXN0ZUl0ZW1BY2NvcmRpbmdJZChzdWJJdGVtcywgdHJpZ2dlcklkLCBuZXdJdGVtKVxyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEZ1bmN0aW9uIGZvciBtYWluIGNvbnRhaW5lcih0aGUgdG9wIGNvbnRhaW5lcilcclxuICAgICAqIElmIHRyaWdnZXIgZWxlbWVudCBpcyBtYWluIGNvbnRhaW5lciBsaWtlIGNvbWljcywgYXBwZW5kIG5ldyBlbGVtZW50IGFsd2F5cyB0byB0aGUgdHJpZ2dlciBlbGVtZW50IGJlZm9yZSBhbGwgZXhpc3RpbmcgdHJpZ2dlciBzaWJsaW5ncyBvciBpZiBubyBzaWJsaW5ncyB0byB0aGUgZW5kXHJcbiAgICAgKiBAcGFyYW0gc2JsbmdzIFxyXG4gICAgICogQHBhcmFtIHRyaWdnZXIgXHJcbiAgICAgKiBAcGFyYW0gYm94SXRlbSBcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBhcHBuZEluVHJpZ2dlckVsbShzYmxuZ3M6Tm9kZUxpc3QgfCB1bmRlZmluZWQsIHRyaWdnZXI6SFRNTEVsZW1lbnQsIG5ld0VsbTpIVE1MRWxlbWVudCApe1xyXG4gICAgICAgIC8vcG9rdWQgamUgcGFycmVudCB2cmNob2xuw70gY29udGVqbmVyIHR5cHUgY29taWNzLCBwxZlpZGVqIGl0ZW0gZG92bml0xZkgbsSbaiwgbmlrZHkgbmFvcGFrXHJcbiAgICAgICAgaWYoc2JsbmdzKXtcclxuICAgICAgICAgICBcclxuICAgICAgICAgICAgLyogdHJpZ2dlcj8uaW5zZXJ0QmVmb3JlKG5ld0VsbSwgc2JsbmdzWzBdKTsgKi9cclxuICAgICAgICAgICAgdHJpZ2dlcj8uYXBwZW5kKG5ld0VsbSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgdHJpZ2dlcj8uYXBwZW5kKG5ld0VsbSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogRnVuY3Rpb24gZm9yIGl0ZW1zKGl0ZW0gY2FuIGJlIGNvbnRhaW5lciBsaWtlIGJveEl0ZW0gZXhjZXB0IE1BSU4odG9wKSBjb250YWluZXIpXHJcbiAgICAgKiBJZiB0cmlnZ2VyIGVsZW1lbnQgaXMgaXRlbSBsaWtlIGltZyBvciBpdGVtIGJveCwgYXBwZW5kIG5ldyBlbGVtZW50IGFsd2F5cyB0byB0aGUgdHJpZ2dlciBQQVJFTlQgZWxlbWVudCB3aGVyZSB0aGUgdHJpZ2dlciBlbGVtZW50IHdhcyBsb2NhdGVkXHJcbiAgICAgKiBAcGFyYW0gbmV4dFNibG5nIFxyXG4gICAgICogQHBhcmFtIHRyaWdnZXJQcm50IFxyXG4gICAgICogQHBhcmFtIG5ld0VsbSBcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBhcHBuZEluVHJnZ3JQYXJudEVsbShuZXh0U2Jsbmc6IENoaWxkTm9kZSB8IG51bGwsIHByZXZpb3VzU2Jsbmc6Q2hpbGROb2RlIHwgbnVsbCwgdHJpZ2dlclBybnQ6SFRNTEVsZW1lbnQgLCBuZXdFbG06SFRNTEVsZW1lbnQgKXtcclxuICAgICAgICBpZihuZXh0U2Jsbmcpe1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgdHJpZ2dlclBybnQ/Lmluc2VydEJlZm9yZShuZXdFbG0sIG5leHRTYmxuZyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHByZXZpb3VzU2JsbmcpIHtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHByZXZpb3VzU2JsbmcuYWZ0ZXIobmV3RWxtKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgfSBcclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHRyaWdnZXJQcm50Py5hcHBlbmQobmV3RWxtKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgXHJcbiAgICBwdWJsaWMgY3J0RmxleEl0ZW1Cb3goaXRlbTppdGVtLCBjdGdySWQ6Y3RncklkKSB7XHJcbiAgICAgICAgY29uc3QgYm94SXRlbSA9IHRoaXMuY3JlYXRlRmxleENvbnRhaW5lcih1bmRlZmluZWQsIHt9KTtcclxuXHJcbiAgICAgICAgLy9wxZlpZGVqIHTFmcOtZHUgZG8gRE9NXHJcbiAgICAgICAgbGV0IGtleToga2V5b2YgdHlwZW9mIGl0ZW0uY2xhc3NlcztcclxuICAgICAgICBmb3IgKCBrZXkgaW4gaXRlbS5jbGFzc2VzKSB7XHJcbiAgICAgICAgICAgIGlmIChpdGVtLmNsYXNzZXMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xyXG4gICAgICAgICAgICAgICAgaXRlbS5jbGFzc2VzW2tleV0uZm9yRWFjaCggY2xhc3NzID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBib3hJdGVtLmNsYXNzTGlzdC5hZGQoY2xhc3NzKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpdGVtLmlubFN0eWwpIHtcclxuICAgICAgICBsZXQga2V5OiBrZXlvZiB0eXBlb2YgaXRlbS5pbmxTdHlsO1xyXG4gICAgICAgICAgICBmb3IgKCBrZXkgaW4gaXRlbS5pbmxTdHlsKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IGl0ZW0uaW5sU3R5bFtrZXldO1xyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpdGVtLmltZykge1xyXG4gICAgICAgICAgICBib3hJdGVtLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IFwidXJsKCdcIiArIGl0ZW0uaW1nICsgXCInKVwiO1xyXG4gICAgICAgIH1cclxuICAgICAgICBib3hJdGVtLnNldEF0dHJpYnV0ZSgnaWQnLCBpdGVtLmlkKTtcclxuICAgICAgICBib3hJdGVtLnNldEF0dHJpYnV0ZSgnZGF0YS1jYXRlZ29yeScsY3RncklkKTtcclxuICAgICAgICBib3hJdGVtLnNldEF0dHJpYnV0ZSgnZGF0YS1raW5kJywnYm94SXRlbScpO1xyXG4gICAgICAgIHJldHVybiBib3hJdGVtO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwcml2YXRlIHJwbGNJdGVtKGl0ZW1zOml0ZW1bXSwgY3RncklkOidjb21pY3MnfCdtYXRlcmlhbCcsIG5ld0l0ZW1Cb3g6aXRlbSl7XHJcbiAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIGl0ZW1zKSB7XHJcbiAgICAgICAgICAgIGlmIChpdGVtLmlkID09PSBjdGdySWQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChpdGVtLnN1Ykl0ZW1zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5zdWJJdGVtcyEuZm9yRWFjaCggKGl0ZW0pID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoaXRlbS5pZCA9PT0gbmV3SXRlbUJveC5pZCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtID0gbmV3SXRlbUJveDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBybXZCb3hJdGVtQWxsKGU6RXZlbnQpe1xyXG4gICAgICAgIGlmICgoPEhUTUxFbGVtZW50PmUudGFyZ2V0KS5pZCA9PT0gJ3Jtdi1ib3hJdGVtLWFsbCcpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ3Jtdi1ib3hJdGVtLWFsbCcpO1xyXG4gICAgICAgICAgICBjb25zdCBpdGVtTWVudSA9ICg8SFRNTEVsZW1lbnQ+ZS50YXJnZXQpLmNsb3Nlc3QoJyNpdGVtTWVudScpO1xyXG4gICAgICAgICAgICBjb25zdCB0cmlnZ2VySWQgPSBpdGVtTWVudT8uZ2V0QXR0cmlidXRlKCdkYXRhLXRyaWdnZXJpZCcpO1xyXG4gICAgICAgICAgICBpZiAodHJpZ2dlcklkKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0cmlnZ2VyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodHJpZ2dlcklkKTtcclxuICAgICAgICAgICAgICAgIGlmKHRyaWdnZXIpe1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRyZ2dyQ3Rnck5hbWUgPSA8Y3RncklkPnRyaWdnZXIuZ2V0QXR0cmlidXRlKCdkYXRhLWNhdGVnb3J5Jyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vTG9jYWwgU3RvcmFnZSBwYXJ0XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXRlbXMgPSBMb2NTdG9yYWdlLmdldEl0ZW1zKCdpdGVtcycpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBsZXQgY3RnckRhdGE6aXRlbSB8IG51bGwgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN0Z3JEYXRhID0gTG9jU3RvcmFnZS5nZXRDdGdyKGl0ZW1zLCB0cmdnckN0Z3JOYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3I6dW5rbm93bikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFeGlzdEluTG9jU3RvcmFnZUVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvci5tZXNzYWdlLCBlcnJvci5wcm9wZXJ0eSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoY3RnckRhdGEpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChMb2NTdG9yYWdlLnJtdkl0ZW0oY3RnckRhdGEuc3ViSXRlbXMsdHJpZ2dlcklkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9jU3RvcmFnZS5zZXRJdGVtKCdpdGVtcycsIGl0ZW1zKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vRE9NIHBhcnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyaWdnZXIucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJtdkJveEl0ZW0oZTpFdmVudCl7XHJcbiAgICAgICAgaWYgKCg8SFRNTEVsZW1lbnQ+ZS50YXJnZXQpLmlkID09PSAncm12LWJveEl0ZW0nKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdybXYtYm94SXRlbScpO1xyXG4gICAgICAgICAgICBjb25zdCBpdGVtTWVudSA9ICg8SFRNTEVsZW1lbnQ+ZS50YXJnZXQpLmNsb3Nlc3QoJyNpdGVtTWVudScpO1xyXG4gICAgICAgICAgICBjb25zdCB0cmlnZ2VySWQgPSBpdGVtTWVudT8uZ2V0QXR0cmlidXRlKCdkYXRhLXRyaWdnZXJpZCcpO1xyXG4gICAgICAgICAgICBpZiAodHJpZ2dlcklkKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0cmlnZ2VyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodHJpZ2dlcklkKTtcclxuICAgICAgICAgICAgICAgIGlmKHRyaWdnZXIpe1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRyZ2dyQ3Rnck5hbWUgPSA8Y3RncklkPnRyaWdnZXIuZ2V0QXR0cmlidXRlKCdkYXRhLWNhdGVnb3J5Jyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vTG9jYWwgU3RvcmFnZSBwYXJ0XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXRlbXMgPSBMb2NTdG9yYWdlLmdldEl0ZW1zKCdpdGVtcycpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBjdGdyRGF0YTppdGVtIHwgbnVsbCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3RnckRhdGEgPSBMb2NTdG9yYWdlLmdldEN0Z3IoaXRlbXMsIHRyZ2dyQ3Rnck5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcjp1bmtub3duKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEV4aXN0SW5Mb2NTdG9yYWdlRXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yLm1lc3NhZ2UsIGVycm9yLnByb3BlcnR5KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjdGdyRGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0cmlnZ2VyUGFycmVudCA9IHRyaWdnZXIucGFyZW50RWxlbWVudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYodHJpZ2dlclBhcnJlbnQpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9wb2t1ZCBuZW7DrSBtYWluIGNvbnRhaW5lciByb2RpxI0gdHJpZ2dlcnVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0cmlnZ2VyUGFycmVudC5pZCAhPT0gdHJnZ3JDdGdyTmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChMb2NTdG9yYWdlLnJwbGNUcmdncldUcmdnclN1Ykl0ZW1zKGN0Z3JEYXRhLnN1Ykl0ZW1zLHRyaWdnZXJQYXJyZW50LmlkLCB0cmlnZ2VySWQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIExvY1N0b3JhZ2Uuc2V0SXRlbSgnaXRlbXMnLCBpdGVtcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKExvY1N0b3JhZ2UucnBsY1RyZ2dyV1RyZ2dyU3ViSXRlbXNJbk1haW4oY3RnckRhdGEuc3ViSXRlbXMsIHRyaWdnZXJJZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9jU3RvcmFnZS5zZXRJdGVtKCdpdGVtcycsIGl0ZW1zKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9ET00gcGFydFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRyaWdnZXJDaGlsZHJlbiA9IHRyaWdnZXIuY2hpbGRyZW47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdHJpZ2dlck5leHRTYmxuZyA9IHRyaWdnZXIubmV4dFNpYmxpbmc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8PSB0cmlnZ2VyQ2hpbGRyZW4ubGVuZ3RoOykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKHRyaWdnZXJDaGlsZHJlbi5sZW5ndGgpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnaW5kZXggPT09IDAnLHRyaWdnZXJDaGlsZHJlbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyaWdnZXJQYXJyZW50Lmluc2VydEJlZm9yZSh0cmlnZ2VyQ2hpbGRyZW5baW5kZXhdLHRyaWdnZXJOZXh0U2JsbmcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyogZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2luZGV4ICE9PSAwJyx0cmlnZ2VyQ2hpbGRyZW4pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyUGFycmVudC5pbnNlcnRCZWZvcmUodHJpZ2dlckNoaWxkcmVuW2luZGV4XSx0cmlnZ2VyQ2hpbGRyZW5baW5kZXgtMV0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSAqL1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qIHB1YmxpYyBlZHRCb3hJdGVtcyhlOkV2ZW50KXtcclxuICAgICAgICBjb25zdCB0cmdnclBybnRLaW5kID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3RyZ2dyUHJudEtpbmQnKTtcclxuICAgICAgICBpZiAodHJnZ3JQcm50S2luZCkge1xyXG4gICAgICAgICAgICBpZiAoKDxIVE1MRWxlbWVudD5lLnRhcmdldCkuaWQgPT09ICdlZHQtb3V0ZXJCb3gnICYmIHRyZ2dyUHJudEtpbmQgPT09ICdib3hJdGVtJykge1xyXG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2VkdC1vdXRlckJveCwgYm94SXRlbScpO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IHRyaWdnZXJJZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0cmlnZ2VyaWQnKTtcclxuICAgICAgICAgICAgICAgIGlmICh0cmlnZ2VySWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0cmlnZ2VyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodHJpZ2dlcklkKTtcclxuICAgICAgICAgICAgICAgICAgICBpZih0cmlnZ2VyKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdHJpZ2dlckNhdGVnb3J5ID0gPGN0Z3JJZD50cmlnZ2VyLmdldEF0dHJpYnV0ZSgnZGF0YS1jYXRlZ29yeScpO1xyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbnB1dHMgPSA8Tm9kZUxpc3RPZjxIVE1MSW5wdXRFbGVtZW50Pj5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcjb3V0ZXJCb3gtcHJlc2V0IGlucHV0Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwcmVzZXRzOiBzdHJpbmdbXSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnB1dHMuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbnB1dC5jaGVja2VkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJlc2V0cy5wdXNoKGlucHV0LnZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHByZXNldHMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRyaWdnZXJEYXRhID0gPGl0ZW0gfCBudWxsPnt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpdGVtcyA9IExvY1N0b3JhZ2UuZ2V0SXRlbXMoJ2l0ZW1zJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3Bva3VkIHRyaWdnZXIgbmVuw60gYm94SXRlbSBhIHrDoXJvdmXFiCB0cmlnZ2VyIHBhcmVudCBqZSBib3hJdGVtXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRyaWdnZXJQcm50ID0gdHJpZ2dlci5wYXJlbnRFbGVtZW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZih0cmlnZ2VyUHJudCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHJpZ2dlckRhdGEgPSBMb2NTdG9yYWdlLmZpbmRJdGVtKGl0ZW1zW3RyaWdnZXJDYXRlZ29yeV0uc3ViSXRlbXMsIHRyaWdnZXJQcm50LmlkKSkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihwcmVzZXRzLmxlbmd0aCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyaWdnZXJEYXRhLmNsYXNzZXMucG9zaXRpb24uZm9yRWFjaChjbGFzc3MgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2Fubywgb2JzYWh1amkgY3NzIHRyaWR1LCBjbyBqZSB2IHBhbWV0aScpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0cmlnZ2VyUHJudC5jbGFzc0xpc3QuY29udGFpbnMoY2xhc3NzKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJpZ2dlclBybnQuY2xhc3NMaXN0LnJlbW92ZShjbGFzc3MpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJpZ2dlckRhdGEuY2xhc3Nlcy5wb3NpdGlvbiA9W107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXNldHMuZm9yRWFjaChjbGFzc3MgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJpZ2dlclBybnQuY2xhc3NMaXN0LmFkZChjbGFzc3MpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJpZ2dlckRhdGEhLmNsYXNzZXMucG9zaXRpb24ucHVzaChjbGFzc3MpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0cmlnZ2VyRGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIExvY1N0b3JhZ2Uuc2V0SXRlbSgnaXRlbXMnLCBpdGVtcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vTG9jYWwgU3RvcmFnZSBwYXJ0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpdGVtcyA9IExvY1N0b3JhZ2UuZ2V0SXRlbXMoJ2l0ZW1zJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBMb2NTdG9yYWdlLnJtdkl0ZW0oaXRlbXNbdHJpZ2dlckNhdGVnb3J5XSx0cmlnZ2VySWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9jU3RvcmFnZS5zZXRJdGVtKCdpdGVtcycsIGl0ZW1zKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vRE9NIHBhcnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyaWdnZXIucmVtb3ZlKCk7IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSAqL1xyXG5cclxuICAgIHB1YmxpYyBlZHRib3hJdGVtKGU6RXZlbnQpe1xyXG4gICAgICAgIGlmICgoPEhUTUxFbGVtZW50PmUudGFyZ2V0KS5pZCA9PT0gJ2VkdC1ib3gtcHN0bicgIHx8ICg8SFRNTEVsZW1lbnQ+ZS50YXJnZXQpLmlkID09PSAnZWR0LW91dGVyQm94LXBzdG4nICl7XHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coKDxIVE1MRWxlbWVudD5lLnRhcmdldCkuaWQpO1xyXG4gICAgICAgICAgICBsZXQgdHJpZ2dlcklkO1xyXG4gICAgICAgICAgICBpZiAoKDxIVE1MRWxlbWVudD5lLnRhcmdldCkuaWQgPT09ICdlZHQtYm94LXBzdG4nKSB7XHJcbiAgICAgICAgICAgICAgICB0cmlnZ2VySWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndHJpZ2dlcmlkJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoKDxIVE1MRWxlbWVudD5lLnRhcmdldCkuaWQgPT09ICdlZHQtb3V0ZXJCb3gtcHN0bicpIHtcclxuICAgICAgICAgICAgICAgIHRyaWdnZXJJZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0cmdnclBybnRJZCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0cmlnZ2VySWQpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRyaWdnZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0cmlnZ2VySWQpO1xyXG4gICAgICAgICAgICAgICAgaWYodHJpZ2dlcil7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdHJnZ3JDdGdyTmFtZSA9IDxjdGdySWQ+dHJpZ2dlci5nZXRBdHRyaWJ1dGUoJ2RhdGEtY2F0ZWdvcnknKTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlucHV0cyA9IDxOb2RlTGlzdE9mPEhUTUxJbnB1dEVsZW1lbnQ+PmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJyNlZHQtYm94LXByZXNldCBpbnB1dCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBwcmVzZXRzOiBzdHJpbmdbXSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIGlucHV0cy5mb3JFYWNoKChpbnB1dCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXQuY2hlY2tlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJlc2V0cy5wdXNoKGlucHV0LnZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHByZXNldHMpO1xyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIGxldCB0cmlnZ2VyRGF0YSA9IDxpdGVtIHwgbnVsbD57fTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBpdGVtcyA9IExvY1N0b3JhZ2UuZ2V0SXRlbXMoJ2l0ZW1zJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGN0Z3JEYXRhOml0ZW0gfCBudWxsID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdGdyRGF0YSA9IExvY1N0b3JhZ2UuZ2V0Q3RncihpdGVtcywgdHJnZ3JDdGdyTmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yOnVua25vd24pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXhpc3RJbkxvY1N0b3JhZ2VFcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IubWVzc2FnZSwgZXJyb3IucHJvcGVydHkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGN0Z3JEYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0cmlnZ2VyRGF0YSA9IExvY1N0b3JhZ2UuZmluZEl0ZW0oY3RnckRhdGEuc3ViSXRlbXMsIHRyaWdnZXJJZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKHByZXNldHMubGVuZ3RoKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyRGF0YS5jbGFzc2VzLnBvc2l0aW9uLmZvckVhY2goY2xhc3NzID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2Fubywgb2JzYWh1amkgY3NzIHRyaWR1LCBjbyBqZSB2IHBhbWV0aScpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRyaWdnZXIuY2xhc3NMaXN0LmNvbnRhaW5zKGNsYXNzcykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJpZ2dlci5jbGFzc0xpc3QucmVtb3ZlKGNsYXNzcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyRGF0YS5jbGFzc2VzLnBvc2l0aW9uID1bXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmVzZXRzLmZvckVhY2goY2xhc3NzID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyaWdnZXIuY2xhc3NMaXN0LmFkZChjbGFzc3MpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJpZ2dlckRhdGEhLmNsYXNzZXMucG9zaXRpb24ucHVzaChjbGFzc3MpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0cmlnZ2VyRGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBMb2NTdG9yYWdlLnNldEl0ZW0oJ2l0ZW1zJywgaXRlbXMpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLypcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9Mb2NhbCBTdG9yYWdlIHBhcnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaXRlbXMgPSBMb2NTdG9yYWdlLmdldEl0ZW1zKCdpdGVtcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBMb2NTdG9yYWdlLnJtdkl0ZW0oaXRlbXNbdHJpZ2dlckNhdGVnb3J5XSx0cmlnZ2VySWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBMb2NTdG9yYWdlLnNldEl0ZW0oJ2l0ZW1zJywgaXRlbXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL0RPTSBwYXJ0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyaWdnZXIucmVtb3ZlKCk7ICAqL1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZWR0T3V0ZXJCb3hJdGVtKGU6RXZlbnQpe1xyXG4gICAgICAgIGlmICgoPEhUTUxFbGVtZW50PmUudGFyZ2V0KS5pZCA9PT0gJ2VkdC1vdXRlci1ib3hJdGVtJyApIHtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnZWR0LW91dGVyLWJveEl0ZW0nKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHRyaWdnZXJQcm50SWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndHJnZ3JQcm50SWQnKTtcclxuICAgICAgICAgICAgaWYgKHRyaWdnZXJQcm50SWQpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRyaWdnZXJQcm50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodHJpZ2dlclBybnRJZCk7XHJcbiAgICAgICAgICAgICAgICBpZih0cmlnZ2VyUHJudCl7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdHJnZ3JDdGdyTmFtZSA9IDxjdGdySWQ+dHJpZ2dlclBybnQuZ2V0QXR0cmlidXRlKCdkYXRhLWNhdGVnb3J5Jyk7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBpbnB1dHMgPSA8Tm9kZUxpc3RPZjxIVE1MSW5wdXRFbGVtZW50Pj5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcjZWR0LWJveC1wcmVzZXQgaW5wdXQnKTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgcHJlc2V0czogc3RyaW5nW10gPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICBpbnB1dHMuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0LmNoZWNrZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXNldHMucHVzaChpbnB1dC52YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhwcmVzZXRzKTtcclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICBsZXQgdHJpZ2dlckRhdGEgPSA8aXRlbSB8IG51bGw+e307XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXRlbXMgPSBMb2NTdG9yYWdlLmdldEl0ZW1zKCdpdGVtcycpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBjdGdyRGF0YTppdGVtIHwgbnVsbCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3RnckRhdGEgPSBMb2NTdG9yYWdlLmdldEN0Z3IoaXRlbXMsIHRyZ2dyQ3Rnck5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcjp1bmtub3duKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEV4aXN0SW5Mb2NTdG9yYWdlRXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yLm1lc3NhZ2UsIGVycm9yLnByb3BlcnR5KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjdGdyRGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHJpZ2dlckRhdGEgPSBMb2NTdG9yYWdlLmZpbmRJdGVtKGN0Z3JEYXRhLnN1Ykl0ZW1zLCB0cmlnZ2VyUHJudElkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYocHJlc2V0cy5sZW5ndGgpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyaWdnZXJEYXRhLmNsYXNzZXMucG9zaXRpb24uZm9yRWFjaChjbGFzc3MgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnYW5vLCBvYnNhaHVqaSBjc3MgdHJpZHUsIGNvIGplIHYgcGFtZXRpJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHJpZ2dlclBybnQuY2xhc3NMaXN0LmNvbnRhaW5zKGNsYXNzcykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJpZ2dlclBybnQuY2xhc3NMaXN0LnJlbW92ZShjbGFzc3MpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJpZ2dlckRhdGEuY2xhc3Nlcy5wb3NpdGlvbiA9W107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJlc2V0cy5mb3JFYWNoKGNsYXNzcyA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyaWdnZXJQcm50LmNsYXNzTGlzdC5hZGQoY2xhc3NzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyaWdnZXJEYXRhIS5jbGFzc2VzLnBvc2l0aW9uLnB1c2goY2xhc3NzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2codHJpZ2dlckRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgTG9jU3RvcmFnZS5zZXRJdGVtKCdpdGVtcycsIGl0ZW1zKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vTG9jYWwgU3RvcmFnZSBwYXJ0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW1zID0gTG9jU3RvcmFnZS5nZXRJdGVtcygnaXRlbXMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgTG9jU3RvcmFnZS5ybXZJdGVtKGl0ZW1zW3RyaWdnZXJDYXRlZ29yeV0sdHJpZ2dlcklkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgTG9jU3RvcmFnZS5zZXRJdGVtKCdpdGVtcycsIGl0ZW1zKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9ET00gcGFydFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyLnJlbW92ZSgpOyAgKi9cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuXHJcbn1cclxuXHJcblxyXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/editor/editorComponents/item/flexBoxItem/FlexBoxItem.ts\n");

/***/ }),

/***/ "./src/editor/editorComponents/item/imageItem/ImageItem.ts":
/*!*****************************************************************!*\
  !*** ./src/editor/editorComponents/item/imageItem/ImageItem.ts ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ImageItem\": () => (/* binding */ ImageItem)\n/* harmony export */ });\n/* harmony import */ var _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../common/localStorage/LocStorage */ \"./src/common/localStorage/LocStorage.ts\");\n/* harmony import */ var _flexBoxItem_flexBoxItem_module_scss__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../flexBoxItem/flexBoxItem.module.scss */ \"./src/editor/editorComponents/item/flexBoxItem/flexBoxItem.module.scss\");\n/* harmony import */ var _Item__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./../Item */ \"./src/editor/editorComponents/item/Item.ts\");\n/* harmony import */ var _common_error_locStorageError_ExistInLocStorageError__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../common/error/locStorageError/ExistInLocStorageError */ \"./src/common/error/locStorageError/ExistInLocStorageError.ts\");\n\r\n\r\n\r\n\r\nlet debug = false;\r\nclass ImageItem extends _Item__WEBPACK_IMPORTED_MODULE_2__.Item {\r\n    addImgItem(e) {\r\n        var _a;\r\n        if (e.target.id === 'add-imageItem') {\r\n            //funkce vyvolává click na input button, které je nezobrazené a tím spouští funkci this.fileReader()\r\n            (_a = document.getElementById('image_input')) === null || _a === void 0 ? void 0 : _a.click();\r\n            if (debug)\r\n                console.log('addImgItem ser spustil');\r\n            /**\r\n             * IMG lze vložit do hlavního kontejneru a do boxItemu\r\n             * Dědění:\r\n             *  - do hlavního kontejneru: ne\r\n             *  - do boxItem: ne\r\n             */\r\n        }\r\n    }\r\n    /**\r\n     * Event handler, save img base64 into local storage\r\n     * coder: I used wrapper function for first time to pass a dependence to event callback\r\n     * @param e\r\n     */\r\n    fileReader(imageItem) {\r\n        return (e) => {\r\n            if (debug)\r\n                console.log('file reader se spustil:');\r\n            if (e.target.id === 'image_input') {\r\n                const reader = new FileReader();\r\n                reader.addEventListener('load', (ev) => {\r\n                    //img as base64\r\n                    let uploaded_image = reader.result;\r\n                    const itemMenu = document.getElementById('itemMenu');\r\n                    const triggerId = itemMenu === null || itemMenu === void 0 ? void 0 : itemMenu.getAttribute('data-triggerid');\r\n                    if (triggerId) {\r\n                        const trigger = document.getElementById(triggerId);\r\n                        if (trigger) {\r\n                            const trggrCtgrName = trigger.getAttribute('data-category');\r\n                            const items = _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_0__.LocStorage.getItems('items');\r\n                            let ctgrData = null;\r\n                            try {\r\n                                ctgrData = _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_0__.LocStorage.getCtgr(items, trggrCtgrName);\r\n                            }\r\n                            catch (error) {\r\n                                if (error instanceof _common_error_locStorageError_ExistInLocStorageError__WEBPACK_IMPORTED_MODULE_3__.ExistInLocStorageError) {\r\n                                    console.log(error.message, error.property);\r\n                                }\r\n                            }\r\n                            if (ctgrData) {\r\n                                const newItemId = `item_${Date.now()}`;\r\n                                let newItem;\r\n                                //position\r\n                                let position = 'fi-none';\r\n                                if (triggerId === trggrCtgrName) {\r\n                                    newItem = {\r\n                                        id: newItemId,\r\n                                        kind: 'imageItem',\r\n                                        classes: {\r\n                                            classId: ['item'],\r\n                                            position: [position],\r\n                                            width: ['x0'],\r\n                                            height: ['y0'],\r\n                                        },\r\n                                        img: `${uploaded_image}`,\r\n                                    }; //tady\r\n                                    let saved = _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_0__.LocStorage.pushNewItem(items.items, trggrCtgrName, newItem);\r\n                                    if (saved) {\r\n                                        _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_0__.LocStorage.setItem('items', items);\r\n                                        let newImageItemElm = imageItem.crtImgItem(newItem, trggrCtgrName);\r\n                                        trigger.append(newImageItemElm);\r\n                                    }\r\n                                }\r\n                                else {\r\n                                    const triggerData = _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_0__.LocStorage.findItem(ctgrData.subItems, triggerId);\r\n                                    if (triggerData) {\r\n                                        newItem = {\r\n                                            id: newItemId,\r\n                                            kind: 'imageItem',\r\n                                            classes: {\r\n                                                classId: ['item'],\r\n                                                position: [position],\r\n                                                width: ['x0'],\r\n                                                height: ['y0'],\r\n                                            },\r\n                                            img: `${uploaded_image}`,\r\n                                        };\r\n                                        /**\r\n                                         * obrázek lze vložit jen do \"containeru/boxu\"\r\n                                         * najdi trigger \"box\" vlož obrázek do jeho subItemů\r\n                                         *\r\n                                         */\r\n                                        let saved = _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_0__.LocStorage.pasteItemInSubAccordingId(ctgrData.subItems, triggerId, newItem);\r\n                                        if (saved) {\r\n                                            _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_0__.LocStorage.setItem('items', items);\r\n                                            let newImageItemElm = imageItem.crtImgItem(newItem, trggrCtgrName);\r\n                                            trigger.append(newImageItemElm);\r\n                                        }\r\n                                    }\r\n                                }\r\n                                //pokud je trigger boxItem a pokud má class empty, odstran empty class z databáze a z DOM\r\n                                /* imageItem.rmvEmptyClassesFBItem(items[triggerCategory], triggerId);\r\n                                if (trigger.classList.contains(stylFlexBI.BIEmpty)) {\r\n                                    trigger.classList.remove(stylFlexBI.BIEmpty);\r\n                                } */\r\n                            }\r\n                        } //\r\n                    }\r\n                });\r\n                reader.readAsDataURL(e.target.files[0]);\r\n            }\r\n        };\r\n    }\r\n    /**\r\n     * Removes empty class in boxItem in category array of objects, when a item is injected\r\n     * @param item\r\n     */\r\n    rmvEmptyClassesFBItem(itemsInCtgr, triggerId) {\r\n        itemsInCtgr.forEach((item) => {\r\n            if (item.id === triggerId) {\r\n                if (item.kind === 'boxItem') {\r\n                    let key;\r\n                    for (key in item.classes) {\r\n                        if (item.classes.hasOwnProperty(key)) {\r\n                            item.classes[key].forEach((classs, index, arraySelf) => {\r\n                                if (classs === _flexBoxItem_flexBoxItem_module_scss__WEBPACK_IMPORTED_MODULE_1__[\"default\"].BIEmpty) {\r\n                                    arraySelf.splice(index, 1);\r\n                                }\r\n                            });\r\n                        }\r\n                    }\r\n                    return;\r\n                }\r\n            }\r\n            else if (item.subItems) {\r\n                this.rmvEmptyClassesFBItem(item.subItems, triggerId);\r\n            }\r\n        });\r\n    }\r\n    crtImgItem(item, ctgrId) {\r\n        const newImage = document.createElement('img');\r\n        if (item.img) {\r\n            newImage.setAttribute('src', item.img);\r\n        }\r\n        //přidej třídu do DOM\r\n        let key;\r\n        for (key in item.classes) {\r\n            if (item.classes.hasOwnProperty(key)) {\r\n                item.classes[key].forEach(classs => {\r\n                    newImage.classList.add(classs);\r\n                });\r\n            }\r\n        }\r\n        newImage.setAttribute('id', item.id);\r\n        newImage.setAttribute('data-category', ctgrId);\r\n        newImage.setAttribute('data-kind', 'imageItem');\r\n        return newImage;\r\n    }\r\n    rmvImgItem(e) {\r\n        if (e.target.id === 'rmv-imageItem') {\r\n            console.log('rmvImgItem');\r\n            const itemMenu = e.target.closest('#itemMenu');\r\n            const triggerId = itemMenu === null || itemMenu === void 0 ? void 0 : itemMenu.getAttribute('data-triggerid');\r\n            if (triggerId) {\r\n                const trigger = document.getElementById(triggerId);\r\n                if (trigger) {\r\n                    const trggrCtgrName = trigger.getAttribute('data-category');\r\n                    //Local Storage part\r\n                    const items = _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_0__.LocStorage.getItems('items');\r\n                    let ctgrData = null;\r\n                    try {\r\n                        ctgrData = _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_0__.LocStorage.getCtgr(items, trggrCtgrName);\r\n                    }\r\n                    catch (error) {\r\n                        if (error instanceof _common_error_locStorageError_ExistInLocStorageError__WEBPACK_IMPORTED_MODULE_3__.ExistInLocStorageError) {\r\n                            console.log(error.message, error.property);\r\n                        }\r\n                    }\r\n                    if (ctgrData) {\r\n                        let removed = _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_0__.LocStorage.rmvItem(ctgrData.subItems, triggerId);\r\n                        if (removed) {\r\n                            _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_0__.LocStorage.setItem('items', items);\r\n                            //DOM part\r\n                            trigger.remove();\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    edtImgPstn(e) {\r\n        if (e.target.id === 'edt-img-pstn') {\r\n            e.preventDefault();\r\n            console.log('edt-img-pstn');\r\n            const itemMenu = e.target.closest('#itemMenu');\r\n            const triggerId = itemMenu === null || itemMenu === void 0 ? void 0 : itemMenu.getAttribute('data-triggerid');\r\n            if (triggerId) {\r\n                const trigger = document.getElementById(triggerId);\r\n                if (trigger) {\r\n                    const trggrCtgrName = trigger.getAttribute('data-category');\r\n                    const inputs = document.querySelectorAll('#imgItem-preset input');\r\n                    let presets = [];\r\n                    inputs.forEach((input) => {\r\n                        if (input.checked) {\r\n                            presets.push(input.value);\r\n                        }\r\n                    });\r\n                    console.log(presets);\r\n                    const items = _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_0__.LocStorage.getItems('items');\r\n                    let ctgrData = null;\r\n                    try {\r\n                        ctgrData = _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_0__.LocStorage.getCtgr(items, trggrCtgrName);\r\n                    }\r\n                    catch (error) {\r\n                        if (error instanceof _common_error_locStorageError_ExistInLocStorageError__WEBPACK_IMPORTED_MODULE_3__.ExistInLocStorageError) {\r\n                            console.log(error.message, error.property);\r\n                        }\r\n                    }\r\n                    if (ctgrData) {\r\n                        const triggerData = _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_0__.LocStorage.findItem(ctgrData.subItems, triggerId);\r\n                        if (triggerData) {\r\n                            if (presets.length) {\r\n                                triggerData.classes.position.forEach(classs => {\r\n                                    if (trigger.classList.contains(classs)) {\r\n                                        trigger.classList.remove(classs);\r\n                                    }\r\n                                });\r\n                                triggerData.classes.position = [];\r\n                                presets.forEach(classs => {\r\n                                    trigger.classList.add(classs);\r\n                                    triggerData.classes.position.push(classs);\r\n                                });\r\n                            }\r\n                            _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_0__.LocStorage.setItem('items', items);\r\n                        }\r\n                        /*\r\n                        //Local Storage part\r\n                        const items = LocStorage.getItems('items');\r\n                        LocStorage.rmvItem(items[triggerCategory],triggerId);\r\n                        LocStorage.setItem('items', items);\r\n                        //DOM part\r\n                        trigger.remove();  */\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZWRpdG9yL2VkaXRvckNvbXBvbmVudHMvaXRlbS9pbWFnZUl0ZW0vSW1hZ2VJdGVtLnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQXdFO0FBR1Q7QUFJOUI7QUFDd0U7QUFFekcsSUFBSSxLQUFLLEdBQUcsS0FBSyxDQUFDO0FBQ1gsTUFBTSxTQUFVLFNBQVEsdUNBQUk7SUFHeEIsVUFBVSxDQUFDLENBQU87O1FBQ3JCLElBQWtCLENBQUMsQ0FBQyxNQUFPLENBQUMsRUFBRSxLQUFLLGVBQWUsRUFBRTtZQUVoRCxvR0FBb0c7WUFDcEcsY0FBUSxDQUFDLGNBQWMsQ0FBQyxhQUFhLENBQUMsMENBQUUsS0FBSyxFQUFFLENBQUM7WUFDaEQsSUFBRyxLQUFLO2dCQUNSLE9BQU8sQ0FBQyxHQUFHLENBQUMsd0JBQXdCLENBQUM7WUFDckM7Ozs7O2VBS0c7U0FDTjtJQUNMLENBQUM7SUFFRDs7OztPQUlHO0lBQ0ksVUFBVSxDQUFDLFNBQWM7UUFDNUIsT0FBTyxDQUFDLENBQU8sRUFBQyxFQUFFO1lBQ2QsSUFBRyxLQUFLO2dCQUNSLE9BQU8sQ0FBQyxHQUFHLENBQUMseUJBQXlCLENBQUMsQ0FBQztZQUN2QyxJQUFtQixDQUFDLENBQUMsTUFBTyxDQUFDLEVBQUUsS0FBSyxhQUFhLEVBQUc7Z0JBQ2hELE1BQU0sTUFBTSxHQUFHLElBQUksVUFBVSxFQUFFLENBQUM7Z0JBRWhDLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRTtvQkFDbkMsZUFBZTtvQkFDZixJQUFJLGNBQWMsR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDO29CQUVuQyxNQUFNLFFBQVEsR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLFVBQVUsQ0FBQyxDQUFDO29CQUNyRCxNQUFNLFNBQVMsR0FBRyxRQUFRLGFBQVIsUUFBUSx1QkFBUixRQUFRLENBQUUsWUFBWSxDQUFDLGdCQUFnQixDQUFDLENBQUM7b0JBQzNELElBQUcsU0FBUyxFQUFDO3dC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QU0sQ0FBQyxFQUFFO29DQUUxQyxJQUFJLE9BQU8sQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxFQUFFO3dDQUNwQyxPQUFPLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQztxQ0FDcEM7Z0NBQ0wsQ0FBQyxDQUFDLENBQUM7Z0NBQ0gsV0FBVyxDQUFDLE9BQU8sQ0FBQyxRQUFRLEdBQUUsRUFBRSxDQUFDO2dDQUNqQyxPQUFPLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxFQUFFO29DQUNyQixPQUFPLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQztvQ0FDOUIsV0FBVyxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO2dDQUM5QyxDQUFDLENBQUMsQ0FBQzs2QkFDTjs0QkFDRCwrRUFBa0IsQ0FBQyxPQUFPLEVBQUUsS0FBSyxDQUFDLENBQUM7eUJBQ3RDO3dCQUtEOzs7Ozs7NkNBTXFCO3FCQUN4QjtpQkFDSjthQUNKO1NBQ0o7SUFDTCxDQUFDO0NBS0oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jb21pY3MtZWRpdG9yLy4vc3JjL2VkaXRvci9lZGl0b3JDb21wb25lbnRzL2l0ZW0vaW1hZ2VJdGVtL0ltYWdlSXRlbS50cz82ODE1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IExvY1N0b3JhZ2UgfSBmcm9tIFwiLi4vLi4vLi4vLi4vY29tbW9uL2xvY2FsU3RvcmFnZS9Mb2NTdG9yYWdlXCI7XHJcbmltcG9ydCB7IGl0ZW0sIGl0ZW1zIH0gZnJvbSBcIi4uLy4uLy4uLy4uL2NvbW1vbi9sb2NhbFN0b3JhZ2Uvc3RvcmFnZUludGVyZmFjZXNcIjtcclxuaW1wb3J0IHsgY3RncklkIH0gZnJvbSBcIi4uLy4uLy4uL2VkaXRvclR5cGVzXCI7XHJcbmltcG9ydCBzdHlsRmxleEJJIGZyb20gXCIuLi9mbGV4Qm94SXRlbS9mbGV4Qm94SXRlbS5tb2R1bGUuc2Nzc1wiXHJcbmltcG9ydCBzdHlsRWRpdG9yIGZyb20gXCIuLi8uLi8uLi9lZGl0b3IubW9kdWxlLnNjc3NcIlxyXG5pbXBvcnQgc3R5bElNZW51IGZyb20gXCIuLi9pdGVtTWVudS9pdGVtTWVudS5tb2R1bGUuc2Nzc1wiXHJcbmltcG9ydCB7IEl0ZW1NZW51IH0gZnJvbSBcIi4uL2l0ZW1NZW51L0l0ZW1NZW51XCI7XHJcbmltcG9ydCB7IEl0ZW0gfSBmcm9tICcuLy4uL0l0ZW0nO1xyXG5pbXBvcnQgeyBFeGlzdEluTG9jU3RvcmFnZUVycm9yIH0gZnJvbSBcIi4uLy4uLy4uLy4uL2NvbW1vbi9lcnJvci9sb2NTdG9yYWdlRXJyb3IvRXhpc3RJbkxvY1N0b3JhZ2VFcnJvclwiO1xyXG5cclxubGV0IGRlYnVnID0gZmFsc2U7XHJcbmV4cG9ydCBjbGFzcyBJbWFnZUl0ZW0gZXh0ZW5kcyBJdGVte1xyXG5cclxuXHJcbiAgICBwdWJsaWMgYWRkSW1nSXRlbShlOkV2ZW50KXtcclxuICAgICAgICBpZiAoKDxIVE1MRWxlbWVudD5lLnRhcmdldCkuaWQgPT09ICdhZGQtaW1hZ2VJdGVtJykge1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy9mdW5rY2Ugdnl2b2zDoXbDoSBjbGljayBuYSBpbnB1dCBidXR0b24sIGt0ZXLDqSBqZSBuZXpvYnJhemVuw6kgYSB0w61tIHNwb3XFoXTDrSBmdW5rY2kgdGhpcy5maWxlUmVhZGVyKClcclxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ltYWdlX2lucHV0Jyk/LmNsaWNrKCk7XHJcbiAgICAgICAgICAgIGlmKGRlYnVnKVxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnYWRkSW1nSXRlbSBzZXIgc3B1c3RpbCcpXHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBJTUcgbHplIHZsb8W+aXQgZG8gaGxhdm7DrWhvIGtvbnRlam5lcnUgYSBkbyBib3hJdGVtdVxyXG4gICAgICAgICAgICAgKiBExJtkxJtuw606IFxyXG4gICAgICAgICAgICAgKiAgLSBkbyBobGF2bsOtaG8ga29udGVqbmVydTogbmVcclxuICAgICAgICAgICAgICogIC0gZG8gYm94SXRlbTogbmVcclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogRXZlbnQgaGFuZGxlciwgc2F2ZSBpbWcgYmFzZTY0IGludG8gbG9jYWwgc3RvcmFnZVxyXG4gICAgICogY29kZXI6IEkgdXNlZCB3cmFwcGVyIGZ1bmN0aW9uIGZvciBmaXJzdCB0aW1lIHRvIHBhc3MgYSBkZXBlbmRlbmNlIHRvIGV2ZW50IGNhbGxiYWNrXHJcbiAgICAgKiBAcGFyYW0gZSBcclxuICAgICAqL1xyXG4gICAgcHVibGljIGZpbGVSZWFkZXIoaW1hZ2VJdGVtOnRoaXMpe1xyXG4gICAgICAgIHJldHVybiAoZTpFdmVudCk9PnsgIFxyXG4gICAgICAgICAgICBpZihkZWJ1ZykgICBcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ2ZpbGUgcmVhZGVyIHNlIHNwdXN0aWw6Jyk7XHJcbiAgICAgICAgICAgIGlmICggKDxIVE1MRWxlbWVudD5lLnRhcmdldCkuaWQgPT09ICdpbWFnZV9pbnB1dCcgKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICByZWFkZXIuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIChldikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vaW1nIGFzIGJhc2U2NFxyXG4gICAgICAgICAgICAgICAgICAgIGxldCB1cGxvYWRlZF9pbWFnZSA9IHJlYWRlci5yZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXRlbU1lbnUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaXRlbU1lbnUnKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0cmlnZ2VySWQgPSBpdGVtTWVudT8uZ2V0QXR0cmlidXRlKCdkYXRhLXRyaWdnZXJpZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKHRyaWdnZXJJZCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRyaWdnZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0cmlnZ2VySWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZih0cmlnZ2VyKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRyZ2dyQ3Rnck5hbWUgPSA8J21hdGVyaWFsJ3wnY29taWNzJz50cmlnZ2VyLmdldEF0dHJpYnV0ZSgnZGF0YS1jYXRlZ29yeScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaXRlbXMgPSBMb2NTdG9yYWdlLmdldEl0ZW1zKCdpdGVtcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGN0Z3JEYXRhOml0ZW0gfCBudWxsID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3RnckRhdGEgPSBMb2NTdG9yYWdlLmdldEN0Z3IoaXRlbXMsIHRyZ2dyQ3Rnck5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3I6dW5rbm93bikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEV4aXN0SW5Mb2NTdG9yYWdlRXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IubWVzc2FnZSwgZXJyb3IucHJvcGVydHkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN0Z3JEYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3SXRlbUlkID0gYGl0ZW1fJHtEYXRlLm5vdygpfWA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG5ld0l0ZW06aXRlbTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3Bvc2l0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHBvc2l0aW9uID0gJ2ZpLW5vbmUnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0cmlnZ2VySWQgPT09IHRyZ2dyQ3Rnck5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3SXRlbSA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOm5ld0l0ZW1JZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtpbmQ6J2ltYWdlSXRlbScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc2VzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NJZDpbJ2l0ZW0nXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjpbIHBvc2l0aW9uXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDpbJ3gwJ10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OlsneTAnXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1nOmAke3VwbG9hZGVkX2ltYWdlfWAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0vL3RhZHlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNhdmVkID0gTG9jU3RvcmFnZS5wdXNoTmV3SXRlbShpdGVtcy5pdGVtcywgdHJnZ3JDdGdyTmFtZSwgbmV3SXRlbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzYXZlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9jU3RvcmFnZS5zZXRJdGVtKCdpdGVtcycsIGl0ZW1zKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBuZXdJbWFnZUl0ZW1FbG0gPSBpbWFnZUl0ZW0uY3J0SW1nSXRlbShuZXdJdGVtLCB0cmdnckN0Z3JOYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyaWdnZXIuYXBwZW5kKG5ld0ltYWdlSXRlbUVsbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdHJpZ2dlckRhdGEgPSBMb2NTdG9yYWdlLmZpbmRJdGVtKGN0Z3JEYXRhLnN1Ykl0ZW1zLHRyaWdnZXJJZCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHJpZ2dlckRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0l0ZW0gPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6bmV3SXRlbUlkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtpbmQ6J2ltYWdlSXRlbScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3Nlczp7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzSWQ6WydpdGVtJ10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOltwb3NpdGlvbl0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOlsneDAnXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OlsneTAnXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltZzpgJHt1cGxvYWRlZF9pbWFnZX1gLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBvYnLDoXplayBsemUgdmxvxb5pdCBqZW4gZG8gXCJjb250YWluZXJ1L2JveHVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogbmFqZGkgdHJpZ2dlciBcImJveFwiIHZsb8W+IG9icsOhemVrIGRvIGplaG8gc3ViSXRlbcWvXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgc2F2ZWQgPSBMb2NTdG9yYWdlLnBhc3RlSXRlbUluU3ViQWNjb3JkaW5nSWQoY3RnckRhdGEuc3ViSXRlbXMsIHRyaWdnZXJJZCwgbmV3SXRlbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2F2ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBMb2NTdG9yYWdlLnNldEl0ZW0oJ2l0ZW1zJywgaXRlbXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBuZXdJbWFnZUl0ZW1FbG0gPSBpbWFnZUl0ZW0uY3J0SW1nSXRlbShuZXdJdGVtLCB0cmdnckN0Z3JOYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyLmFwcGVuZChuZXdJbWFnZUl0ZW1FbG0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vcG9rdWQgamUgdHJpZ2dlciBib3hJdGVtIGEgcG9rdWQgbcOhIGNsYXNzIGVtcHR5LCBvZHN0cmFuIGVtcHR5IGNsYXNzIHogZGF0YWLDoXplIGEgeiBET01cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiBpbWFnZUl0ZW0ucm12RW1wdHlDbGFzc2VzRkJJdGVtKGl0ZW1zW3RyaWdnZXJDYXRlZ29yeV0sIHRyaWdnZXJJZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRyaWdnZXIuY2xhc3NMaXN0LmNvbnRhaW5zKHN0eWxGbGV4QkkuQklFbXB0eSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJpZ2dlci5jbGFzc0xpc3QucmVtb3ZlKHN0eWxGbGV4QkkuQklFbXB0eSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSAqL1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9Ly9cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKCg8SFRNTElucHV0RWxlbWVudD5lLnRhcmdldCkuZmlsZXMhWzBdKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSBcclxuICAgIFxyXG5cclxuICAgIFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVtb3ZlcyBlbXB0eSBjbGFzcyBpbiBib3hJdGVtIGluIGNhdGVnb3J5IGFycmF5IG9mIG9iamVjdHMsIHdoZW4gYSBpdGVtIGlzIGluamVjdGVkXHJcbiAgICAgKiBAcGFyYW0gaXRlbSBcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBybXZFbXB0eUNsYXNzZXNGQkl0ZW0oaXRlbXNJbkN0Z3I6aXRlbVtdLCB0cmlnZ2VySWQ6c3RyaW5nKXtcclxuICAgICAgICBpdGVtc0luQ3Rnci5mb3JFYWNoKCAoaXRlbSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoaXRlbS5pZCA9PT0gdHJpZ2dlcklkKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXRlbS5raW5kID09PSAnYm94SXRlbScpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQga2V5OiBrZXlvZiB0eXBlb2YgaXRlbS5jbGFzc2VzO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoIGtleSBpbiBpdGVtLmNsYXNzZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0uY2xhc3Nlcy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmNsYXNzZXNba2V5XSEuZm9yRWFjaCggKGNsYXNzcywgaW5kZXgsIGFycmF5U2VsZikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjbGFzc3MgPT09IHN0eWxGbGV4QkkuQklFbXB0eSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcnJheVNlbGYuc3BsaWNlKGluZGV4LDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmKGl0ZW0uc3ViSXRlbXMpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ybXZFbXB0eUNsYXNzZXNGQkl0ZW0oaXRlbS5zdWJJdGVtcywgdHJpZ2dlcklkKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNydEltZ0l0ZW0oaXRlbTppdGVtLCBjdGdySWQ6Y3RncklkKXtcclxuICAgICAgICBjb25zdCBuZXdJbWFnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xyXG4gICAgICAgIGlmKGl0ZW0uaW1nKXtcclxuICAgICAgICAgICAgbmV3SW1hZ2Uuc2V0QXR0cmlidXRlKCdzcmMnLGl0ZW0uaW1nKTtcclxuICAgICAgICB9IFxyXG4gICAgICAgIC8vcMWZaWRlaiB0xZnDrWR1IGRvIERPTVxyXG4gICAgICAgIGxldCBrZXk6IGtleW9mIHR5cGVvZiBpdGVtLmNsYXNzZXM7XHJcbiAgICAgICAgZm9yICgga2V5IGluIGl0ZW0uY2xhc3Nlcykge1xyXG4gICAgICAgICAgICBpZiAoaXRlbS5jbGFzc2VzLmhhc093blByb3BlcnR5KGtleSkpIHtcclxuICAgICAgICAgICAgICAgIGl0ZW0uY2xhc3Nlc1trZXldIS5mb3JFYWNoKCBjbGFzc3MgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld0ltYWdlLmNsYXNzTGlzdC5hZGQoY2xhc3NzKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIG5ld0ltYWdlLnNldEF0dHJpYnV0ZSgnaWQnLGl0ZW0uaWQpO1xyXG4gICAgICAgIG5ld0ltYWdlLnNldEF0dHJpYnV0ZSgnZGF0YS1jYXRlZ29yeScsY3RncklkKTtcclxuICAgICAgICBuZXdJbWFnZS5zZXRBdHRyaWJ1dGUoJ2RhdGEta2luZCcsJ2ltYWdlSXRlbScpO1xyXG5cclxuICAgICAgICByZXR1cm4gbmV3SW1hZ2U7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJtdkltZ0l0ZW0oZTpFdmVudCl7XHJcbiAgICAgICAgaWYgKCg8SFRNTEVsZW1lbnQ+ZS50YXJnZXQpLmlkID09PSAncm12LWltYWdlSXRlbScpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ3JtdkltZ0l0ZW0nKTtcclxuICAgICAgICAgICAgY29uc3QgaXRlbU1lbnUgPSAoPEhUTUxFbGVtZW50PmUudGFyZ2V0KS5jbG9zZXN0KCcjaXRlbU1lbnUnKTtcclxuICAgICAgICAgICAgY29uc3QgdHJpZ2dlcklkID0gaXRlbU1lbnU/LmdldEF0dHJpYnV0ZSgnZGF0YS10cmlnZ2VyaWQnKTtcclxuICAgICAgICAgICAgaWYgKHRyaWdnZXJJZCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdHJpZ2dlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRyaWdnZXJJZCk7XHJcbiAgICAgICAgICAgICAgICBpZih0cmlnZ2VyKXtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0cmdnckN0Z3JOYW1lID0gPGN0Z3JJZD50cmlnZ2VyLmdldEF0dHJpYnV0ZSgnZGF0YS1jYXRlZ29yeScpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvL0xvY2FsIFN0b3JhZ2UgcGFydFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW1zID0gTG9jU3RvcmFnZS5nZXRJdGVtcygnaXRlbXMnKTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgY3RnckRhdGE6aXRlbSB8IG51bGwgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN0Z3JEYXRhID0gTG9jU3RvcmFnZS5nZXRDdGdyKGl0ZW1zLCB0cmdnckN0Z3JOYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3I6dW5rbm93bikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFeGlzdEluTG9jU3RvcmFnZUVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvci5tZXNzYWdlLCBlcnJvci5wcm9wZXJ0eSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoY3RnckRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJlbW92ZWQgPSBMb2NTdG9yYWdlLnJtdkl0ZW0oY3RnckRhdGEuc3ViSXRlbXMsdHJpZ2dlcklkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlbW92ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIExvY1N0b3JhZ2Uuc2V0SXRlbSgnaXRlbXMnLCBpdGVtcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL0RPTSBwYXJ0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBlZHRJbWdQc3RuKGU6RXZlbnQpe1xyXG4gICAgICAgIGlmICgoPEhUTUxFbGVtZW50PmUudGFyZ2V0KS5pZCA9PT0gJ2VkdC1pbWctcHN0bicpIHtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnZWR0LWltZy1wc3RuJyk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBpdGVtTWVudSA9ICg8SFRNTEVsZW1lbnQ+ZS50YXJnZXQpLmNsb3Nlc3QoJyNpdGVtTWVudScpO1xyXG4gICAgICAgICAgICBjb25zdCB0cmlnZ2VySWQgPSBpdGVtTWVudT8uZ2V0QXR0cmlidXRlKCdkYXRhLXRyaWdnZXJpZCcpO1xyXG4gICAgICAgICAgICBpZiAodHJpZ2dlcklkKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0cmlnZ2VyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodHJpZ2dlcklkKTtcclxuICAgICAgICAgICAgICAgIGlmKHRyaWdnZXIpe1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRyZ2dyQ3Rnck5hbWUgPSA8Y3RncklkPnRyaWdnZXIuZ2V0QXR0cmlidXRlKCdkYXRhLWNhdGVnb3J5Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5wdXRzID0gPE5vZGVMaXN0T2Y8SFRNTElucHV0RWxlbWVudD4+ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnI2ltZ0l0ZW0tcHJlc2V0IGlucHV0Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHByZXNldHM6IHN0cmluZ1tdID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgaW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbnB1dC5jaGVja2VkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmVzZXRzLnB1c2goaW5wdXQudmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocHJlc2V0cyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW1zID0gTG9jU3RvcmFnZS5nZXRJdGVtcygnaXRlbXMnKTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgY3RnckRhdGE6aXRlbSB8IG51bGwgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN0Z3JEYXRhID0gTG9jU3RvcmFnZS5nZXRDdGdyKGl0ZW1zLCB0cmdnckN0Z3JOYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3I6dW5rbm93bikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFeGlzdEluTG9jU3RvcmFnZUVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvci5tZXNzYWdlLCBlcnJvci5wcm9wZXJ0eSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoY3RnckRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdHJpZ2dlckRhdGEgPSBMb2NTdG9yYWdlLmZpbmRJdGVtKGN0Z3JEYXRhLnN1Ykl0ZW1zLCB0cmlnZ2VySWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHJpZ2dlckRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYocHJlc2V0cy5sZW5ndGgpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyaWdnZXJEYXRhLmNsYXNzZXMucG9zaXRpb24uZm9yRWFjaChjbGFzc3MgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRyaWdnZXIuY2xhc3NMaXN0LmNvbnRhaW5zKGNsYXNzcykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyaWdnZXIuY2xhc3NMaXN0LnJlbW92ZShjbGFzc3MpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyaWdnZXJEYXRhLmNsYXNzZXMucG9zaXRpb24gPVtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXNldHMuZm9yRWFjaChjbGFzc3MgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyLmNsYXNzTGlzdC5hZGQoY2xhc3NzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJpZ2dlckRhdGEuY2xhc3Nlcy5wb3NpdGlvbi5wdXNoKGNsYXNzcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBMb2NTdG9yYWdlLnNldEl0ZW0oJ2l0ZW1zJywgaXRlbXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvKlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL0xvY2FsIFN0b3JhZ2UgcGFydFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpdGVtcyA9IExvY1N0b3JhZ2UuZ2V0SXRlbXMoJ2l0ZW1zJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIExvY1N0b3JhZ2Uucm12SXRlbShpdGVtc1t0cmlnZ2VyQ2F0ZWdvcnldLHRyaWdnZXJJZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIExvY1N0b3JhZ2Uuc2V0SXRlbSgnaXRlbXMnLCBpdGVtcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vRE9NIHBhcnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHJpZ2dlci5yZW1vdmUoKTsgICovXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgICBcclxuXHJcblxyXG5cclxufSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/editor/editorComponents/item/imageItem/ImageItem.ts\n");

/***/ }),

/***/ "./src/editor/editorComponents/item/imgItemAtrStyl.ts":
/*!************************************************************!*\
  !*** ./src/editor/editorComponents/item/imgItemAtrStyl.ts ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"materialItemStyle\": () => (/* binding */ materialItemStyle),\n/* harmony export */   \"comicsItemStyle\": () => (/* binding */ comicsItemStyle)\n/* harmony export */ });\nconst materialItemStyle = {\r\n    'max-height': '300px',\r\n    //'margin':'10px 0px 10px 10px',\r\n    border: '1px solid black',\r\n};\r\nconst comicsItemStyle = {\r\n    //'position':'relative',\r\n    'max-height': '',\r\n    'margin': '',\r\n    border: '1px solid black'\r\n};\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZWRpdG9yL2VkaXRvckNvbXBvbmVudHMvaXRlbS9pbWdJdGVtQXRyU3R5bC50cy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFPLE1BQU0saUJBQWlCLEdBQU07SUFDakMsWUFBWSxFQUFDLE9BQU87SUFDcEIsZ0NBQWdDO0lBQ2hDLE1BQU0sRUFBRyxpQkFBaUI7Q0FDNUIsQ0FBQztBQUNLLE1BQU0sZUFBZSxHQUFNO0lBQy9CLHdCQUF3QjtJQUN4QixZQUFZLEVBQUMsRUFBRTtJQUNmLFFBQVEsRUFBQyxFQUFFO0lBQ1gsTUFBTSxFQUFDLGlCQUFpQjtDQUMxQixDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY29taWNzLWVkaXRvci8uL3NyYy9lZGl0b3IvZWRpdG9yQ29tcG9uZW50cy9pdGVtL2ltZ0l0ZW1BdHJTdHlsLnRzP2UxYTEiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IG1hdGVyaWFsSXRlbVN0eWxlOnt9ID0ge1xyXG4gICAnbWF4LWhlaWdodCc6JzMwMHB4JyxcclxuICAgLy8nbWFyZ2luJzonMTBweCAwcHggMTBweCAxMHB4JyxcclxuICAgYm9yZGVyIDogJzFweCBzb2xpZCBibGFjaycsXHJcbn07XHJcbmV4cG9ydCBjb25zdCBjb21pY3NJdGVtU3R5bGU6e30gPSB7XHJcbiAgIC8vJ3Bvc2l0aW9uJzoncmVsYXRpdmUnLFxyXG4gICAnbWF4LWhlaWdodCc6JycsXHJcbiAgICdtYXJnaW4nOicnLFxyXG4gICBib3JkZXI6JzFweCBzb2xpZCBibGFjaydcclxufTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/editor/editorComponents/item/imgItemAtrStyl.ts\n");

/***/ }),

/***/ "./src/editor/editorComponents/item/itemMenu/ItemMenu.ts":
/*!***************************************************************!*\
  !*** ./src/editor/editorComponents/item/itemMenu/ItemMenu.ts ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ItemMenu\": () => (/* binding */ ItemMenu)\n/* harmony export */ });\n/* harmony import */ var _HTMLComponents_menu_Menu__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../HTMLComponents/menu/Menu */ \"./src/HTMLComponents/menu/Menu.ts\");\n/* harmony import */ var _itemMenu_module_scss__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./itemMenu.module.scss */ \"./src/editor/editorComponents/item/itemMenu/itemMenu.module.scss\");\n/* harmony import */ var _editor_module_scss__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../editor.module.scss */ \"./src/editor/editor.module.scss\");\n\r\n\r\n\r\nclass ItemMenu extends _HTMLComponents_menu_Menu__WEBPACK_IMPORTED_MODULE_0__.Menu {\r\n    constructor(input, subMenu) {\r\n        super();\r\n        this.input = input;\r\n        this.subMenu = subMenu;\r\n        //Main box \r\n        this.clickedMainBox = [\r\n            { id: 'add', type: 'button', text: 'Add', notClose: 'doNotClose', subMenu: [\r\n                    { id: 'add-innerBox-subMenu-radio', type: 'button', text: 'Add inner box' },\r\n                    { id: 'add-imageItem', type: 'file', text: 'Add image',\r\n                        input: {\r\n                            id: 'image_input',\r\n                            type: 'file',\r\n                            accept: \"image/jpeg, image,/png\"\r\n                        }\r\n                    },\r\n                ] },\r\n            { id: 'edt-mainBox', type: 'button', text: 'Edit main box', notClose: 'doNotClose', subMenu: [\r\n                    { id: 'edt-mainBox-pstn-subMenu-radioPstnBox', type: 'button', text: 'Edit position' },\r\n                    { id: 'edt-mainBox-drctn-subMenu-radio', type: 'button', text: 'Edit direction' },\r\n                    { id: 'add-mainBox-bckgrnd-subMenu-bttn', type: 'file', text: 'Background' },\r\n                ] },\r\n        ];\r\n        //Box item\r\n        this.clickedIBox = [\r\n            { id: 'edt-box', type: 'button', text: 'Edit box', notClose: 'doNotClose', subMenu: [\r\n                    { id: 'add-box-bckgrnd-subMenu-bttn', type: 'file', text: 'Background' },\r\n                    { id: 'rsz-item-pixel-subMenu-bttn', type: 'button', text: 'Pixel resize' },\r\n                    { id: 'rsz-item-percent-subMenu-radio', type: 'button', text: 'Percent resize' },\r\n                    { id: 'edt-box-pstn-subMenu-radioPstnBox', type: 'button', text: 'Edit position' },\r\n                    { id: 'edt-box-drctn-subMenu-radio', type: 'button', text: 'Edit direction' },\r\n                    { id: 'edt-box-grow-subMenu-radio', type: 'button', text: 'Edit grow' },\r\n                ] },\r\n            { id: 'edt-outerBox', type: 'button', text: 'Edit outer BOX', notClose: 'doNotClose', subMenu: [] },\r\n            { id: 'add', type: 'button', text: 'Add', notClose: 'doNotClose', subMenu: [\r\n                    { id: 'add-innerBox-subMenu-radio', type: 'button', text: 'Add inner box' },\r\n                    { id: 'add-outerBox-subMenu-radio', type: 'button', text: 'Add outer box' },\r\n                    { id: 'add-imageItem', type: 'file', text: 'Add image',\r\n                        input: {\r\n                            id: 'image_input',\r\n                            type: 'file',\r\n                            accept: \"image/jpeg, image,/png\"\r\n                        }\r\n                    },\r\n                ] },\r\n            { id: 'move-item', type: 'button', text: 'Move box' },\r\n            { id: 'rmv', type: 'button', text: 'Remove', notClose: 'doNotClose', subMenu: [\r\n                    { id: 'rmv-boxItem', type: 'button', text: 'Remove item box' },\r\n                    { id: 'rmv-boxItem-all', type: 'button', text: 'Remove item box and all in it' }\r\n                ] },\r\n        ];\r\n        //Edit outer box submenu se musí tvořit \r\n        this.edtOuterBoxItem = [\r\n            { id: 'add-outerBox-bckgrnd-subMenu-bttn', type: 'button', text: 'Background' },\r\n            { id: 'rsz-outerBox-pixel-subMenu-bttn', type: 'button', text: 'Pixel resize' },\r\n            { id: 'rsz-outerBox-percent-subMenu-radio', type: 'button', text: 'Percent resize' },\r\n            { id: 'edt-outerBox-pstn-subMenu-radioPstnBox', type: 'button', text: 'Edit position' },\r\n            { id: 'edt-outerBox-drctn-subMenu-radio', type: 'button', text: 'Edit direction' },\r\n            { id: 'edt-outerBox-grow-subMenu-radio', type: 'button', text: 'Edit grow' },\r\n        ];\r\n        this.edtOuterMainBox = [\r\n            { id: 'edt-outerMainBox-pstn-subMenu-radioPstnBox', type: 'button', text: 'Edit position' },\r\n            { id: 'edt-outerMainBox-drctn-subMenu-radio', type: 'button', text: 'Edit direction' },\r\n        ];\r\n        //Image item\r\n        this.clickedImg = [\r\n            { id: 'edt', type: 'button', text: 'Edit image', notClose: 'doNotClose', subMenu: [\r\n                    { id: 'rsz-item-percent-subMenu-radio', type: 'button', text: 'Percent resize' },\r\n                    { id: 'edt-img-pstn-subMenu-radioPstnImg', type: 'button', text: 'Edit position' },\r\n                ] },\r\n            { id: 'edt-outerBox', type: 'button', text: 'Edit outer BOX', notClose: 'doNotClose', subMenu: [] },\r\n            { id: 'add-outerBox-subMenu-radio', type: 'button', text: 'Add outer box' },\r\n            { id: 'move-item', type: 'button', text: 'Move image' },\r\n            { id: 'rmv-imageItem', type: 'button', text: 'Remove image' }\r\n        ];\r\n        //Move state menu\r\n        this.moveStateMenu = [\r\n            { id: 'move-item-here', type: 'button', text: 'Move item here' },\r\n            { id: 'move-end', type: 'button', text: 'Cancel moving' },\r\n        ];\r\n        this.rszStateMenu = [\r\n            { id: 'rsz-item-pixel', type: 'button', text: 'Save resized item' },\r\n            { id: 'rsz-item-pixel-end', type: 'button', text: 'Cancel resize' },\r\n        ];\r\n    }\r\n    showHideItemMenu(itemMenu) {\r\n        return (e) => {\r\n            //pro odlišení více menu, změň id např. na comicsItemMenu apod.\r\n            if (!e.target.classList.contains(_itemMenu_module_scss__WEBPACK_IMPORTED_MODULE_1__[\"default\"].itemMenu)) {\r\n                const evTarget = e.target;\r\n                const dataKind = evTarget.getAttribute('data-kind');\r\n                const comics = document.getElementById('comics');\r\n                //vytvořit objekt ItemMenu, asi statický, ve kterém se předá argument 'move', který \r\n                //v menu signalizuje, at se nezobrazuje klasické menu, ale jen button pro ukončení move akce\r\n                if (ItemMenu.resize) {\r\n                    if ((\r\n                    //pokud je evTarget potomkem komiksu a nemá id resizer\r\n                    (comics === null || comics === void 0 ? void 0 : comics.contains(evTarget)) && evTarget.id !== 'resizer') &&\r\n                        !comics.classList.contains('hasNavRsz')) {\r\n                        itemMenu.rmvItemMenu(comics, 'hasNavRsz');\r\n                        localStorage.setItem('triggerid', evTarget.id);\r\n                        comics.classList.add('hasNavRsz');\r\n                        itemMenu.showStateMenu(e, comics);\r\n                    }\r\n                    else if (comics) {\r\n                        let itemMenuNav = document.getElementById('itemMenu');\r\n                        if (itemMenuNav) {\r\n                            if (!itemMenuNav.classList.contains(_itemMenu_module_scss__WEBPACK_IMPORTED_MODULE_1__[\"default\"].hide)) {\r\n                                itemMenu.hideItemMenu(comics, itemMenuNav, 'hasNavRsz');\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                else if (ItemMenu.move) {\r\n                    if ((evTarget.classList.contains('comics') ||\r\n                        evTarget.classList.contains('item') ||\r\n                        evTarget.classList.contains('material')) &&\r\n                        !evTarget.classList.contains(_itemMenu_module_scss__WEBPACK_IMPORTED_MODULE_1__[\"default\"].hasNavMove) /* !itemNav[0] */) {\r\n                        itemMenu.rmvItemMenu(evTarget, _itemMenu_module_scss__WEBPACK_IMPORTED_MODULE_1__[\"default\"].hasNavMove);\r\n                        //outline se nadá přebýt, takže se musí odstranit moveBox před přidáním hasNavMove\r\n                        evTarget.classList.remove(_editor_module_scss__WEBPACK_IMPORTED_MODULE_2__[\"default\"].moveBox);\r\n                        evTarget.classList.add(_itemMenu_module_scss__WEBPACK_IMPORTED_MODULE_1__[\"default\"].hasNavMove);\r\n                        itemMenu.showStateMenu(e, evTarget);\r\n                        const prevItemId = localStorage.getItem('prevItem');\r\n                        let prevItem;\r\n                        if (prevItemId) {\r\n                            prevItem = document.getElementById(prevItemId);\r\n                        }\r\n                        if (prevItem) {\r\n                            if ((dataKind === 'imageItem' || dataKind === 'boxItem') && prevItem.tagName !== 'IMG') {\r\n                                prevItem.classList.add(_editor_module_scss__WEBPACK_IMPORTED_MODULE_2__[\"default\"].moveBox);\r\n                            }\r\n                        }\r\n                        localStorage.setItem('prevItem', evTarget.id);\r\n                    }\r\n                    else {\r\n                        let itemMenuNav = document.getElementById('itemMenu');\r\n                        if (itemMenuNav) {\r\n                            if (!itemMenuNav.classList.contains(_itemMenu_module_scss__WEBPACK_IMPORTED_MODULE_1__[\"default\"].hide)) {\r\n                                itemMenu.hideItemMenu(evTarget, itemMenuNav, _itemMenu_module_scss__WEBPACK_IMPORTED_MODULE_1__[\"default\"].hasNavMove);\r\n                                if (dataKind !== 'imageItem')\r\n                                    evTarget.classList.add(_editor_module_scss__WEBPACK_IMPORTED_MODULE_2__[\"default\"].moveBox);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                else {\r\n                    //pokud je target item a ještě nemá menu\r\n                    if ((evTarget.classList.contains('comics') ||\r\n                        evTarget.classList.contains('item') ||\r\n                        evTarget.classList.contains('material') ||\r\n                        evTarget.id === 'edt-img-pstn-subMenu-radioPstnImg' ||\r\n                        evTarget.id === 'add-outerBox-subMenu-radio' ||\r\n                        evTarget.id === 'add-innerBox-subMenu-radio' ||\r\n                        evTarget.id === 'edt-box-pstn-subMenu-radioPstnBox' ||\r\n                        evTarget.id === 'edt-outerBox-drctn-subMenu-radio' ||\r\n                        evTarget.id === 'rsz-item-pixel-subMenu-bttn' ||\r\n                        evTarget.id === 'edt-box-grow-subMenu-radio' ||\r\n                        evTarget.id === 'edt-outerBox-grow-subMenu-radio' ||\r\n                        evTarget.id === 'rsz-item-percent-subMenu-radio' ||\r\n                        evTarget.id === 'rsz-outerBox-percent-subMenu-radio' ||\r\n                        evTarget.id === 'rsz-outerBox-pixel-subMenu-bttn' ||\r\n                        evTarget.id === 'edt-outerMainBox-drctn-subMenu-radio' ||\r\n                        evTarget.id === 'edt-box-drctn-subMenu-radio' ||\r\n                        evTarget.id === 'edt-mainBox-drctn-subMenu-radio' ||\r\n                        evTarget.id === 'edt-outerBox-pstn-subMenu-radioPstnBox' ||\r\n                        evTarget.id === 'edt-outerMainBox-pstn-subMenu-radioPstnBox' ||\r\n                        evTarget.id === 'add-box-bckgrnd-subMenu-bttn' ||\r\n                        evTarget.id === 'add-outerBox-bckgrnd-subMenu-bttn' ||\r\n                        evTarget.id === 'add-mainBox-bckgrnd-subMenu-bttn' ||\r\n                        evTarget.id === 'edt-mainBox-pstn-subMenu-radioPstnBox') &&\r\n                        !evTarget.classList.contains(_itemMenu_module_scss__WEBPACK_IMPORTED_MODULE_1__[\"default\"].hasNav) /* !itemNav[0] */) {\r\n                        //pokud je otevřené menu v itemu, ale klikne se po druhé na jiný item,\r\n                        //odstraní existující menu než se vytvoří nové v druhém itemu\r\n                        itemMenu.rmvItemMenu(evTarget, _itemMenu_module_scss__WEBPACK_IMPORTED_MODULE_1__[\"default\"].hasNav);\r\n                        if ((evTarget.id === 'add-mainBox-bckgrnd-subMenu-bttn') || (evTarget.id === 'add-outerBox-bckgrnd-subMenu-bttn') || (evTarget.id === 'add-box-bckgrnd-subMenu-bttn') || (evTarget.id === 'edt-outerBox-pstn-subMenu-radioPstnBox') || (evTarget.id === 'edt-outerBox-pstn-subMenu-radioPstnBox') || (evTarget.id === 'edt-mainBox-drctn-subMenu-radio') || (evTarget.id === 'edt-outerMainBox-drctn-subMenu-radio') || (evTarget.id === 'edt-outerBox-drctn-subMenu-radio') || (evTarget.id === 'edt-outerBox-grow-subMenu-radio') || (evTarget.id === 'rsz-outerBox-percent-subMenu-radio') || (evTarget.id === 'rsz-outerBox-pixel-subMenu-bttn') || (evTarget.id === 'rsz-item-percent-subMenu-radio') || (evTarget.id === 'edt-box-grow-subMenu-radio') || (evTarget.id === 'edt-box-drctn-subMenu-radio') || (evTarget.id === 'add-outerBox-subMenu-radio') || (evTarget.id === 'rsz-item-pixel-subMenu-bttn') || (evTarget.id === 'add-innerBox-subMenu-radio') || (evTarget.id === 'edt-img-pstn-subMenu-radioPstnImg') || (evTarget.id === 'edt-outerBox-preset') || (evTarget.id === 'edt-box-pstn-subMenu-radioPstnBox') || (evTarget.id === 'edt-mainBox-pstn-subMenu-radioPstnBox')) {\r\n                            const menuTrgtId = localStorage.getItem('triggerid');\r\n                            if (menuTrgtId) {\r\n                                const menuTrgt = document.getElementById(menuTrgtId);\r\n                                if (menuTrgt) {\r\n                                    menuTrgt.classList.add(_itemMenu_module_scss__WEBPACK_IMPORTED_MODULE_1__[\"default\"].hasNav);\r\n                                }\r\n                            }\r\n                        }\r\n                        else {\r\n                            localStorage.setItem('triggerid', evTarget.id);\r\n                            evTarget.classList.add(_itemMenu_module_scss__WEBPACK_IMPORTED_MODULE_1__[\"default\"].hasNav);\r\n                        }\r\n                        itemMenu.showItemMenu(e, evTarget);\r\n                    }\r\n                    else if (!evTarget.classList.contains('doNotClose')) {\r\n                        let itemMenuNav = document.getElementById('itemMenu');\r\n                        //console.log(itemMenuNav)\r\n                        if (itemMenuNav) {\r\n                            if (!itemMenuNav.classList.contains(_itemMenu_module_scss__WEBPACK_IMPORTED_MODULE_1__[\"default\"].hide)) {\r\n                                itemMenu.hideItemMenu(evTarget, itemMenuNav, _itemMenu_module_scss__WEBPACK_IMPORTED_MODULE_1__[\"default\"].hasNav);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        };\r\n    }\r\n    /**\r\n     * Creates first level menu\r\n     * @param e\r\n     * @param itemId ukládá id itemu, na kterém bylo vyvoláno menu\r\n     * @param buttonData\r\n     * @param trggrPrntKind\r\n     * @returns\r\n     */\r\n    createItemMenu(e, itemId, buttonData, trggrPrntKind) {\r\n        //Sets right edt-outerBox submenu acording to parrent element kind\r\n        if (trggrPrntKind) {\r\n            let index = buttonData.findIndex(button => button.id === 'edt-outerBox');\r\n            if (buttonData[index].subMenu) {\r\n                if (trggrPrntKind === 'boxItem') {\r\n                    buttonData[index].subMenu = this.edtOuterBoxItem;\r\n                }\r\n                else if (trggrPrntKind === 'boxComics' || trggrPrntKind === 'boxMaterial') {\r\n                    buttonData[index].subMenu = this.edtOuterMainBox;\r\n                }\r\n            }\r\n            ;\r\n        }\r\n        const menu = this.crtNavMenuBI(buttonData, this.navData, _itemMenu_module_scss__WEBPACK_IMPORTED_MODULE_1__[\"default\"].subMenu, _itemMenu_module_scss__WEBPACK_IMPORTED_MODULE_1__[\"default\"].x_right_subMenu, _itemMenu_module_scss__WEBPACK_IMPORTED_MODULE_1__[\"default\"].y_down_subMenu, 'doNotClose');\r\n        menu.classList.add(_itemMenu_module_scss__WEBPACK_IMPORTED_MODULE_1__[\"default\"].subMenu);\r\n        this.placeMenu(e, menu, _itemMenu_module_scss__WEBPACK_IMPORTED_MODULE_1__[\"default\"].itemMenu, _itemMenu_module_scss__WEBPACK_IMPORTED_MODULE_1__[\"default\"].x_right_subMenu, _itemMenu_module_scss__WEBPACK_IMPORTED_MODULE_1__[\"default\"].x_left_subMenu, _itemMenu_module_scss__WEBPACK_IMPORTED_MODULE_1__[\"default\"].y_up_subMenu, _itemMenu_module_scss__WEBPACK_IMPORTED_MODULE_1__[\"default\"].y_down_subMenu);\r\n        menu.setAttribute('data-triggerid', itemId);\r\n        return menu;\r\n    }\r\n    chngItemMenu(e, itemMenu, itemId, buttonData) {\r\n        let itemMenuBttns = itemMenu.getElementsByTagName('button');\r\n        itemMenu.style.setProperty('left', `${e.pageX - 82}px`);\r\n        itemMenu.style.setProperty('top', `${e.pageY}px`);\r\n        itemMenu.setAttribute('data-triggerid', itemId);\r\n        itemMenu.classList.toggle(_itemMenu_module_scss__WEBPACK_IMPORTED_MODULE_1__[\"default\"].hide);\r\n    }\r\n    hideItemMenu(evTarget, itemMenu, focusClass) {\r\n        itemMenu.classList.add(_itemMenu_module_scss__WEBPACK_IMPORTED_MODULE_1__[\"default\"].hide);\r\n        this.rmvFocusClass(evTarget, itemMenu, focusClass);\r\n    }\r\n    /**\r\n     * Removes item menu and class hasNav, that determines to which item menu was invoked\r\n     */\r\n    rmvItemMenu(evTarget, focusClass) {\r\n        //je v documentu tag nav s tímto id?\r\n        const navTag = document.getElementById('itemMenu');\r\n        if (navTag) {\r\n            this.rmvFocusClass(evTarget, navTag, focusClass);\r\n            navTag.remove();\r\n        }\r\n    }\r\n    /**\r\n     * Removes class hasNav in item according to whether event target contains hasHav,removes it in this eventTarget,\r\n     * otherwise get itemId in navigation atribute data-triggerid and removes hasItem in this item\r\n     * Elements must have id atribute\r\n     * @param navTag\r\n     */\r\n    rmvFocusClass(evTarget, navTag, focusClass) {\r\n        //pokud se znovu klikne do stejného elementu, kde už je otevřené menu, odstran v něm třídu hasNav\r\n        if ((evTarget.classList.contains('item') || evTarget.classList.contains('comics')) && evTarget.classList.contains(focusClass)) {\r\n            evTarget.classList.remove(focusClass);\r\n            console.log('zavírám menu pomocí kontroly tříd');\r\n        }\r\n        else {\r\n            //spustí se při kliknutí na button, kde není id, ani class item nebo comics, a také se spustí,když je otevřené menu na jednom itemu\r\n            //a klikne se na jiný item, v tu chvíli tento jiný item nemá třídu hasNav a je event targetem, takže pro odstranění třídy hasNav \r\n            // na přechozím itemu se musí využít záznam id atributu tohoto předchozího itemu v tagu nav v atributu data-trigger a odstranit třídu na něm\r\n            console.log('zavírám menu pomocí data-triggerid');\r\n            if (evTarget.id === 'add-boxItem-preset') {\r\n                return;\r\n            }\r\n            else {\r\n                let triggerId = localStorage.getItem('triggerid');\r\n                if (triggerId) {\r\n                    const prevMenuItem = document.getElementById(triggerId);\r\n                    prevMenuItem === null || prevMenuItem === void 0 ? void 0 : prevMenuItem.classList.remove(focusClass);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * Callback, when item is clicked, show item menu\r\n     * @param e\r\n     */\r\n    showItemMenu(e, evTarget) {\r\n        let nav = {};\r\n        const dataKind = evTarget.getAttribute('data-kind');\r\n        if ((dataKind === 'boxComics') || (dataKind === 'boxMaterial') || (dataKind === 'imageItem') || (dataKind === 'boxItem')) {\r\n            //uloz trigger and trigger parent id and kind in local storage\r\n            localStorage.setItem('triggerid', evTarget.id);\r\n            let trggrKind = evTarget.getAttribute('data-kind');\r\n            if (trggrKind) {\r\n                localStorage.setItem('triggerkind', trggrKind);\r\n            }\r\n            let trggrPrnt = evTarget.parentElement;\r\n            let trggrPrntKind = null;\r\n            if (trggrPrnt) {\r\n                trggrPrntKind = trggrPrnt.getAttribute('data-kind');\r\n                if (trggrPrntKind) {\r\n                    localStorage.setItem('trggrPrntKind', trggrPrntKind);\r\n                }\r\n                let trggrPrntId = trggrPrnt.id;\r\n                localStorage.setItem('trggrPrntId', trggrPrntId);\r\n            }\r\n            //Menu part\r\n            //First level of menu\r\n            if ((dataKind === 'boxComics' || dataKind === 'boxMaterial')) {\r\n                nav = this.createItemMenu(e, evTarget.id, this.clickedMainBox);\r\n            }\r\n            if (dataKind === 'imageItem') {\r\n                if (trggrPrntKind) {\r\n                    if (trggrPrntKind === 'boxItem' || trggrPrntKind === 'boxComics' || trggrPrntKind === 'boxMaterial') {\r\n                        nav = this.createItemMenu(e, evTarget.id, this.clickedImg, trggrPrntKind);\r\n                    }\r\n                }\r\n            }\r\n            if (dataKind === 'boxItem') {\r\n                if (trggrPrntKind) {\r\n                    if (trggrPrntKind === 'boxItem' || trggrPrntKind === 'boxComics' || trggrPrntKind === 'boxMaterial') {\r\n                        nav = this.createItemMenu(e, evTarget.id, this.clickedIBox, trggrPrntKind);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            //Second level of menu\r\n            let subMenu = this.subMenu.crtSubMenu(e, evTarget.id);\r\n            if (subMenu) {\r\n                nav = subMenu;\r\n            }\r\n        }\r\n        let root = document.getElementById('root');\r\n        root === null || root === void 0 ? void 0 : root.appendChild(nav);\r\n    }\r\n    /**\r\n     * Callback, when item is clicked, show item menu\r\n     * @param e\r\n     */\r\n    showStateMenu(e, evTarget) {\r\n        if ((evTarget.getAttribute('data-kind') === 'imageItem') ||\r\n            (evTarget.getAttribute('data-kind') === 'boxComics') ||\r\n            (evTarget.getAttribute('data-kind') === 'boxMaterial') ||\r\n            (evTarget.getAttribute('data-kind') === 'boxItem')) {\r\n            const dataKind = evTarget.getAttribute('data-kind');\r\n            let nav = {};\r\n            if (ItemMenu.move) {\r\n                nav = this.createItemMenu(e, evTarget.id, this.moveStateMenu);\r\n            }\r\n            else if (ItemMenu.resize) {\r\n                nav = this.createItemMenu(e, evTarget.id, this.rszStateMenu);\r\n            }\r\n            let root = document.getElementById('root');\r\n            root === null || root === void 0 ? void 0 : root.appendChild(nav);\r\n        }\r\n    }\r\n}\r\n//names\r\nItemMenu.flexDrctn = 'flexDrctn';\r\nItemMenu.width = 'width';\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZWRpdG9yL2VkaXRvckNvbXBvbmVudHMvaXRlbS9pdGVtTWVudS9JdGVtTWVudS50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQzREO0FBQ2hCO0FBQ1E7QUFLN0MsTUFBTSxRQUFTLFNBQVEsMkRBQUk7SUF5QjlCLFlBQVksS0FBVyxFQUFFLE9BQWdCO1FBQ3JDLEtBQUssRUFBRSxDQUFDO1FBQ1IsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7UUFDbkIsSUFBSSxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUM7UUFFdkIsV0FBVztRQUNYLElBQUksQ0FBQyxjQUFjLEdBQUc7WUFDbEIsRUFBQyxFQUFFLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBQyxRQUFRLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBQyxRQUFRLEVBQUMsWUFBWSxFQUFFLE9BQU8sRUFBQztvQkFDbEUsRUFBQyxFQUFFLEVBQUUsNEJBQTRCLEVBQUUsSUFBSSxFQUFDLFFBQVEsRUFBRSxJQUFJLEVBQUUsZUFBZSxFQUFDO29CQUN4RSxFQUFDLEVBQUUsRUFBRSxlQUFlLEVBQUUsSUFBSSxFQUFDLE1BQU0sRUFBRSxJQUFJLEVBQUUsV0FBVzt3QkFDaEQsS0FBSyxFQUFDOzRCQUNGLEVBQUUsRUFBRSxhQUFhOzRCQUNqQixJQUFJLEVBQUMsTUFBTTs0QkFDWCxNQUFNLEVBQUMsd0JBQXdCO3lCQUNsQztxQkFDSjtpQkFDSixFQUFDO1lBQ0YsRUFBQyxFQUFFLEVBQUUsYUFBYSxFQUFFLElBQUksRUFBQyxRQUFRLEVBQUUsSUFBSSxFQUFFLGVBQWUsRUFBRSxRQUFRLEVBQUMsWUFBWSxFQUFDLE9BQU8sRUFBQztvQkFDaEYsRUFBQyxFQUFFLEVBQUUsdUNBQXVDLEVBQUUsSUFBSSxFQUFDLFFBQVEsRUFBRSxJQUFJLEVBQUUsZUFBZSxFQUFDO29CQUNuRixFQUFDLEVBQUUsRUFBRSxpQ0FBaUMsRUFBRSxJQUFJLEVBQUMsUUFBUSxFQUFFLElBQUksRUFBRSxnQkFBZ0IsRUFBQztv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UUFBUSxDQUFDLElBQUksRUFBRTtnQkFDZixHQUFHLEdBQUcsSUFBSSxDQUFDLGNBQWMsQ0FBQyxDQUFDLEVBQUUsUUFBUSxDQUFDLEVBQUUsRUFBRSxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUM7YUFDakU7aUJBQ0ksSUFBSSxRQUFRLENBQUMsTUFBTSxFQUFFO2dCQUN0QixHQUFHLEdBQUcsSUFBSSxDQUFDLGNBQWMsQ0FBQyxDQUFDLEVBQUUsUUFBUSxDQUFDLEVBQUUsRUFBRSxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUM7YUFDaEU7WUFDRCxJQUFJLElBQUksR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBQzNDLElBQUksYUFBSixJQUFJLHVCQUFKLElBQUksQ0FBRSxXQUFXLENBQUMsR0FBRyxDQUFDLENBQUM7U0FFMUI7SUFDTCxDQUFDOztBQTFiRCxPQUFPO0FBRVMsa0JBQVMsR0FBRyxXQUFXLENBQUM7QUFDeEIsY0FBSyxHQUFHLE9BQU8sQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2NvbWljcy1lZGl0b3IvLi9zcmMvZWRpdG9yL2VkaXRvckNvbXBvbmVudHMvaXRlbS9pdGVtTWVudS9JdGVtTWVudS50cz8wNmUzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGJ1dHRvbkRhdGEgfSBmcm9tICcuLi8uLi8uLi8uLi9IVE1MQ29tcG9uZW50cy9tZW51L21lbnVJbnRyZmMnO1xyXG5pbXBvcnQgeyBNZW51IH0gZnJvbSAnLi4vLi4vLi4vLi4vSFRNTENvbXBvbmVudHMvbWVudS9NZW51JztcclxuaW1wb3J0IHN0eWxlcyBmcm9tICcuL2l0ZW1NZW51Lm1vZHVsZS5zY3NzJztcclxuaW1wb3J0IHN0eWxFZGl0b3IgZnJvbSBcIi4uLy4uLy4uL2VkaXRvci5tb2R1bGUuc2Nzc1wiXHJcbmltcG9ydCB7IElucHV0IH0gZnJvbSAnLi8uLi8uLi8uLi8uLi9IVE1MQ29tcG9uZW50cy9pbnB1dC9JbnB1dCc7XHJcblxyXG5pbXBvcnQgeyBTdWJNZW51IH0gZnJvbSAnLi9zdWJNZW51L1N1Yk1lbnUnO1xyXG5cclxuZXhwb3J0IGNsYXNzIEl0ZW1NZW51IGV4dGVuZHMgTWVudXtcclxuXHJcbiAgICAvL25hbWVzXHJcbiAgICBcclxuICAgIHN0YXRpYyByZWFkb25seSBmbGV4RHJjdG4gPSAnZmxleERyY3RuJztcclxuICAgIHN0YXRpYyByZWFkb25seSB3aWR0aCA9ICd3aWR0aCc7XHJcblxyXG4gICAgLy9UdXJuIG9uL29mZlxyXG4gICAgc3RhdGljIG1vdmU6IGJvb2xlYW47XHJcbiAgICBzdGF0aWMgcmVzaXplOmJvb2xlYW47XHJcbiAgICBcclxuICAgIC8vQnV0dG9uc1xyXG4gICAgcHJpdmF0ZSBjbGlja2VkTWFpbkJveDpidXR0b25EYXRhW107XHJcbiAgICBwcml2YXRlIGNsaWNrZWRJQm94OmJ1dHRvbkRhdGFbXTtcclxuICAgIHByaXZhdGUgY2xpY2tlZEltZzpidXR0b25EYXRhW107XHJcbiAgICBwcml2YXRlIG1vdmVTdGF0ZU1lbnU6YnV0dG9uRGF0YVtdO1xyXG4gICAgcHJpdmF0ZSByc3pTdGF0ZU1lbnU6IGJ1dHRvbkRhdGFbXTtcclxuICAgIHByaXZhdGUgZWR0T3V0ZXJCb3hJdGVtOiBidXR0b25EYXRhW107XHJcbiAgICBwcml2YXRlIGVkdE91dGVyTWFpbkJveDogYnV0dG9uRGF0YVtdO1xyXG5cclxuICAgIC8vZGVwZW5kZWNpZXNcclxuICAgIHByb3RlY3RlZCBpbnB1dDpJbnB1dDtcclxuICAgIHByaXZhdGUgc3ViTWVudTogU3ViTWVudTtcclxuICAgXHJcblxyXG4gICAgY29uc3RydWN0b3IoaW5wdXQ6SW5wdXQsIHN1Yk1lbnU6IFN1Yk1lbnUpeyAgIFxyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5pbnB1dCA9IGlucHV0O1xyXG4gICAgICAgIHRoaXMuc3ViTWVudSA9IHN1Yk1lbnU7XHJcblxyXG4gICAgICAgIC8vTWFpbiBib3ggXHJcbiAgICAgICAgdGhpcy5jbGlja2VkTWFpbkJveCA9IFtcclxuICAgICAgICAgICAge2lkOiAnYWRkJywgdHlwZTonYnV0dG9uJywgdGV4dCA6J0FkZCcsbm90Q2xvc2U6J2RvTm90Q2xvc2UnLCBzdWJNZW51OltcclxuICAgICAgICAgICAgICAgIHtpZDogJ2FkZC1pbm5lckJveC1zdWJNZW51LXJhZGlvJywgdHlwZTonYnV0dG9uJywgdGV4dCA6J0FkZCBpbm5lciBib3gnfSxcclxuICAgICAgICAgICAgICAgIHtpZDogJ2FkZC1pbWFnZUl0ZW0nLCB0eXBlOidmaWxlJywgdGV4dCA6J0FkZCBpbWFnZScsXHJcbiAgICAgICAgICAgICAgICAgICAgaW5wdXQ6e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogJ2ltYWdlX2lucHV0JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTonZmlsZScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjY2VwdDpcImltYWdlL2pwZWcsIGltYWdlLC9wbmdcIlxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF19LFxyXG4gICAgICAgICAgICB7aWQ6ICdlZHQtbWFpbkJveCcsIHR5cGU6J2J1dHRvbicsIHRleHQgOidFZGl0IG1haW4gYm94Jywgbm90Q2xvc2U6J2RvTm90Q2xvc2UnLHN1Yk1lbnU6W1xyXG4gICAgICAgICAgICAgICAgICAgIHtpZDogJ2VkdC1tYWluQm94LXBzdG4tc3ViTWVudS1yYWRpb1BzdG5Cb3gnLCB0eXBlOididXR0b24nLCB0ZXh0IDonRWRpdCBwb3NpdGlvbid9LFxyXG4gICAgICAgICAgICAgICAgICAgIHtpZDogJ2VkdC1tYWluQm94LWRyY3RuLXN1Yk1lbnUtcmFkaW8nLCB0eXBlOididXR0b24nLCB0ZXh0IDonRWRpdCBkaXJlY3Rpb24nfSxcclxuICAgICAgICAgICAgICAgICAgICB7aWQ6ICdhZGQtbWFpbkJveC1iY2tncm5kLXN1Yk1lbnUtYnR0bicsIHR5cGU6J2ZpbGUnLCB0ZXh0IDonQmFja2dyb3VuZCcgfSxcclxuICAgICAgICAgICAgXX0sXHJcbiAgICAgICAgXTtcclxuXHJcbiAgICAgICAgLy9Cb3ggaXRlbVxyXG4gICAgICAgIHRoaXMuY2xpY2tlZElCb3ggPSBbXHJcbiAgICAgICAgICAgIHtpZDogJ2VkdC1ib3gnLCB0eXBlOididXR0b24nLCB0ZXh0IDonRWRpdCBib3gnLCBub3RDbG9zZTonZG9Ob3RDbG9zZScsIHN1Yk1lbnU6W1xyXG4gICAgICAgICAgICAgICAge2lkOiAnYWRkLWJveC1iY2tncm5kLXN1Yk1lbnUtYnR0bicsIHR5cGU6J2ZpbGUnLCB0ZXh0IDonQmFja2dyb3VuZCcgfSxcclxuICAgICAgICAgICAgICAgIHtpZDogJ3Jzei1pdGVtLXBpeGVsLXN1Yk1lbnUtYnR0bicsIHR5cGU6J2J1dHRvbicsIHRleHQgOidQaXhlbCByZXNpemUnfSxcclxuICAgICAgICAgICAgICAgIHtpZDogJ3Jzei1pdGVtLXBlcmNlbnQtc3ViTWVudS1yYWRpbycsIHR5cGU6J2J1dHRvbicsIHRleHQgOidQZXJjZW50IHJlc2l6ZSd9LFxyXG4gICAgICAgICAgICAgICAge2lkOiAnZWR0LWJveC1wc3RuLXN1Yk1lbnUtcmFkaW9Qc3RuQm94JywgdHlwZTonYnV0dG9uJywgdGV4dCA6J0VkaXQgcG9zaXRpb24nfSxcclxuICAgICAgICAgICAgICAgIHtpZDogJ2VkdC1ib3gtZHJjdG4tc3ViTWVudS1yYWRpbycsIHR5cGU6J2J1dHRvbicsIHRleHQgOidFZGl0IGRpcmVjdGlvbid9LFxyXG4gICAgICAgICAgICAgICAge2lkOiAnZWR0LWJveC1ncm93LXN1Yk1lbnUtcmFkaW8nLCB0eXBlOididXR0b24nLCB0ZXh0OidFZGl0IGdyb3cnfSxcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBdfSxcclxuICAgICAgICAgICAge2lkOiAnZWR0LW91dGVyQm94JywgdHlwZTonYnV0dG9uJywgdGV4dCA6J0VkaXQgb3V0ZXIgQk9YJyxub3RDbG9zZTonZG9Ob3RDbG9zZScsIHN1Yk1lbnU6W119LFxyXG4gICAgICAgICAgICB7aWQ6ICdhZGQnLCB0eXBlOididXR0b24nLCB0ZXh0IDonQWRkJywgbm90Q2xvc2U6J2RvTm90Q2xvc2UnLCBzdWJNZW51OltcclxuICAgICAgICAgICAgICAgIHtpZDogJ2FkZC1pbm5lckJveC1zdWJNZW51LXJhZGlvJywgdHlwZTonYnV0dG9uJywgdGV4dCA6J0FkZCBpbm5lciBib3gnfSxcclxuICAgICAgICAgICAgICAgIHtpZDogJ2FkZC1vdXRlckJveC1zdWJNZW51LXJhZGlvJywgdHlwZTonYnV0dG9uJywgdGV4dCA6J0FkZCBvdXRlciBib3gnfSxcclxuICAgICAgICAgICAgICAgIHtpZDogJ2FkZC1pbWFnZUl0ZW0nLCB0eXBlOidmaWxlJywgdGV4dCA6J0FkZCBpbWFnZScsXHJcbiAgICAgICAgICAgICAgICAgICAgaW5wdXQ6e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogJ2ltYWdlX2lucHV0JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTonZmlsZScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjY2VwdDpcImltYWdlL2pwZWcsIGltYWdlLC9wbmdcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIF19LFxyXG4gICAgICAgICAgICB7aWQ6ICdtb3ZlLWl0ZW0nLCB0eXBlOididXR0b24nLCB0ZXh0IDonTW92ZSBib3gnfSxcclxuICAgICAgICAgICAge2lkOiAncm12JywgdHlwZTonYnV0dG9uJywgdGV4dCA6J1JlbW92ZScsIG5vdENsb3NlOidkb05vdENsb3NlJywgc3ViTWVudTpbXHJcbiAgICAgICAgICAgICAgICB7aWQ6ICdybXYtYm94SXRlbScsIHR5cGU6J2J1dHRvbicsIHRleHQgOidSZW1vdmUgaXRlbSBib3gnfSxcclxuICAgICAgICAgICAgICAgIHtpZDogJ3Jtdi1ib3hJdGVtLWFsbCcsIHR5cGU6J2J1dHRvbicsIHRleHQgOidSZW1vdmUgaXRlbSBib3ggYW5kIGFsbCBpbiBpdCd9XHJcblxyXG4gICAgICAgICAgICBdfSxcclxuICAgICAgICBdO1xyXG5cclxuICAgICAgICAvL0VkaXQgb3V0ZXIgYm94IHN1Ym1lbnUgc2UgbXVzw60gdHZvxZlpdCBcclxuICAgICAgICB0aGlzLmVkdE91dGVyQm94SXRlbSA9IFtcclxuICAgICAgICAgICAge2lkOiAnYWRkLW91dGVyQm94LWJja2dybmQtc3ViTWVudS1idHRuJywgdHlwZTonYnV0dG9uJywgdGV4dCA6J0JhY2tncm91bmQnfSxcclxuICAgICAgICAgICAge2lkOiAncnN6LW91dGVyQm94LXBpeGVsLXN1Yk1lbnUtYnR0bicsIHR5cGU6J2J1dHRvbicsIHRleHQgOidQaXhlbCByZXNpemUnfSxcclxuICAgICAgICAgICAge2lkOiAncnN6LW91dGVyQm94LXBlcmNlbnQtc3ViTWVudS1yYWRpbycsIHR5cGU6J2J1dHRvbicsIHRleHQgOidQZXJjZW50IHJlc2l6ZSd9LFxyXG4gICAgICAgICAgICB7aWQ6ICdlZHQtb3V0ZXJCb3gtcHN0bi1zdWJNZW51LXJhZGlvUHN0bkJveCcsIHR5cGU6J2J1dHRvbicsIHRleHQgOidFZGl0IHBvc2l0aW9uJ30sXHJcbiAgICAgICAgICAgIHtpZDogJ2VkdC1vdXRlckJveC1kcmN0bi1zdWJNZW51LXJhZGlvJywgdHlwZTonYnV0dG9uJywgdGV4dCA6J0VkaXQgZGlyZWN0aW9uJ30sXHJcbiAgICAgICAgICAgIHtpZDogJ2VkdC1vdXRlckJveC1ncm93LXN1Yk1lbnUtcmFkaW8nLCB0eXBlOididXR0b24nLCB0ZXh0OidFZGl0IGdyb3cnfSxcclxuICAgICAgICBdO1xyXG5cclxuICAgICAgICB0aGlzLmVkdE91dGVyTWFpbkJveCA9IFtcclxuICAgICAgICAgICAge2lkOiAnZWR0LW91dGVyTWFpbkJveC1wc3RuLXN1Yk1lbnUtcmFkaW9Qc3RuQm94JywgdHlwZTonYnV0dG9uJywgdGV4dCA6J0VkaXQgcG9zaXRpb24nfSxcclxuICAgICAgICAgICAge2lkOiAnZWR0LW91dGVyTWFpbkJveC1kcmN0bi1zdWJNZW51LXJhZGlvJywgdHlwZTonYnV0dG9uJywgdGV4dCA6J0VkaXQgZGlyZWN0aW9uJ30sXHJcbiAgICAgICAgXTtcclxuXHJcbiAgICAgICAgLy9JbWFnZSBpdGVtXHJcbiAgICAgICAgdGhpcy5jbGlja2VkSW1nID0gW1xyXG4gICAgICAgICAgICB7aWQ6ICdlZHQnLCB0eXBlOididXR0b24nLCB0ZXh0IDonRWRpdCBpbWFnZScsbm90Q2xvc2U6J2RvTm90Q2xvc2UnLCBzdWJNZW51OltcclxuICAgICAgICAgICAgICAgIHtpZDogJ3Jzei1pdGVtLXBlcmNlbnQtc3ViTWVudS1yYWRpbycsIHR5cGU6J2J1dHRvbicsIHRleHQgOidQZXJjZW50IHJlc2l6ZSd9LFxyXG4gICAgICAgICAgICAgICAge2lkOiAnZWR0LWltZy1wc3RuLXN1Yk1lbnUtcmFkaW9Qc3RuSW1nJywgdHlwZTonYnV0dG9uJywgdGV4dCA6J0VkaXQgcG9zaXRpb24nfSxcclxuICAgICAgICAgICAgXX0sXHJcbiAgICAgICAgICAgIHtpZDogJ2VkdC1vdXRlckJveCcsIHR5cGU6J2J1dHRvbicsIHRleHQgOidFZGl0IG91dGVyIEJPWCcsbm90Q2xvc2U6J2RvTm90Q2xvc2UnLCBzdWJNZW51OltdfSxcclxuICAgICAgICAgICAge2lkOiAnYWRkLW91dGVyQm94LXN1Yk1lbnUtcmFkaW8nLCB0eXBlOididXR0b24nLCB0ZXh0IDonQWRkIG91dGVyIGJveCd9LFxyXG4gICAgICAgICAgICB7aWQ6ICdtb3ZlLWl0ZW0nLCB0eXBlOididXR0b24nLCB0ZXh0IDonTW92ZSBpbWFnZSd9LFxyXG4gICAgICAgICAgICB7aWQ6ICdybXYtaW1hZ2VJdGVtJywgdHlwZTonYnV0dG9uJywgdGV4dCA6J1JlbW92ZSBpbWFnZSd9XHJcbiAgICAgICAgXTtcclxuICAgICAgICBcclxuICAgICAgICAvL01vdmUgc3RhdGUgbWVudVxyXG4gICAgICAgIHRoaXMubW92ZVN0YXRlTWVudSA9IFtcclxuICAgICAgICAgICAge2lkOiAnbW92ZS1pdGVtLWhlcmUnLCB0eXBlOididXR0b24nLCB0ZXh0IDonTW92ZSBpdGVtIGhlcmUnfSxcclxuICAgICAgICAgICAge2lkOiAnbW92ZS1lbmQnLCB0eXBlOididXR0b24nLCB0ZXh0IDonQ2FuY2VsIG1vdmluZyd9LFxyXG4gICAgICAgIF07XHJcbiAgICAgICAgdGhpcy5yc3pTdGF0ZU1lbnUgPSBbXHJcbiAgICAgICAgICAgIHtpZDogJ3Jzei1pdGVtLXBpeGVsJywgdHlwZTonYnV0dG9uJywgdGV4dCA6J1NhdmUgcmVzaXplZCBpdGVtJ30sXHJcbiAgICAgICAgICAgIHtpZDogJ3Jzei1pdGVtLXBpeGVsLWVuZCcsIHR5cGU6J2J1dHRvbicsIHRleHQgOidDYW5jZWwgcmVzaXplJ30sXHJcbiAgICAgICAgXTtcclxuICAgICAgICBcclxuXHJcbiAgICAgICAgXHJcblxyXG4gICAgICAgIFxyXG5cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2hvd0hpZGVJdGVtTWVudShpdGVtTWVudTpJdGVtTWVudSl7XHJcbiAgICAgICAgcmV0dXJuKGU6RXZlbnQpPT4ge1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy9wcm8gb2RsacWhZW7DrSB2w61jZSBtZW51LCB6bcSbxYggaWQgbmFwxZkuIG5hIGNvbWljc0l0ZW1NZW51IGFwb2QuXHJcbiAgICAgICAgICAgIGlmKCEoPEhUTUxFbGVtZW50PmUudGFyZ2V0KS5jbGFzc0xpc3QuY29udGFpbnMoc3R5bGVzLml0ZW1NZW51KSApe1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IGV2VGFyZ2V0ID0gKDxIVE1MRWxlbWVudD5lLnRhcmdldCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhS2luZCA9IGV2VGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1raW5kJyk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjb21pY3MgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29taWNzJyk7XHJcbiAgICAgICAgICAgICAgICAvL3Z5dHZvxZlpdCBvYmpla3QgSXRlbU1lbnUsIGFzaSBzdGF0aWNrw70sIHZlIGt0ZXLDqW0gc2UgcMWZZWTDoSBhcmd1bWVudCAnbW92ZScsIGt0ZXLDvSBcclxuICAgICAgICAgICAgICAgIC8vdiBtZW51IHNpZ25hbGl6dWplLCBhdCBzZSBuZXpvYnJhenVqZSBrbGFzaWNrw6kgbWVudSwgYWxlIGplbiBidXR0b24gcHJvIHVrb27EjWVuw60gbW92ZSBha2NlXHJcbiAgICAgICAgICAgICAgICBpZiAoSXRlbU1lbnUucmVzaXplKSB7XHJcbiAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICBpZigoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vcG9rdWQgamUgZXZUYXJnZXQgcG90b21rZW0ga29taWtzdSBhIG5lbcOhIGlkIHJlc2l6ZXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29taWNzPy5jb250YWlucyhldlRhcmdldCkgJiYgZXZUYXJnZXQuaWQgIT09ICdyZXNpemVyJykgJiYgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICFjb21pY3MuY2xhc3NMaXN0LmNvbnRhaW5zKCdoYXNOYXZSc3onKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtTWVudS5ybXZJdGVtTWVudShjb21pY3MsICdoYXNOYXZSc3onKTtcclxuICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3RyaWdnZXJpZCcsIGV2VGFyZ2V0LmlkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29taWNzLmNsYXNzTGlzdC5hZGQoJ2hhc05hdlJzeicpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbU1lbnUuc2hvd1N0YXRlTWVudShlLGNvbWljcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChjb21pY3Mpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgaXRlbU1lbnVOYXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaXRlbU1lbnUnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoaXRlbU1lbnVOYXYpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIWl0ZW1NZW51TmF2LmNsYXNzTGlzdC5jb250YWlucyhzdHlsZXMuaGlkZSkpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1NZW51LmhpZGVJdGVtTWVudShjb21pY3MsIGl0ZW1NZW51TmF2LCAnaGFzTmF2UnN6Jyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoSXRlbU1lbnUubW92ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgaWYoKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBldlRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2NvbWljcycpIHx8IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBldlRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2l0ZW0nKSB8fCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXZUYXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdtYXRlcmlhbCcpKSAmJiBcclxuICAgICAgICAgICAgICAgICAgICAgICAgIWV2VGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhzdHlsZXMuaGFzTmF2TW92ZSkvKiAhaXRlbU5hdlswXSAqLyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1NZW51LnJtdkl0ZW1NZW51KGV2VGFyZ2V0LCBzdHlsZXMuaGFzTmF2TW92ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vb3V0bGluZSBzZSBuYWTDoSBwxZllYsO9dCwgdGFrxb5lIHNlIG11c8OtIG9kc3RyYW5pdCBtb3ZlQm94IHDFmWVkIHDFmWlkw6Fuw61tIGhhc05hdk1vdmVcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXZUYXJnZXQuY2xhc3NMaXN0LnJlbW92ZShzdHlsRWRpdG9yLm1vdmVCb3gpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBldlRhcmdldC5jbGFzc0xpc3QuYWRkKHN0eWxlcy5oYXNOYXZNb3ZlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbU1lbnUuc2hvd1N0YXRlTWVudShlLGV2VGFyZ2V0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByZXZJdGVtSWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncHJldkl0ZW0nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHByZXZJdGVtO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJldkl0ZW1JZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldkl0ZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChwcmV2SXRlbUlkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJldkl0ZW0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChkYXRhS2luZCA9PT0gJ2ltYWdlSXRlbScgfHwgZGF0YUtpbmQgPT09ICdib3hJdGVtJykgJiYgcHJldkl0ZW0udGFnTmFtZSAhPT0gJ0lNRycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2SXRlbS5jbGFzc0xpc3QuYWRkKHN0eWxFZGl0b3IubW92ZUJveCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3ByZXZJdGVtJywgZXZUYXJnZXQuaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgaXRlbU1lbnVOYXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaXRlbU1lbnUnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoaXRlbU1lbnVOYXYpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIWl0ZW1NZW51TmF2LmNsYXNzTGlzdC5jb250YWlucyhzdHlsZXMuaGlkZSkpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1NZW51LmhpZGVJdGVtTWVudShldlRhcmdldCwgaXRlbU1lbnVOYXYsIHN0eWxlcy5oYXNOYXZNb3ZlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihkYXRhS2luZCAhPT0gJ2ltYWdlSXRlbScpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2VGFyZ2V0LmNsYXNzTGlzdC5hZGQoc3R5bEVkaXRvci5tb3ZlQm94KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIC8vcG9rdWQgamUgdGFyZ2V0IGl0ZW0gYSBqZcWhdMSbIG5lbcOhIG1lbnVcclxuICAgICAgICAgICAgICAgICAgICBpZiAoKFxyXG4gICAgICAgICAgICAgICAgICAgIGV2VGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnY29taWNzJykgfHwgXHJcbiAgICAgICAgICAgICAgICAgICAgZXZUYXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdpdGVtJykgfHwgXHJcbiAgICAgICAgICAgICAgICAgICAgZXZUYXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdtYXRlcmlhbCcpIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgZXZUYXJnZXQuaWQgPT09ICdlZHQtaW1nLXBzdG4tc3ViTWVudS1yYWRpb1BzdG5JbWcnIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgZXZUYXJnZXQuaWQgPT09ICdhZGQtb3V0ZXJCb3gtc3ViTWVudS1yYWRpbycgfHxcclxuICAgICAgICAgICAgICAgICAgICBldlRhcmdldC5pZCA9PT0gJ2FkZC1pbm5lckJveC1zdWJNZW51LXJhZGlvJyB8fFxyXG4gICAgICAgICAgICAgICAgICAgIGV2VGFyZ2V0LmlkID09PSAnZWR0LWJveC1wc3RuLXN1Yk1lbnUtcmFkaW9Qc3RuQm94JyB8fCBcclxuICAgICAgICAgICAgICAgICAgICBldlRhcmdldC5pZCA9PT0gJ2VkdC1vdXRlckJveC1kcmN0bi1zdWJNZW51LXJhZGlvJyB8fCBcclxuICAgICAgICAgICAgICAgICAgICBldlRhcmdldC5pZCA9PT0gJ3Jzei1pdGVtLXBpeGVsLXN1Yk1lbnUtYnR0bicgfHwgXHJcbiAgICAgICAgICAgICAgICAgICAgZXZUYXJnZXQuaWQgPT09ICdlZHQtYm94LWdyb3ctc3ViTWVudS1yYWRpbycgfHwgXHJcbiAgICAgICAgICAgICAgICAgICAgZXZUYXJnZXQuaWQgPT09ICdlZHQtb3V0ZXJCb3gtZ3Jvdy1zdWJNZW51LXJhZGlvJyB8fCBcclxuICAgICAgICAgICAgICAgICAgICBldlRhcmdldC5pZCA9PT0gJ3Jzei1pdGVtLXBlcmNlbnQtc3ViTWVudS1yYWRpbycgfHwgXHJcbiAgICAgICAgICAgICAgICAgICAgZXZUYXJnZXQuaWQgPT09ICdyc3otb3V0ZXJCb3gtcGVyY2VudC1zdWJNZW51LXJhZGlvJyB8fCBcclxuICAgICAgICAgICAgICAgICAgICBldlRhcmdldC5pZCA9PT0gJ3Jzei1vdXRlckJveC1waXhlbC1zdWJNZW51LWJ0dG4nIHx8IFxyXG4gICAgICAgICAgICAgICAgICAgIGV2VGFyZ2V0LmlkID09PSAnZWR0LW91dGVyTWFpbkJveC1kcmN0bi1zdWJNZW51LXJhZGlvJyB8fCBcclxuICAgICAgICAgICAgICAgICAgICBldlRhcmdldC5pZCA9PT0gJ2VkdC1ib3gtZHJjdG4tc3ViTWVudS1yYWRpbycgfHwgXHJcbiAgICAgICAgICAgICAgICAgICAgZXZUYXJnZXQuaWQgPT09ICdlZHQtbWFpbkJveC1kcmN0bi1zdWJNZW51LXJhZGlvJyB8fCBcclxuICAgICAgICAgICAgICAgICAgICBldlRhcmdldC5pZCA9PT0gJ2VkdC1vdXRlckJveC1wc3RuLXN1Yk1lbnUtcmFkaW9Qc3RuQm94JyB8fCBcclxuICAgICAgICAgICAgICAgICAgICBldlRhcmdldC5pZCA9PT0gJ2VkdC1vdXRlck1haW5Cb3gtcHN0bi1zdWJNZW51LXJhZGlvUHN0bkJveCcgfHwgXHJcbiAgICAgICAgICAgICAgICAgICAgZXZUYXJnZXQuaWQgPT09ICdhZGQtYm94LWJja2dybmQtc3ViTWVudS1idHRuJyB8fCBcclxuICAgICAgICAgICAgICAgICAgICBldlRhcmdldC5pZCA9PT0gJ2FkZC1vdXRlckJveC1iY2tncm5kLXN1Yk1lbnUtYnR0bicgfHwgXHJcbiAgICAgICAgICAgICAgICAgICAgZXZUYXJnZXQuaWQgPT09ICdhZGQtbWFpbkJveC1iY2tncm5kLXN1Yk1lbnUtYnR0bicgfHwgXHJcbiAgICAgICAgICAgICAgICAgICAgZXZUYXJnZXQuaWQgPT09ICdlZHQtbWFpbkJveC1wc3RuLXN1Yk1lbnUtcmFkaW9Qc3RuQm94JykgJiYgXHJcbiAgICAgICAgICAgICAgICAgICAgIWV2VGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhzdHlsZXMuaGFzTmF2KS8qICFpdGVtTmF2WzBdICovIFxyXG4gICAgICAgICAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9wb2t1ZCBqZSBvdGV2xZllbsOpIG1lbnUgdiBpdGVtdSwgYWxlIGtsaWtuZSBzZSBwbyBkcnVow6kgbmEgamluw70gaXRlbSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9vZHN0cmFuw60gZXhpc3R1asOtY8OtIG1lbnUgbmXFviBzZSB2eXR2b8WZw60gbm92w6kgdiBkcnVow6ltIGl0ZW11XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1NZW51LnJtdkl0ZW1NZW51KGV2VGFyZ2V0LCBzdHlsZXMuaGFzTmF2KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoKGV2VGFyZ2V0LmlkID09PSAnYWRkLW1haW5Cb3gtYmNrZ3JuZC1zdWJNZW51LWJ0dG4nKSB8fChldlRhcmdldC5pZCA9PT0gJ2FkZC1vdXRlckJveC1iY2tncm5kLXN1Yk1lbnUtYnR0bicpIHx8KGV2VGFyZ2V0LmlkID09PSAnYWRkLWJveC1iY2tncm5kLXN1Yk1lbnUtYnR0bicpIHx8KGV2VGFyZ2V0LmlkID09PSAnZWR0LW91dGVyQm94LXBzdG4tc3ViTWVudS1yYWRpb1BzdG5Cb3gnKSB8fCAoZXZUYXJnZXQuaWQgPT09ICdlZHQtb3V0ZXJCb3gtcHN0bi1zdWJNZW51LXJhZGlvUHN0bkJveCcpfHwoZXZUYXJnZXQuaWQgPT09ICdlZHQtbWFpbkJveC1kcmN0bi1zdWJNZW51LXJhZGlvJyl8fChldlRhcmdldC5pZCA9PT0gJ2VkdC1vdXRlck1haW5Cb3gtZHJjdG4tc3ViTWVudS1yYWRpbycpfHwoZXZUYXJnZXQuaWQgPT09ICdlZHQtb3V0ZXJCb3gtZHJjdG4tc3ViTWVudS1yYWRpbycpIHx8KGV2VGFyZ2V0LmlkID09PSAnZWR0LW91dGVyQm94LWdyb3ctc3ViTWVudS1yYWRpbycpIHx8KGV2VGFyZ2V0LmlkID09PSAncnN6LW91dGVyQm94LXBlcmNlbnQtc3ViTWVudS1yYWRpbycpIHx8KGV2VGFyZ2V0LmlkID09PSAncnN6LW91dGVyQm94LXBpeGVsLXN1Yk1lbnUtYnR0bicpIHx8KGV2VGFyZ2V0LmlkID09PSAncnN6LWl0ZW0tcGVyY2VudC1zdWJNZW51LXJhZGlvJyl8fChldlRhcmdldC5pZCA9PT0gJ2VkdC1ib3gtZ3Jvdy1zdWJNZW51LXJhZGlvJyl8fChldlRhcmdldC5pZCA9PT0gJ2VkdC1ib3gtZHJjdG4tc3ViTWVudS1yYWRpbycpIHx8KGV2VGFyZ2V0LmlkID09PSAnYWRkLW91dGVyQm94LXN1Yk1lbnUtcmFkaW8nKSB8fCAoZXZUYXJnZXQuaWQgPT09ICdyc3otaXRlbS1waXhlbC1zdWJNZW51LWJ0dG4nKSB8fChldlRhcmdldC5pZCA9PT0gJ2FkZC1pbm5lckJveC1zdWJNZW51LXJhZGlvJykgfHwoZXZUYXJnZXQuaWQgPT09ICdlZHQtaW1nLXBzdG4tc3ViTWVudS1yYWRpb1BzdG5JbWcnKXx8IChldlRhcmdldC5pZCA9PT0gJ2VkdC1vdXRlckJveC1wcmVzZXQnKSB8fChldlRhcmdldC5pZCA9PT0gJ2VkdC1ib3gtcHN0bi1zdWJNZW51LXJhZGlvUHN0bkJveCcpIHx8IChldlRhcmdldC5pZCA9PT0gJ2VkdC1tYWluQm94LXBzdG4tc3ViTWVudS1yYWRpb1BzdG5Cb3gnKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtZW51VHJndElkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3RyaWdnZXJpZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYobWVudVRyZ3RJZCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWVudVRyZ3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChtZW51VHJndElkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVudVRyZ3QpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVudVRyZ3QuY2xhc3NMaXN0LmFkZChzdHlsZXMuaGFzTmF2KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0cmlnZ2VyaWQnLCBldlRhcmdldC5pZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldlRhcmdldC5jbGFzc0xpc3QuYWRkKHN0eWxlcy5oYXNOYXYpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtTWVudS5zaG93SXRlbU1lbnUoZSxldlRhcmdldCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYoIWV2VGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnZG9Ob3RDbG9zZScpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpdGVtTWVudU5hdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpdGVtTWVudScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKGl0ZW1NZW51TmF2KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihpdGVtTWVudU5hdil7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZighaXRlbU1lbnVOYXYuY2xhc3NMaXN0LmNvbnRhaW5zKHN0eWxlcy5oaWRlKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbU1lbnUuaGlkZUl0ZW1NZW51KGV2VGFyZ2V0LCBpdGVtTWVudU5hdiwgc3R5bGVzLmhhc05hdik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9ICAgXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlcyBmaXJzdCBsZXZlbCBtZW51XHJcbiAgICAgKiBAcGFyYW0gZSBcclxuICAgICAqIEBwYXJhbSBpdGVtSWQgdWtsw6Fkw6EgaWQgaXRlbXUsIG5hIGt0ZXLDqW0gYnlsbyB2eXZvbMOhbm8gbWVudVxyXG4gICAgICogQHBhcmFtIGJ1dHRvbkRhdGEgXHJcbiAgICAgKiBAcGFyYW0gdHJnZ3JQcm50S2luZCBcclxuICAgICAqIEByZXR1cm5zIFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGNyZWF0ZUl0ZW1NZW51KGU6RXZlbnQsIGl0ZW1JZDpzdHJpbmcsICBidXR0b25EYXRhOmJ1dHRvbkRhdGFbXSwgdHJnZ3JQcm50S2luZD86J2JveEl0ZW0nIHwnYm94Q29taWNzJ3wnYm94TWF0ZXJpYWwnKXtcclxuICAgICAgICAvL1NldHMgcmlnaHQgZWR0LW91dGVyQm94IHN1Ym1lbnUgYWNvcmRpbmcgdG8gcGFycmVudCBlbGVtZW50IGtpbmRcclxuICAgICAgICBpZiAodHJnZ3JQcm50S2luZCkge1xyXG4gICAgICAgICAgICBsZXQgaW5kZXggPSBidXR0b25EYXRhLmZpbmRJbmRleChidXR0b24gPT4gYnV0dG9uLmlkID09PSAnZWR0LW91dGVyQm94Jyk7XHJcbiAgICAgICAgICAgIGlmKGJ1dHRvbkRhdGFbaW5kZXhdLnN1Yk1lbnUpe1xyXG4gICAgICAgICAgICAgICAgaWYodHJnZ3JQcm50S2luZCA9PT0gJ2JveEl0ZW0nKXtcclxuICAgICAgICAgICAgICAgICAgICBidXR0b25EYXRhW2luZGV4XS5zdWJNZW51ID0gdGhpcy5lZHRPdXRlckJveEl0ZW07XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmKHRyZ2dyUHJudEtpbmQgPT09ICdib3hDb21pY3MnfHwgdHJnZ3JQcm50S2luZCA9PT0gJ2JveE1hdGVyaWFsJyl7XHJcbiAgICAgICAgICAgICAgICAgICAgYnV0dG9uRGF0YVtpbmRleF0uc3ViTWVudSA9IHRoaXMuZWR0T3V0ZXJNYWluQm94O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgbWVudSA9IHRoaXMuY3J0TmF2TWVudUJJKGJ1dHRvbkRhdGEsIHRoaXMubmF2RGF0YSwgc3R5bGVzLnN1Yk1lbnUsIHN0eWxlcy54X3JpZ2h0X3N1Yk1lbnUsIHN0eWxlcy55X2Rvd25fc3ViTWVudSwgJ2RvTm90Q2xvc2UnKTtcclxuICAgICAgICBcclxuICAgICAgICBtZW51LmNsYXNzTGlzdC5hZGQoc3R5bGVzLnN1Yk1lbnUpO1xyXG4gICAgICAgIHRoaXMucGxhY2VNZW51KGUsIG1lbnUsIHN0eWxlcy5pdGVtTWVudSwgc3R5bGVzLnhfcmlnaHRfc3ViTWVudSwgc3R5bGVzLnhfbGVmdF9zdWJNZW51LCBzdHlsZXMueV91cF9zdWJNZW51LCBzdHlsZXMueV9kb3duX3N1Yk1lbnUpO1xyXG4gICAgICAgXHJcbiAgICAgICAgXHJcbiAgICAgICAgbWVudS5zZXRBdHRyaWJ1dGUoJ2RhdGEtdHJpZ2dlcmlkJywgaXRlbUlkKTtcclxuICAgICAgICByZXR1cm4gbWVudTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGNobmdJdGVtTWVudShlOkV2ZW50LCBpdGVtTWVudTpIVE1MRWxlbWVudCwgaXRlbUlkOnN0cmluZywgYnV0dG9uRGF0YTpidXR0b25EYXRhW10pe1xyXG4gICAgICAgIGxldCBpdGVtTWVudUJ0dG5zID0gaXRlbU1lbnUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2J1dHRvbicpO1xyXG4gICAgICAgIGl0ZW1NZW51LnN0eWxlLnNldFByb3BlcnR5KCdsZWZ0JywgYCR7KDxNb3VzZUV2ZW50PmUpLnBhZ2VYIC0gODJ9cHhgKTtcclxuICAgICAgICBpdGVtTWVudS5zdHlsZS5zZXRQcm9wZXJ0eSgndG9wJywgYCR7KDxNb3VzZUV2ZW50PmUpLnBhZ2VZfXB4YCk7XHJcbiAgICAgICAgaXRlbU1lbnUuc2V0QXR0cmlidXRlKCdkYXRhLXRyaWdnZXJpZCcsIGl0ZW1JZCk7XHJcbiAgICAgICAgaXRlbU1lbnUuY2xhc3NMaXN0LnRvZ2dsZShzdHlsZXMuaGlkZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGhpZGVJdGVtTWVudShldlRhcmdldDpIVE1MRWxlbWVudCwgaXRlbU1lbnU6SFRNTEVsZW1lbnQsIGZvY3VzQ2xhc3M6c3RyaW5nKXtcclxuICAgICAgICBpdGVtTWVudS5jbGFzc0xpc3QuYWRkKHN0eWxlcy5oaWRlKTtcclxuICAgICAgICB0aGlzLnJtdkZvY3VzQ2xhc3MoZXZUYXJnZXQsIGl0ZW1NZW51LCBmb2N1c0NsYXNzKTsgXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZW1vdmVzIGl0ZW0gbWVudSBhbmQgY2xhc3MgaGFzTmF2LCB0aGF0IGRldGVybWluZXMgdG8gd2hpY2ggaXRlbSBtZW51IHdhcyBpbnZva2VkXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgcm12SXRlbU1lbnUoZXZUYXJnZXQ6SFRNTEVsZW1lbnQsIGZvY3VzQ2xhc3M6c3RyaW5nKXtcclxuICAgICAgICAvL2plIHYgZG9jdW1lbnR1IHRhZyBuYXYgcyB0w61tdG8gaWQ/XHJcbiAgICAgICAgY29uc3QgbmF2VGFnID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2l0ZW1NZW51Jyk7XHJcbiAgICAgICAgaWYobmF2VGFnKXtcclxuICAgICAgICAgICAgdGhpcy5ybXZGb2N1c0NsYXNzKGV2VGFyZ2V0LCBuYXZUYWcsIGZvY3VzQ2xhc3MpO1xyXG4gICAgICAgICAgICBuYXZUYWcucmVtb3ZlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVtb3ZlcyBjbGFzcyBoYXNOYXYgaW4gaXRlbSBhY2NvcmRpbmcgdG8gd2hldGhlciBldmVudCB0YXJnZXQgY29udGFpbnMgaGFzSGF2LHJlbW92ZXMgaXQgaW4gdGhpcyBldmVudFRhcmdldCxcclxuICAgICAqIG90aGVyd2lzZSBnZXQgaXRlbUlkIGluIG5hdmlnYXRpb24gYXRyaWJ1dGUgZGF0YS10cmlnZ2VyaWQgYW5kIHJlbW92ZXMgaGFzSXRlbSBpbiB0aGlzIGl0ZW1cclxuICAgICAqIEVsZW1lbnRzIG11c3QgaGF2ZSBpZCBhdHJpYnV0ZVxyXG4gICAgICogQHBhcmFtIG5hdlRhZyBcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBybXZGb2N1c0NsYXNzKGV2VGFyZ2V0OkhUTUxFbGVtZW50LCBuYXZUYWc6SFRNTEVsZW1lbnQsIGZvY3VzQ2xhc3M6c3RyaW5nKXtcclxuICAgICAgICAvL3Bva3VkIHNlIHpub3Z1IGtsaWtuZSBkbyBzdGVqbsOpaG8gZWxlbWVudHUsIGtkZSB1xb4gamUgb3RldsWZZW7DqSBtZW51LCBvZHN0cmFuIHYgbsSbbSB0xZnDrWR1IGhhc05hdlxyXG4gICAgICAgIGlmKChldlRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2l0ZW0nKSB8fCBldlRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2NvbWljcycpKSAmJiBldlRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoZm9jdXNDbGFzcykpe1xyXG4gICAgICAgICAgICBldlRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKGZvY3VzQ2xhc3MpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnemF2w61yw6FtIG1lbnUgcG9tb2PDrSBrb250cm9seSB0xZnDrWQnKVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICAvL3NwdXN0w60gc2UgcMWZaSBrbGlrbnV0w60gbmEgYnV0dG9uLCBrZGUgbmVuw60gaWQsIGFuaSBjbGFzcyBpdGVtIG5lYm8gY29taWNzLCBhIHRha8OpIHNlIHNwdXN0w60sa2R5xb4gamUgb3RldsWZZW7DqSBtZW51IG5hIGplZG5vbSBpdGVtdVxyXG4gICAgICAgICAgICAvL2Ega2xpa25lIHNlIG5hIGppbsO9IGl0ZW0sIHYgdHUgY2h2w61saSB0ZW50byBqaW7DvSBpdGVtIG5lbcOhIHTFmcOtZHUgaGFzTmF2IGEgamUgZXZlbnQgdGFyZ2V0ZW0sIHRha8W+ZSBwcm8gb2RzdHJhbsSbbsOtIHTFmcOtZHkgaGFzTmF2IFxyXG4gICAgICAgICAgICAvLyBuYSBwxZllY2hvesOtbSBpdGVtdSBzZSBtdXPDrSB2eXXFvsOtdCB6w6F6bmFtIGlkIGF0cmlidXR1IHRvaG90byBwxZllZGNob3rDrWhvIGl0ZW11IHYgdGFndSBuYXYgdiBhdHJpYnV0dSBkYXRhLXRyaWdnZXIgYSBvZHN0cmFuaXQgdMWZw61kdSBuYSBuxJttXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCd6YXbDrXLDoW0gbWVudSBwb21vY8OtIGRhdGEtdHJpZ2dlcmlkJylcclxuICAgICAgICAgICAgaWYoZXZUYXJnZXQuaWQgPT09ICdhZGQtYm94SXRlbS1wcmVzZXQnKXtcclxuICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGxldCB0cmlnZ2VySWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndHJpZ2dlcmlkJyk7XHJcbiAgICAgICAgICAgICAgICBpZih0cmlnZ2VySWQpe1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHByZXZNZW51SXRlbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRyaWdnZXJJZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJldk1lbnVJdGVtPy5jbGFzc0xpc3QucmVtb3ZlKGZvY3VzQ2xhc3MpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ2FsbGJhY2ssIHdoZW4gaXRlbSBpcyBjbGlja2VkLCBzaG93IGl0ZW0gbWVudVxyXG4gICAgICogQHBhcmFtIGUgXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzaG93SXRlbU1lbnUoZTpFdmVudCwgZXZUYXJnZXQ6SFRNTEVsZW1lbnQpe1xyXG4gICAgICAgICAgICBsZXQgbmF2OkhUTUxFbGVtZW50ID0gPEhUTUxFbGVtZW50Pnt9O1xyXG4gICAgICAgICAgICBjb25zdCBkYXRhS2luZCA9IGV2VGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1raW5kJyk7XHJcblxyXG4gICAgICAgICAgICBpZigoZGF0YUtpbmQgPT09ICdib3hDb21pY3MnKSB8fCAoZGF0YUtpbmQgPT09ICdib3hNYXRlcmlhbCcpIHx8KGRhdGFLaW5kID09PSAnaW1hZ2VJdGVtJyl8fCAoZGF0YUtpbmQgPT09ICdib3hJdGVtJykpe1xyXG4gICAgICAgICAgICAgICAgLy91bG96IHRyaWdnZXIgYW5kIHRyaWdnZXIgcGFyZW50IGlkIGFuZCBraW5kIGluIGxvY2FsIHN0b3JhZ2VcclxuICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0cmlnZ2VyaWQnLCBldlRhcmdldC5pZCk7XHJcbiAgICAgICAgICAgICAgICBsZXQgdHJnZ3JLaW5kID0gZXZUYXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLWtpbmQnKTtcclxuICAgICAgICAgICAgICAgIGlmICh0cmdncktpbmQpIHtcclxuICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndHJpZ2dlcmtpbmQnLCB0cmdncktpbmQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGxldCB0cmdnclBybnQgPSBldlRhcmdldC5wYXJlbnRFbGVtZW50O1xyXG4gICAgICAgICAgICAgICAgbGV0IHRyZ2dyUHJudEtpbmQ6IHN0cmluZyB8IG51bGwgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRyZ2dyUHJudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRyZ2dyUHJudEtpbmQgPSB0cmdnclBybnQuZ2V0QXR0cmlidXRlKCdkYXRhLWtpbmQnKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHJnZ3JQcm50S2luZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndHJnZ3JQcm50S2luZCcsIHRyZ2dyUHJudEtpbmQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBsZXQgdHJnZ3JQcm50SWQgPSB0cmdnclBybnQuaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3RyZ2dyUHJudElkJywgdHJnZ3JQcm50SWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vTWVudSBwYXJ0XHJcbiAgICAgICAgICAgICAgICAvL0ZpcnN0IGxldmVsIG9mIG1lbnVcclxuICAgICAgICAgICAgICAgIGlmKChkYXRhS2luZCA9PT0gJ2JveENvbWljcycgfHwgZGF0YUtpbmQgPT09ICdib3hNYXRlcmlhbCcpKXtcclxuICAgICAgICAgICAgICAgICAgICBuYXYgPSB0aGlzLmNyZWF0ZUl0ZW1NZW51KGUsIGV2VGFyZ2V0LmlkLCB0aGlzLmNsaWNrZWRNYWluQm94KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgaWYoZGF0YUtpbmQgPT09ICdpbWFnZUl0ZW0nKXtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHJnZ3JQcm50S2luZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHJnZ3JQcm50S2luZCA9PT0gJ2JveEl0ZW0nIHx8IHRyZ2dyUHJudEtpbmQgPT09ICdib3hDb21pY3MnIHx8IHRyZ2dyUHJudEtpbmQgPT09ICdib3hNYXRlcmlhbCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hdiA9IHRoaXMuY3JlYXRlSXRlbU1lbnUoZSwgZXZUYXJnZXQuaWQsIHRoaXMuY2xpY2tlZEltZywgdHJnZ3JQcm50S2luZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZihkYXRhS2luZCA9PT0gJ2JveEl0ZW0nKXtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHJnZ3JQcm50S2luZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHJnZ3JQcm50S2luZCA9PT0gJ2JveEl0ZW0nfHx0cmdnclBybnRLaW5kID09PSAnYm94Q29taWNzJyB8fCB0cmdnclBybnRLaW5kID09PSAnYm94TWF0ZXJpYWwnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYXYgPSB0aGlzLmNyZWF0ZUl0ZW1NZW51KGUsIGV2VGFyZ2V0LmlkLCB0aGlzLmNsaWNrZWRJQm94LCB0cmdnclBybnRLaW5kKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICAgICAgLy9TZWNvbmQgbGV2ZWwgb2YgbWVudVxyXG4gICAgICAgICAgICAgICAgbGV0IHN1Yk1lbnUgPSB0aGlzLnN1Yk1lbnUuY3J0U3ViTWVudShlLCBldlRhcmdldC5pZCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoc3ViTWVudSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG5hdiA9IHN1Yk1lbnU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGxldCByb290ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jvb3QnKTtcclxuICAgICAgICAgICAgcm9vdD8uYXBwZW5kQ2hpbGQobmF2KTtcclxuICAgICAgICBcclxuICAgIH1cclxuICAgIFxyXG4gICAgLyoqXHJcbiAgICAgKiBDYWxsYmFjaywgd2hlbiBpdGVtIGlzIGNsaWNrZWQsIHNob3cgaXRlbSBtZW51XHJcbiAgICAgKiBAcGFyYW0gZSBcclxuICAgICAqL1xyXG4gICAgcHVibGljIHNob3dTdGF0ZU1lbnUoZTpFdmVudCwgZXZUYXJnZXQ6SFRNTEVsZW1lbnQpe1xyXG4gICAgICAgIGlmIChcclxuICAgICAgICAoZXZUYXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLWtpbmQnKSA9PT0gJ2ltYWdlSXRlbScpIHx8IFxyXG4gICAgICAgIChldlRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEta2luZCcpID09PSAnYm94Q29taWNzJykgfHwgXHJcbiAgICAgICAgKGV2VGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1raW5kJykgPT09ICdib3hNYXRlcmlhbCcpIHx8IFxyXG4gICAgICAgIChldlRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEta2luZCcpID09PSAnYm94SXRlbScpXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGRhdGFLaW5kID0gZXZUYXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLWtpbmQnKTtcclxuXHJcbiAgICAgICAgICAgIGxldCBuYXY6SFRNTEVsZW1lbnQgPSA8SFRNTEVsZW1lbnQ+e307XHJcbiAgICAgICAgICAgIGlmIChJdGVtTWVudS5tb3ZlKSB7XHJcbiAgICAgICAgICAgICAgICBuYXYgPSB0aGlzLmNyZWF0ZUl0ZW1NZW51KGUsIGV2VGFyZ2V0LmlkLCB0aGlzLm1vdmVTdGF0ZU1lbnUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKEl0ZW1NZW51LnJlc2l6ZSkge1xyXG4gICAgICAgICAgICAgICAgbmF2ID0gdGhpcy5jcmVhdGVJdGVtTWVudShlLCBldlRhcmdldC5pZCwgdGhpcy5yc3pTdGF0ZU1lbnUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxldCByb290ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jvb3QnKTtcclxuICAgICAgICAgICAgcm9vdD8uYXBwZW5kQ2hpbGQobmF2KTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxufSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/editor/editorComponents/item/itemMenu/ItemMenu.ts\n");

/***/ }),

/***/ "./src/editor/editorComponents/item/itemMenu/subMenu/SubMenu.ts":
/*!**********************************************************************!*\
  !*** ./src/editor/editorComponents/item/itemMenu/subMenu/SubMenu.ts ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"SubMenu\": () => (/* binding */ SubMenu)\n/* harmony export */ });\n/* harmony import */ var _ItemMenu__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../ItemMenu */ \"./src/editor/editorComponents/item/itemMenu/ItemMenu.ts\");\n/* harmony import */ var _itemMenu_module_scss__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../itemMenu.module.scss */ \"./src/editor/editorComponents/item/itemMenu/itemMenu.module.scss\");\n/* harmony import */ var _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../common/localStorage/LocStorage */ \"./src/common/localStorage/LocStorage.ts\");\n/* harmony import */ var _HTMLComponents_menu_Menu__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./../../../../../HTMLComponents/menu/Menu */ \"./src/HTMLComponents/menu/Menu.ts\");\n/* harmony import */ var _common_error_locStorageError_ExistInLocStorageError__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../common/error/locStorageError/ExistInLocStorageError */ \"./src/common/error/locStorageError/ExistInLocStorageError.ts\");\n\r\n\r\n\r\n\r\n\r\nclass SubMenu extends _HTMLComponents_menu_Menu__WEBPACK_IMPORTED_MODULE_3__.Menu {\r\n    constructor(input) {\r\n        super();\r\n        this.input = input;\r\n        this.boxBckGrndBttns = [\r\n            { id: 'add-box-bckgrnd', type: 'button', text: 'Add background image',\r\n                input: {\r\n                    id: 'box-bckgrnd-input',\r\n                    type: 'file',\r\n                    accept: \"image/jpeg, image,/png\"\r\n                }\r\n            },\r\n            { id: 'rmv-box-bckgrnd', type: 'button', text: 'Remove background image' },\r\n        ];\r\n        this.outerBoxBckGrndBttns = [\r\n            { id: 'add-outerBox-bckgrnd', type: 'button', text: 'Add background image',\r\n                input: {\r\n                    id: 'outerBox-bckgrnd-input',\r\n                    type: 'file',\r\n                    accept: \"image/jpeg, image,/png\"\r\n                }\r\n            },\r\n            { id: 'rmv-outerBox-bckgrnd', type: 'button', text: 'Remove background image' },\r\n        ];\r\n        this.boxDrctnBttns = [\r\n            { id: 'horizontal', type: 'radio', name: 'drtn', value: 'horizontal', text: 'Horizontal' },\r\n            { id: 'vertical', type: 'radio', name: 'drtn', value: 'vertical', text: 'Vertical' },\r\n        ];\r\n        this.addGrowBttns = [\r\n            { id: 'grow', type: 'radio', name: 'grow', value: 'grow', text: 'Grow' },\r\n            { id: 'noGrow', type: 'radio', name: 'grow', value: 'noGrow', text: 'No grow' },\r\n        ];\r\n        this.addBoxMenu = [\r\n            { id: 'horizontal', type: 'radio', name: _ItemMenu__WEBPACK_IMPORTED_MODULE_0__.ItemMenu.flexDrctn, value: 'horizontal', text: 'Horizontal' },\r\n            { id: 'vertical', type: 'radio', name: _ItemMenu__WEBPACK_IMPORTED_MODULE_0__.ItemMenu.flexDrctn, value: 'vertical', text: 'Vertical', checked: 'checked' },\r\n            { id: 'grow', type: 'radio', name: _ItemMenu__WEBPACK_IMPORTED_MODULE_0__.ItemMenu.width, value: 'grow', text: 'Grow', checked: 'checked' },\r\n            { id: 'noGrow', type: 'radio', name: _ItemMenu__WEBPACK_IMPORTED_MODULE_0__.ItemMenu.width, value: 'noGrow', text: 'Fit content' },\r\n        ];\r\n        this.edtItem = [\r\n            { id: 'start', type: 'radio', name: 'ornt', value: 'fi-start', text: 'Start' },\r\n            { id: 'center', type: 'radio', name: 'ornt', value: 'fi-center', text: 'Center' },\r\n            { id: 'end', type: 'radio', name: 'ornt', value: 'fi-end', text: 'End' },\r\n            { id: 'stretch', type: 'radio', name: 'ornt', value: 'fi-stretch', text: 'Stretch' },\r\n            { id: 'none-as', type: 'radio', name: 'ornt', value: 'fi-none', text: 'None' },\r\n        ];\r\n        this.edtBoxItemsAi = [\r\n            { id: 'start-ai', type: 'radio', name: 'fb-ai', value: 'fb-ai-start', text: 'Start' },\r\n            { id: 'center-ai', type: 'radio', name: 'fb-ai', value: 'fb-ai-center', text: 'Center' },\r\n            { id: 'end-ai', type: 'radio', name: 'fb-ai', value: 'fb-ai-end', text: 'End' },\r\n            { id: 'stretch-ai', type: 'radio', name: 'fb-ai', value: 'fb-ai-stretch', text: 'Stretch' },\r\n        ];\r\n        this.edtBoxItemsJc = [\r\n            { id: 'start-jc', type: 'radio', name: 'fb-jc', value: 'fb-jc-start', text: 'Start' },\r\n            { id: 'center-jc', type: 'radio', name: 'fb-jc', value: 'fb-jc-center', text: 'Center' },\r\n            { id: 'end-jc', type: 'radio', name: 'fb-jc', value: 'fb-jc-end', text: 'End' },\r\n            { id: 'sBetween', type: 'radio', name: 'fb-jc', value: 'fb-jc-s_between', text: 'Space between' },\r\n            { id: 'sAround', type: 'radio', name: 'fb-jc', value: 'fb-jc-s_around', text: 'Space around' },\r\n            { id: 'sEvenly', type: 'radio', name: 'fb-jc', value: 'fb-jc-s_evenly', text: 'Space evenly' },\r\n        ];\r\n        this.fbRowTextAiAs = ['Top', 'Center', 'Down'];\r\n        this.fbColTextAiAs = ['Left', 'Center', 'Right'];\r\n        this.fbRowTextJc = ['Left', 'Center', 'Right'];\r\n        this.fbColTextJc = ['Top', 'Center', 'Down'];\r\n        this.rszItmBtns = [\r\n            { id: 'rsz-box-width', type: 'button', text: 'Resize width' },\r\n            { id: 'rsz-box-height', type: 'button', text: 'Resize height' },\r\n            { id: 'rsz-box-both', type: 'button', text: 'Resize both' },\r\n            { id: 'rsz-box-pxl', type: 'button', text: 'Resize with pixels' }\r\n        ];\r\n        this.rszOuterBoxBtns = [\r\n            { id: 'rsz-outerBox-width', type: 'button', text: 'Resize width' },\r\n            { id: 'rsz-outerBox-height', type: 'button', text: 'Resize height' },\r\n            { id: 'rsz-outerBox-both', type: 'button', text: 'Resize both' },\r\n            { id: 'rsz-outerBox-pxl', type: 'button', text: 'Resize with pixels' }\r\n        ];\r\n        this.rszItmPercentBtns = [\r\n            { id: 'x100', type: 'radio', name: 'width', value: 'x100', text: 'Width 100%' },\r\n            { id: 'x0', type: 'radio', name: 'width', value: 'x0', text: 'No % width' },\r\n            { id: 'y100', type: 'radio', name: 'height', value: 'y100', text: 'Height 100%' },\r\n            { id: 'y0', type: 'radio', name: 'height', value: 'y0', text: 'No % height' },\r\n        ];\r\n        //Submenu objects\r\n        this.radioSubMenus = [\r\n            { id: 'rsz-item-percent-subMenu-radio', radioData: { buttonData: this.rszItmPercentBtns, formId: 'boxItem-preset', submitId: 'rsz-item-percent', submitText: 'Change size', checkClas: ['width', 'height'] } },\r\n            { id: 'rsz-outerBox-percent-subMenu-radio', radioData: { buttonData: this.rszItmPercentBtns, formId: 'boxItem-preset', submitId: 'rsz-outerBox-percent', submitText: 'Change size', checkClas: ['width', 'height'], outerBox: true } },\r\n            { id: 'edt-box-grow-subMenu-radio', radioData: { buttonData: this.addGrowBttns, formId: 'boxItem-preset', submitId: 'edt-box-grow', submitText: 'Edit grow', checkClas: ['grow'] } },\r\n            { id: 'edt-outerBox-grow-subMenu-radio', radioData: { buttonData: this.addGrowBttns, formId: 'boxItem-preset', submitId: 'edt-outerBox-grow', submitText: 'Edit grow', checkClas: ['grow'], outerBox: true } },\r\n            { id: 'edt-box-drctn-subMenu-radio', radioData: { buttonData: this.boxDrctnBttns, formId: 'boxItem-preset', submitId: 'edt-box-drctn', submitText: 'Edit direction', checkClas: ['flexDrctn'] } },\r\n            { id: 'edt-outerBox-drctn-subMenu-radio', radioData: { buttonData: this.boxDrctnBttns, formId: 'boxItem-preset', submitId: 'edt-outerBox-drctn', submitText: 'Edit direction', checkClas: ['flexDrctn'], outerBox: true } },\r\n            { id: 'edt-mainBox-drctn-subMenu-radio', radioData: { buttonData: this.boxDrctnBttns, formId: 'boxItem-preset', submitId: 'edt-mainBox-drctn', submitText: 'Edit direction', checkClas: ['flexDrctn'] } },\r\n            { id: 'edt-outerMainBox-drctn-subMenu-radio', radioData: { buttonData: this.boxDrctnBttns, formId: 'boxItem-preset', submitId: 'edt-outerMainBox-drctn', submitText: 'Edit direction', checkClas: ['flexDrctn'], outerBox: true } },\r\n            { id: 'add-outerBox-subMenu-radio', radioData: { buttonData: this.addBoxMenu, formId: 'boxItem-preset', submitId: 'add-outerBoxItem', submitText: 'Create box' } },\r\n            { id: 'add-innerBox-subMenu-radio', radioData: { buttonData: this.addBoxMenu, formId: 'boxItem-preset', submitId: 'add-innerBoxItem', submitText: 'Create box' } },\r\n        ];\r\n        this.bttnSubMenus = [\r\n            { id: 'add-box-bckgrnd-subMenu-bttn', bttnData: this.boxBckGrndBttns },\r\n            { id: 'add-mainBox-bckgrnd-subMenu-bttn', bttnData: this.boxBckGrndBttns },\r\n            { id: 'add-outerBox-bckgrnd-subMenu-bttn', bttnData: this.outerBoxBckGrndBttns },\r\n            { id: 'rsz-item-pixel-subMenu-bttn', bttnData: this.rszItmBtns },\r\n            { id: 'rsz-outerBox-pixel-subMenu-bttn', bttnData: this.rszOuterBoxBtns },\r\n        ];\r\n        this.radioPstnBoxSubMenus = [\r\n            { id: 'edt-box-pstn-subMenu-radioPstnBox', radioPstnData: { aiBttns: this.edtBoxItemsAi, jcBttns: this.edtBoxItemsJc, submitId: 'edt-box-pstn', asBttns: this.edtItem, } },\r\n            { id: 'edt-outerBox-pstn-subMenu-radioPstnBox', radioPstnData: { aiBttns: this.edtBoxItemsAi, jcBttns: this.edtBoxItemsJc, submitId: 'edt-outerBox-pstn', asBttns: this.edtItem, outerBox: true } },\r\n            { id: 'edt-mainBox-pstn-subMenu-radioPstnBox', radioPstnData: { aiBttns: this.edtBoxItemsAi, jcBttns: this.edtBoxItemsJc, submitId: 'edt-mainBox-pstn' } },\r\n            { id: 'edt-outerMainBox-pstn-subMenu-radioPstnBox', radioPstnData: { aiBttns: this.edtBoxItemsAi, jcBttns: this.edtBoxItemsJc, submitId: 'edt-outerMainBox-pstn', asBttns: undefined, outerBox: true } },\r\n        ];\r\n        this.radioPstnImgSubMenus = [\r\n            {\r\n                id: 'edt-img-pstn-subMenu-radioPstnImg', radioPstnData: this.edtItem\r\n            }\r\n        ];\r\n    }\r\n    crtSubMenu(e, evTrgtId) {\r\n        let evTrgtIdCut = evTrgtId.split('-');\r\n        let subMenu = null;\r\n        if (evTrgtIdCut[evTrgtIdCut.length - 1] === 'radio') {\r\n            let subMenuObj = this.radioSubMenus.find(obj => obj.id === evTrgtId);\r\n            if (subMenuObj) {\r\n                const radioData = this.radioObjToArray(subMenuObj.radioData);\r\n                subMenu = this.crtRadioMenu(e, ...radioData);\r\n            }\r\n        }\r\n        if (evTrgtIdCut[evTrgtIdCut.length - 1] === 'bttn') {\r\n            let subMenuObj = this.bttnSubMenus.find(obj => obj.id === evTrgtId);\r\n            if (subMenuObj) {\r\n                const radioData = subMenuObj.bttnData;\r\n                subMenu = this.crtBttnMenu(e, radioData);\r\n            }\r\n        }\r\n        if (evTrgtIdCut[evTrgtIdCut.length - 1] === 'radioPstnBox') {\r\n            let subMenuObj = this.radioPstnBoxSubMenus.find(obj => obj.id === evTrgtId);\r\n            if (subMenuObj) {\r\n                const radioData = this.radioPstnObjToArray(subMenuObj.radioPstnData);\r\n                subMenu = this.crtBoxPstnMenu(e, ...radioData);\r\n            }\r\n        }\r\n        if (evTrgtIdCut[evTrgtIdCut.length - 1] === 'radioPstnImg') {\r\n            let subMenuObj = this.radioPstnImgSubMenus.find(obj => obj.id === evTrgtId);\r\n            if (subMenuObj) {\r\n                const radioData = subMenuObj.radioPstnData;\r\n                subMenu = this.crtImgPstnMenu(e, radioData);\r\n            }\r\n        }\r\n        return subMenu;\r\n    }\r\n    radioObjToArray(subMenuObj) {\r\n        return Object.values(subMenuObj);\r\n    }\r\n    radioPstnObjToArray(subMenuObj) {\r\n        return Object.values(subMenuObj);\r\n    }\r\n    crtBttnMenu(e, rszItmBtns) {\r\n        let menu = this.crtMenuBI(rszItmBtns, this.navData);\r\n        this.placeMenu(e, menu, _itemMenu_module_scss__WEBPACK_IMPORTED_MODULE_1__[\"default\"].itemMenu);\r\n        return menu;\r\n    }\r\n    /**\r\n     * Creates radio menu for new elements, with checked value in button or not\r\n     * @param e\r\n     * @param itemId ukládá id itemu, na kterém bylo vyvoláno mainMenu\r\n     * @returns\r\n     */\r\n    crtRadioMenu(e, buttonData, formId, submitId, submitText, checkClas, outerBox) {\r\n        if (checkClas) {\r\n            let triggerId;\r\n            if (outerBox) {\r\n                triggerId = localStorage.getItem('trggrPrntId');\r\n            }\r\n            else {\r\n                triggerId = localStorage.getItem('triggerid');\r\n            }\r\n            if (triggerId) {\r\n                const trigger = document.getElementById(triggerId);\r\n                if (trigger) {\r\n                    const trggrCtgr = trigger.getAttribute('data-category');\r\n                    if (trggrCtgr) {\r\n                        this.setInptChecked(trigger, trggrCtgr, buttonData, checkClas);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        const form = this.input.crtBoxItemForm(buttonData, formId, submitId, submitText, 'doNotClose');\r\n        const divElm = document.createElement('div');\r\n        divElm.setAttribute('id', 'itemMenu');\r\n        divElm.append(form);\r\n        this.placeMenu(e, divElm, _itemMenu_module_scss__WEBPACK_IMPORTED_MODULE_1__[\"default\"].itemMenu);\r\n        let itemId = localStorage.getItem('triggerid');\r\n        if (itemId) {\r\n            divElm.setAttribute('data-triggerid', itemId);\r\n        }\r\n        divElm.classList.add(_itemMenu_module_scss__WEBPACK_IMPORTED_MODULE_1__[\"default\"].itemMenu);\r\n        return divElm;\r\n    }\r\n    setInptChecked(affctdItm, affctdItmCategory, buttonData, checkClas) {\r\n        const items = _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_2__.LocStorage.getItems('items');\r\n        let ctgrData = null;\r\n        try {\r\n            ctgrData = _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_2__.LocStorage.getCtgr(items, affctdItmCategory);\r\n        }\r\n        catch (error) {\r\n            if (error instanceof _common_error_locStorageError_ExistInLocStorageError__WEBPACK_IMPORTED_MODULE_4__.ExistInLocStorageError) {\r\n                console.log(error.message, error.property);\r\n            }\r\n        }\r\n        if (ctgrData) {\r\n            //odstran predesle checked hodnoty  \r\n            buttonData.forEach(button => {\r\n                if (button.hasOwnProperty('checked')) {\r\n                    delete button.checked;\r\n                }\r\n            });\r\n            //nastav checked hodnoty podle posledních hodnot v paměti\r\n            let triggerData;\r\n            if (affctdItm.id === 'comics' || affctdItm.id === 'material') {\r\n                triggerData = ctgrData;\r\n            }\r\n            else {\r\n                triggerData = _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_2__.LocStorage.findItem(ctgrData.subItems, affctdItm.id);\r\n            }\r\n            if (triggerData) {\r\n                checkClas.forEach(clas => {\r\n                    triggerData.classes[clas].forEach(classs => {\r\n                        buttonData.forEach(button => {\r\n                            if (classs === button.value) {\r\n                                button.checked = 'checked';\r\n                            }\r\n                        });\r\n                    });\r\n                });\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     *\r\n     * @param e\r\n     * @param boxPstnBttnsDataAi Buttons data for align-items\r\n     * @param boxPstnBttnsDataJc Buttons data for justify-content\r\n     * @param affctdItmId Affected box id\r\n     * @param itemPstnBttnsData Buttons data for align-self, if affected box is also item\r\n     * @returns\r\n     */\r\n    crtBoxPstnMenu(e, boxPstnBttnsDataAi, boxPstnBttnsDataJc, submitId, itemPstnBttnsData, outerBox) {\r\n        let affctdItmId;\r\n        if (outerBox) {\r\n            affctdItmId = localStorage.getItem('trggrPrntId');\r\n        }\r\n        else {\r\n            affctdItmId = localStorage.getItem('triggerid');\r\n        }\r\n        let docFrgAll = document.createDocumentFragment();\r\n        let form = {};\r\n        let affctdItm = null;\r\n        if (affctdItmId) {\r\n            affctdItm = document.getElementById(affctdItmId);\r\n        }\r\n        if (affctdItm) {\r\n            const affctdItmCategory = affctdItm.getAttribute('data-category');\r\n            let docFrgGroup = document.createDocumentFragment();\r\n            let boxPstnBttnsAi = this.pstnOpt(affctdItm, affctdItmCategory, boxPstnBttnsDataAi, this.fbRowTextAiAs, this.fbColTextAiAs);\r\n            let div = document.createElement('div');\r\n            div.append(boxPstnBttnsAi);\r\n            let boxPstnBttnsJc = this.pstnOpt(affctdItm, affctdItmCategory, boxPstnBttnsDataJc, this.fbRowTextJc, this.fbColTextJc);\r\n            div.append(boxPstnBttnsJc);\r\n            div.classList.add(_itemMenu_module_scss__WEBPACK_IMPORTED_MODULE_1__[\"default\"].titleBoxRow);\r\n            docFrgGroup.append(div);\r\n            let boxPstnBttnsAiTitled = this.giveBttnsTitle(docFrgGroup, 'Position of internal items'); //tadyy\r\n            docFrgAll.append(boxPstnBttnsAiTitled);\r\n            //if box is also item\r\n            if (itemPstnBttnsData) {\r\n                let affctdItmPrnt = affctdItm.parentElement;\r\n                if (affctdItmPrnt) {\r\n                    let itemPstnBttns = this.pstnOpt(affctdItm, affctdItmCategory, itemPstnBttnsData, this.fbRowTextAiAs, this.fbColTextAiAs, affctdItmPrnt);\r\n                    let itemPstnBttnsTitled = this.giveBttnsTitle(itemPstnBttns, 'Item position');\r\n                    docFrgAll.append(itemPstnBttnsTitled);\r\n                    form = this.input.crtForm('edt-box-preset', submitId, 'Edit boxItem', docFrgAll);\r\n                }\r\n            }\r\n            //if box is kind main box that can not be position\r\n            else {\r\n                form = this.input.crtForm('edt-box-preset', submitId, 'Edit main box', docFrgAll);\r\n            }\r\n        }\r\n        //asi to bude chtít ještě jeden div, aby byli moznosti pozicovani vedle sebe\r\n        const divElm = document.createElement('div');\r\n        divElm.setAttribute('id', 'itemMenu');\r\n        divElm.append(form);\r\n        this.placeMenu(e, divElm, _itemMenu_module_scss__WEBPACK_IMPORTED_MODULE_1__[\"default\"].itemMenu);\r\n        if (affctdItmId) {\r\n            divElm.setAttribute('data-triggerid', affctdItmId);\r\n        }\r\n        return divElm;\r\n    }\r\n    /**\r\n * Sets text to radio buttons acording to flex direction fo trigger or parrent, sets chcecked values acording to memory and creates radio buttons menu\r\n * @param affctdItm\r\n * @param affctdItmCategory\r\n * @param boxPstnBttnsData\r\n * @param fbRowText\r\n * @param fbColText\r\n * @param affctdItmPrn\r\n * @returns\r\n */\r\n    pstnOpt(affctdItm, affctdItmCategory, boxPstnBttnsData, fbRowText, fbColText, affctdItmPrn) {\r\n        if (affctdItmPrn) {\r\n            this.setTxtToFbBttns(affctdItmPrn, boxPstnBttnsData, fbRowText, fbColText);\r\n        }\r\n        else {\r\n            this.setTxtToFbBttns(affctdItm, boxPstnBttnsData, fbRowText, fbColText);\r\n        }\r\n        this.setInptChecked(affctdItm, affctdItmCategory, boxPstnBttnsData, ['position']);\r\n        const boxPstnBttns = this.input.crtRadioBttn(boxPstnBttnsData, 'doNotClose');\r\n        const div = document.createElement('div');\r\n        div.classList.add(_itemMenu_module_scss__WEBPACK_IMPORTED_MODULE_1__[\"default\"].titleBoxCol);\r\n        div.append(boxPstnBttns);\r\n        const docFrg = document.createDocumentFragment();\r\n        docFrg.append(div);\r\n        return docFrg;\r\n    }\r\n    setTxtToFbBttns(affctdItm, buttonData, fbRowText, fbColText) {\r\n        //pokud je triggerPrnt flexBox direction colmn, jinak nemen pro direction row\r\n        if (affctdItm.classList.contains('vertical')) {\r\n            console.log('spoustim vertical edit');\r\n            fbColText.forEach((text, i) => {\r\n                buttonData[i].text = text;\r\n            });\r\n        }\r\n        else if (affctdItm.classList.contains('horizontal')) {\r\n            console.log('spoustim horizontal edit');\r\n            fbRowText.forEach((text, i) => {\r\n                buttonData[i].text = text;\r\n            });\r\n        }\r\n    }\r\n    /**\r\n* Creates item menu\r\n* @param e\r\n* @param itemId ukládá id itemu, na kterém bylo vyvoláno menu\r\n* @returns\r\n*/\r\n    crtImgPstnMenu(e, buttonData) {\r\n        let triggerId = localStorage.getItem('triggerid');\r\n        let docFrg = document.createDocumentFragment();\r\n        if (triggerId) {\r\n            const trigger = document.getElementById(triggerId);\r\n            if (trigger) {\r\n                let trggrPrnt = trigger.parentElement;\r\n                if (trggrPrnt) {\r\n                    const triggerCategory = trigger.getAttribute('data-category');\r\n                    let buttons = this.pstnOpt(trigger, triggerCategory, buttonData, this.fbRowTextAiAs, this.fbColTextAiAs, trggrPrnt);\r\n                    let buttonsTitled = this.giveBttnsTitle(buttons, 'Item position');\r\n                    docFrg.append(buttonsTitled);\r\n                }\r\n            }\r\n        }\r\n        let form = this.input.crtForm('imgItem-preset', 'edt-img-pstn', 'Edit image', docFrg, 'doNotClose');\r\n        const divElm = document.createElement('div');\r\n        divElm.setAttribute('id', 'itemMenu');\r\n        divElm.append(form);\r\n        this.placeMenu(e, divElm, _itemMenu_module_scss__WEBPACK_IMPORTED_MODULE_1__[\"default\"].itemMenu);\r\n        if (triggerId) {\r\n            divElm.setAttribute('data-triggerid', triggerId);\r\n        }\r\n        divElm.classList.add(_itemMenu_module_scss__WEBPACK_IMPORTED_MODULE_1__[\"default\"].itemMenu);\r\n        return divElm;\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZWRpdG9yL2VkaXRvckNvbXBvbmVudHMvaXRlbS9pdGVtTWVudS9zdWJNZW51L1N1Yk1lbnUudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBSXVDO0FBR007QUFDOEI7QUFFVjtBQUMyQztBQUdyRyxNQUFNLE9BQVEsU0FBUSwyREFBSTtJQThCN0IsWUFBWSxLQUFXO1FBQ25CLEtBQUssRUFBRSxDQUFDO1FBQ1IsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7UUFDbkIsSUFBSSxDQUFDLGVBQWUsR0FBRztZQUNuQixFQUFDLEVBQUUsRUFBRSxpQkFBaUIsRUFBRSxJQUFJLEVBQUMsUUFBUSxFQUFFLElBQUksRUFBQyxzQkFBc0I7Z0JBQzlELEtBQUssRUFBQztvQkFDRixFQUFFLEVBQUUsbUJBQW1CO29CQUN2QixJQUFJLEVBQUMsTUFBTTtvQkFDWCxNQUFNLEVBQUMsd0JBQXdCO2lCQUNsQzthQUNKO1lBQ0QsRUFBQyxFQUFFLEVBQUUsaUJBQWlCLEVBQUUsSUFBSSxFQUFDLFFBQVEsRUFBRSxJQUFJLEVBQUMseUJBQXlCLEVBQUM7U0FDekU7UUFDRCxJQUFJLENBQUMsb0JBQW9CLEdBQUc7WUFDeEIsRUFBQyxFQUFFLEVBQUUsc0JBQXNCLEVBQUUsSUFBSSxFQUFDLFFBQVEsRUFBRSxJQUFJLEVBQUMsc0JBQXNCO2dCQUNuRSxLQUFLLEVBQUM7b0JBQ0YsRUFBRSxFQUFFLHdCQUF3QjtvQkFDNUIsSUFBSSxFQUFDLE1BQU07b0JBQ1gsTUFBTSxFQUFDLHdCQUF3QjtpQkFDbEM7YUFDSjtZQUNELEVBQUMsRUFBRSxFQUFFLHNCQUFzQixFQUFFLElBQUksRUFBQyxRQUFRLEVBQUUsSUFBSSxFQUFDLHlCQUF5QixFQUFDO1NBQzlFO1FBQ0QsSUFBSSxDQUFDLGFBQWEsR0FBRztZQUNqQixFQUFDLEVBQUUsRUFBRSxZQUFZLEVBQUUsSUFBSSxFQUFDLE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBQyxZQUFZLEVBQUUs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QVMsRUFBQztZQUNULE1BQU0sQ0FBQyxZQUFZLENBQUMsZ0JBQWdCLEVBQUUsU0FBUyxDQUFDLENBQUM7U0FDcEQ7UUFDRCxNQUFNLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxzRUFBZSxDQUFDLENBQUM7UUFFdEMsT0FBTyxNQUFNLENBQUM7SUFFbEIsQ0FBQztDQUVKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY29taWNzLWVkaXRvci8uL3NyYy9lZGl0b3IvZWRpdG9yQ29tcG9uZW50cy9pdGVtL2l0ZW1NZW51L3N1Yk1lbnUvU3ViTWVudS50cz82MjQ2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IElucHV0IH0gZnJvbSBcIi4uLy4uLy4uLy4uLy4uL0hUTUxDb21wb25lbnRzL2lucHV0L0lucHV0XCI7XHJcbmltcG9ydCB7IHJhZGlvQnR0biB9IGZyb20gXCIuLi8uLi8uLi8uLi8uLi9IVE1MQ29tcG9uZW50cy9pbnB1dC9pbnB1dEludHJmY1wiO1xyXG5pbXBvcnQgeyBidXR0b25EYXRhIH0gZnJvbSBcIi4uLy4uLy4uLy4uLy4uL0hUTUxDb21wb25lbnRzL21lbnUvbWVudUludHJmY1wiO1xyXG5pbXBvcnQgeyBjdGdySWQgfSBmcm9tIFwiLi4vLi4vLi4vLi4vZWRpdG9yVHlwZXNcIjtcclxuaW1wb3J0IHsgSXRlbU1lbnUgfSBmcm9tIFwiLi4vSXRlbU1lbnVcIjtcclxuaW1wb3J0IHsgY2hlY2tDbGFzZXMgfSBmcm9tIFwiLi4vb2JqZWN0SW50ZXJmYWNlc1wiO1xyXG5pbXBvcnQgeyBidHRuU3ViTWVudSwgcmFkaW9NZW51LCByYWRpb1BzdG5Cb3hNZW51LCByYWRpb1BzdG5Cb3hTdWJNZW51LCByYWRpb1BzdG5JbWdTdWJNZW51LCByYWRpb1N1Yk1lbnUgfSBmcm9tICcuL29iamVjdEludGVyZmFjZXMnO1xyXG5pbXBvcnQgc3R5bGVzIGZyb20gJy4uL2l0ZW1NZW51Lm1vZHVsZS5zY3NzJztcclxuaW1wb3J0IHsgTG9jU3RvcmFnZSB9IGZyb20gXCIuLi8uLi8uLi8uLi8uLi9jb21tb24vbG9jYWxTdG9yYWdlL0xvY1N0b3JhZ2VcIjtcclxuaW1wb3J0IHsgYm94SXRlbUNsYXNzLCBpdGVtIH0gZnJvbSBcIi4uLy4uLy4uLy4uLy4uL2NvbW1vbi9sb2NhbFN0b3JhZ2Uvc3RvcmFnZUludGVyZmFjZXNcIjtcclxuaW1wb3J0IHsgTWVudSB9IGZyb20gJy4vLi4vLi4vLi4vLi4vLi4vSFRNTENvbXBvbmVudHMvbWVudS9NZW51JztcclxuaW1wb3J0IHsgRXhpc3RJbkxvY1N0b3JhZ2VFcnJvciB9IGZyb20gXCIuLi8uLi8uLi8uLi8uLi9jb21tb24vZXJyb3IvbG9jU3RvcmFnZUVycm9yL0V4aXN0SW5Mb2NTdG9yYWdlRXJyb3JcIjtcclxuXHJcblxyXG5leHBvcnQgY2xhc3MgU3ViTWVudSBleHRlbmRzIE1lbnUge1xyXG4gICAgcHJvdGVjdGVkIGlucHV0OklucHV0O1xyXG5cclxuICAgIC8vQnV0dG9uc1xyXG4gICAgcHJpdmF0ZSByc3pJdG1CdG5zOiAgYnV0dG9uRGF0YVtdO1xyXG4gICAgXHJcbiAgICBwcml2YXRlIHJzek91dGVyQm94QnRuczogYnV0dG9uRGF0YVtdO1xyXG4gICAgcHJvdGVjdGVkIGJveEJja0dybmRCdHRuczogYnV0dG9uRGF0YVtdO1xyXG5cclxuICAgIC8vVGV4dHMgZm9yIEJ1dHRvbnNcclxuICAgIHByaXZhdGUgZmJDb2xUZXh0QWlBczogc3RyaW5nW107XHJcbiAgICBwcml2YXRlIGZiUm93VGV4dEFpQXM6IHN0cmluZ1tdO1xyXG4gICAgcHJpdmF0ZSBmYkNvbFRleHRKYzogc3RyaW5nW107XHJcbiAgICBwcml2YXRlIGZiUm93VGV4dEpjOiBzdHJpbmdbXTtcclxuXHJcbiAgICAvL0lucHV0cyByYWRpb1xyXG4gICAgcHJpdmF0ZSBhZGRCb3hNZW51OiByYWRpb0J0dG5bXTtcclxuICAgIHByb3RlY3RlZCBlZHRJdGVtOiByYWRpb0J0dG5bXTtcclxuICAgIHByb3RlY3RlZCBlZHRCb3hJdGVtc0FpOiByYWRpb0J0dG5bXTtcclxuICAgIHByb3RlY3RlZCBlZHRCb3hJdGVtc0pjOiByYWRpb0J0dG5bXTtcclxuICAgIHByaXZhdGUgYm94RHJjdG5CdHRuczogcmFkaW9CdHRuW107XHJcbiAgICBwcml2YXRlIGFkZEdyb3dCdHRuczogcmFkaW9CdHRuW107XHJcbiAgICBwcm90ZWN0ZWQgcnN6SXRtUGVyY2VudEJ0bnM6IHJhZGlvQnR0bltdO1xyXG4gICAgcHJpdmF0ZSBvdXRlckJveEJja0dybmRCdHRuczogYnV0dG9uRGF0YVtdO1xyXG5cclxuICAgIHByaXZhdGUgcmFkaW9TdWJNZW51czpyYWRpb1N1Yk1lbnVbXTtcclxuICAgIHByaXZhdGUgYnR0blN1Yk1lbnVzOmJ0dG5TdWJNZW51W107XHJcbiAgICBwcml2YXRlIHJhZGlvUHN0bkJveFN1Yk1lbnVzOnJhZGlvUHN0bkJveFN1Yk1lbnVbXTtcclxuICAgIHJhZGlvUHN0bkltZ1N1Yk1lbnVzOnJhZGlvUHN0bkltZ1N1Yk1lbnVbXTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihpbnB1dDpJbnB1dCl7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLmlucHV0ID0gaW5wdXQ7XHJcbiAgICAgICAgdGhpcy5ib3hCY2tHcm5kQnR0bnMgPSBbXHJcbiAgICAgICAgICAgIHtpZDogJ2FkZC1ib3gtYmNrZ3JuZCcsIHR5cGU6J2J1dHRvbicsIHRleHQ6J0FkZCBiYWNrZ3JvdW5kIGltYWdlJyxcclxuICAgICAgICAgICAgICAgIGlucHV0OntcclxuICAgICAgICAgICAgICAgICAgICBpZDogJ2JveC1iY2tncm5kLWlucHV0JyxcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOidmaWxlJyxcclxuICAgICAgICAgICAgICAgICAgICBhY2NlcHQ6XCJpbWFnZS9qcGVnLCBpbWFnZSwvcG5nXCJcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge2lkOiAncm12LWJveC1iY2tncm5kJywgdHlwZTonYnV0dG9uJywgdGV4dDonUmVtb3ZlIGJhY2tncm91bmQgaW1hZ2UnfSxcclxuICAgICAgICBdXHJcbiAgICAgICAgdGhpcy5vdXRlckJveEJja0dybmRCdHRucyA9IFtcclxuICAgICAgICAgICAge2lkOiAnYWRkLW91dGVyQm94LWJja2dybmQnLCB0eXBlOididXR0b24nLCB0ZXh0OidBZGQgYmFja2dyb3VuZCBpbWFnZScsXHJcbiAgICAgICAgICAgICAgICBpbnB1dDp7XHJcbiAgICAgICAgICAgICAgICAgICAgaWQ6ICdvdXRlckJveC1iY2tncm5kLWlucHV0JyxcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOidmaWxlJyxcclxuICAgICAgICAgICAgICAgICAgICBhY2NlcHQ6XCJpbWFnZS9qcGVnLCBpbWFnZSwvcG5nXCJcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge2lkOiAncm12LW91dGVyQm94LWJja2dybmQnLCB0eXBlOididXR0b24nLCB0ZXh0OidSZW1vdmUgYmFja2dyb3VuZCBpbWFnZSd9LFxyXG4gICAgICAgIF1cclxuICAgICAgICB0aGlzLmJveERyY3RuQnR0bnMgPSBbXHJcbiAgICAgICAgICAgIHtpZDogJ2hvcml6b250YWwnLCB0eXBlOidyYWRpbycsIG5hbWUgOidkcnRuJywgdmFsdWU6J2hvcml6b250YWwnLCB0ZXh0OidIb3Jpem9udGFsJ30sXHJcbiAgICAgICAgICAgIHtpZDogJ3ZlcnRpY2FsJywgdHlwZToncmFkaW8nLCBuYW1lIDonZHJ0bicsIHZhbHVlOid2ZXJ0aWNhbCcsIHRleHQ6J1ZlcnRpY2FsJ30sXHJcbiAgICAgICAgXVxyXG4gICAgICAgIHRoaXMuYWRkR3Jvd0J0dG5zID0gW1xyXG4gICAgICAgICAgICB7aWQ6ICdncm93JywgdHlwZToncmFkaW8nLCBuYW1lIDonZ3JvdycsIHZhbHVlOidncm93JywgdGV4dDonR3Jvdyd9LFxyXG4gICAgICAgICAgICB7aWQ6ICdub0dyb3cnLCB0eXBlOidyYWRpbycsIG5hbWUgOidncm93JywgdmFsdWU6J25vR3JvdycsIHRleHQ6J05vIGdyb3cnfSxcclxuICAgICAgICBdXHJcblxyXG4gICAgICAgIHRoaXMuYWRkQm94TWVudSA9IFtcclxuICAgICAgICAgICAge2lkOiAnaG9yaXpvbnRhbCcsIHR5cGU6J3JhZGlvJywgbmFtZSA6IEl0ZW1NZW51LmZsZXhEcmN0biwgdmFsdWU6J2hvcml6b250YWwnLCB0ZXh0OidIb3Jpem9udGFsJ30sXHJcbiAgICAgICAgICAgIHtpZDogJ3ZlcnRpY2FsJywgdHlwZToncmFkaW8nLCBuYW1lIDogSXRlbU1lbnUuZmxleERyY3RuLCB2YWx1ZTondmVydGljYWwnLCB0ZXh0OidWZXJ0aWNhbCcsIGNoZWNrZWQ6J2NoZWNrZWQnfSxcclxuICAgICAgICAgICAge2lkOiAnZ3JvdycsIHR5cGU6J3JhZGlvJywgbmFtZSA6IEl0ZW1NZW51LndpZHRoLCB2YWx1ZTonZ3JvdycsIHRleHQ6J0dyb3cnLCBjaGVja2VkOidjaGVja2VkJ30sXHJcbiAgICAgICAgICAgIHtpZDogJ25vR3JvdycsIHR5cGU6J3JhZGlvJywgbmFtZSA6SXRlbU1lbnUud2lkdGgsIHZhbHVlOidub0dyb3cnLCB0ZXh0OidGaXQgY29udGVudCd9LFxyXG4gICAgICAgIF07XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5lZHRJdGVtID0gW1xyXG4gICAgICAgICAgICB7aWQ6ICdzdGFydCcsIHR5cGU6J3JhZGlvJywgbmFtZSA6J29ybnQnLCB2YWx1ZTonZmktc3RhcnQnLCB0ZXh0OidTdGFydCd9LFxyXG4gICAgICAgICAgICB7aWQ6ICdjZW50ZXInLCB0eXBlOidyYWRpbycsIG5hbWUgOidvcm50JywgdmFsdWU6J2ZpLWNlbnRlcicsIHRleHQ6J0NlbnRlcid9LFxyXG4gICAgICAgICAgICB7aWQ6ICdlbmQnLCB0eXBlOidyYWRpbycsIG5hbWUgOidvcm50JywgdmFsdWU6J2ZpLWVuZCcsIHRleHQ6J0VuZCd9LFxyXG4gICAgICAgICAgICB7aWQ6ICdzdHJldGNoJywgdHlwZToncmFkaW8nLCBuYW1lIDonb3JudCcsIHZhbHVlOidmaS1zdHJldGNoJywgdGV4dDonU3RyZXRjaCd9LFxyXG4gICAgICAgICAgICB7aWQ6ICdub25lLWFzJywgdHlwZToncmFkaW8nLCBuYW1lIDonb3JudCcsIHZhbHVlOidmaS1ub25lJywgdGV4dDonTm9uZSd9LFxyXG4gICAgICAgIF07XHJcbiAgICAgICAgdGhpcy5lZHRCb3hJdGVtc0FpID0gW1xyXG4gICAgICAgICAgICB7aWQ6ICdzdGFydC1haScsIHR5cGU6J3JhZGlvJywgbmFtZSA6J2ZiLWFpJywgdmFsdWU6J2ZiLWFpLXN0YXJ0JywgdGV4dDonU3RhcnQnfSxcclxuICAgICAgICAgICAge2lkOiAnY2VudGVyLWFpJywgdHlwZToncmFkaW8nLCBuYW1lIDonZmItYWknLCB2YWx1ZTonZmItYWktY2VudGVyJywgdGV4dDonQ2VudGVyJ30sXHJcbiAgICAgICAgICAgIHtpZDogJ2VuZC1haScsIHR5cGU6J3JhZGlvJywgbmFtZSA6J2ZiLWFpJywgdmFsdWU6J2ZiLWFpLWVuZCcsIHRleHQ6J0VuZCd9LFxyXG4gICAgICAgICAgICB7aWQ6ICdzdHJldGNoLWFpJywgdHlwZToncmFkaW8nLCBuYW1lIDonZmItYWknLCB2YWx1ZTonZmItYWktc3RyZXRjaCcsIHRleHQ6J1N0cmV0Y2gnfSxcclxuICAgICAgICAgICBcclxuICAgICAgICBdO1xyXG4gICAgICAgIHRoaXMuZWR0Qm94SXRlbXNKYyA9IFtcclxuICAgICAgICAgICAge2lkOiAnc3RhcnQtamMnLCB0eXBlOidyYWRpbycsIG5hbWUgOidmYi1qYycsIHZhbHVlOidmYi1qYy1zdGFydCcsIHRleHQ6J1N0YXJ0J30sXHJcbiAgICAgICAgICAgIHtpZDogJ2NlbnRlci1qYycsIHR5cGU6J3JhZGlvJywgbmFtZSA6J2ZiLWpjJywgdmFsdWU6J2ZiLWpjLWNlbnRlcicsIHRleHQ6J0NlbnRlcid9LFxyXG4gICAgICAgICAgICB7aWQ6ICdlbmQtamMnLCB0eXBlOidyYWRpbycsIG5hbWUgOidmYi1qYycsIHZhbHVlOidmYi1qYy1lbmQnLCB0ZXh0OidFbmQnfSxcclxuICAgICAgICAgICAge2lkOiAnc0JldHdlZW4nLCB0eXBlOidyYWRpbycsIG5hbWUgOidmYi1qYycsIHZhbHVlOidmYi1qYy1zX2JldHdlZW4nLCB0ZXh0OidTcGFjZSBiZXR3ZWVuJ30sXHJcbiAgICAgICAgICAgIHtpZDogJ3NBcm91bmQnLCB0eXBlOidyYWRpbycsIG5hbWUgOidmYi1qYycsIHZhbHVlOidmYi1qYy1zX2Fyb3VuZCcsIHRleHQ6J1NwYWNlIGFyb3VuZCd9LFxyXG4gICAgICAgICAgICB7aWQ6ICdzRXZlbmx5JywgdHlwZToncmFkaW8nLCBuYW1lIDonZmItamMnLCB2YWx1ZTonZmItamMtc19ldmVubHknLCB0ZXh0OidTcGFjZSBldmVubHknfSxcclxuICAgICAgICBdO1xyXG5cclxuICAgICAgICB0aGlzLmZiUm93VGV4dEFpQXMgPSBbJ1RvcCcsICdDZW50ZXInLCAnRG93biddO1xyXG4gICAgICAgIHRoaXMuZmJDb2xUZXh0QWlBcyA9IFsnTGVmdCcsICdDZW50ZXInLCAnUmlnaHQnXTtcclxuICAgICAgICB0aGlzLmZiUm93VGV4dEpjID0gWydMZWZ0JywgJ0NlbnRlcicsICdSaWdodCddO1xyXG4gICAgICAgIHRoaXMuZmJDb2xUZXh0SmMgPSBbJ1RvcCcsJ0NlbnRlcicsJ0Rvd24nXTtcclxuXHJcbiAgICAgICAgdGhpcy5yc3pJdG1CdG5zID0gW1xyXG4gICAgICAgICAgICB7aWQ6ICdyc3otYm94LXdpZHRoJywgdHlwZTonYnV0dG9uJywgdGV4dDonUmVzaXplIHdpZHRoJ30sXHJcbiAgICAgICAgICAgIHtpZDogJ3Jzei1ib3gtaGVpZ2h0JywgdHlwZTonYnV0dG9uJywgdGV4dDonUmVzaXplIGhlaWdodCd9LFxyXG4gICAgICAgICAgICB7aWQ6ICdyc3otYm94LWJvdGgnLCB0eXBlOididXR0b24nLCB0ZXh0OidSZXNpemUgYm90aCd9LFxyXG4gICAgICAgICAgICB7aWQ6ICdyc3otYm94LXB4bCcsIHR5cGU6J2J1dHRvbicsIHRleHQ6J1Jlc2l6ZSB3aXRoIHBpeGVscyd9XHJcbiAgICAgICAgXTtcclxuICAgICAgICB0aGlzLnJzek91dGVyQm94QnRucyA9IFtcclxuICAgICAgICAgICAge2lkOiAncnN6LW91dGVyQm94LXdpZHRoJywgdHlwZTonYnV0dG9uJywgdGV4dDonUmVzaXplIHdpZHRoJ30sXHJcbiAgICAgICAgICAgIHtpZDogJ3Jzei1vdXRlckJveC1oZWlnaHQnLCB0eXBlOididXR0b24nLCB0ZXh0OidSZXNpemUgaGVpZ2h0J30sXHJcbiAgICAgICAgICAgIHtpZDogJ3Jzei1vdXRlckJveC1ib3RoJywgdHlwZTonYnV0dG9uJywgdGV4dDonUmVzaXplIGJvdGgnfSxcclxuICAgICAgICAgICAge2lkOiAncnN6LW91dGVyQm94LXB4bCcsIHR5cGU6J2J1dHRvbicsIHRleHQ6J1Jlc2l6ZSB3aXRoIHBpeGVscyd9XHJcbiAgICAgICAgXTtcclxuXHJcbiAgICAgICAgdGhpcy5yc3pJdG1QZXJjZW50QnRucyA9IFtcclxuICAgICAgICAgICAge2lkOiAneDEwMCcsIHR5cGU6J3JhZGlvJywgbmFtZSA6J3dpZHRoJywgdmFsdWU6J3gxMDAnLCB0ZXh0OidXaWR0aCAxMDAlJ30sXHJcbiAgICAgICAgICAgIHtpZDogJ3gwJywgdHlwZToncmFkaW8nLCBuYW1lIDond2lkdGgnLCB2YWx1ZToneDAnLCB0ZXh0OidObyAlIHdpZHRoJ30sXHJcbiAgICAgICAgICAgIHtpZDogJ3kxMDAnLCB0eXBlOidyYWRpbycsIG5hbWUgOidoZWlnaHQnLCB2YWx1ZToneTEwMCcsIHRleHQ6J0hlaWdodCAxMDAlJ30sXHJcbiAgICAgICAgICAgIHtpZDogJ3kwJywgdHlwZToncmFkaW8nLCBuYW1lIDonaGVpZ2h0JywgdmFsdWU6J3kwJywgdGV4dDonTm8gJSBoZWlnaHQnfSxcclxuICAgICAgICBdO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vU3VibWVudSBvYmplY3RzXHJcbiAgICAgICAgdGhpcy5yYWRpb1N1Yk1lbnVzID0gW1xyXG4gICAgICAgICAgICB7aWQ6J3Jzei1pdGVtLXBlcmNlbnQtc3ViTWVudS1yYWRpbycsIHJhZGlvRGF0YToge2J1dHRvbkRhdGE6IHRoaXMucnN6SXRtUGVyY2VudEJ0bnMsIGZvcm1JZDonYm94SXRlbS1wcmVzZXQnLCBzdWJtaXRJZDoncnN6LWl0ZW0tcGVyY2VudCcsc3VibWl0VGV4dDonQ2hhbmdlIHNpemUnLGNoZWNrQ2xhczpbJ3dpZHRoJywgJ2hlaWdodCddfX0sXHJcbiAgICAgICAgICAgIHtpZDoncnN6LW91dGVyQm94LXBlcmNlbnQtc3ViTWVudS1yYWRpbycsIHJhZGlvRGF0YToge2J1dHRvbkRhdGE6IHRoaXMucnN6SXRtUGVyY2VudEJ0bnMsIGZvcm1JZDonYm94SXRlbS1wcmVzZXQnLCBzdWJtaXRJZDoncnN6LW91dGVyQm94LXBlcmNlbnQnLHN1Ym1pdFRleHQ6J0NoYW5nZSBzaXplJyxjaGVja0NsYXM6Wyd3aWR0aCcsICdoZWlnaHQnXSwgb3V0ZXJCb3g6IHRydWV9fSxcclxuICAgICAgICAgICAge2lkOidlZHQtYm94LWdyb3ctc3ViTWVudS1yYWRpbycsIHJhZGlvRGF0YToge2J1dHRvbkRhdGE6IHRoaXMuYWRkR3Jvd0J0dG5zLCBmb3JtSWQ6J2JveEl0ZW0tcHJlc2V0Jywgc3VibWl0SWQ6J2VkdC1ib3gtZ3Jvdycsc3VibWl0VGV4dDonRWRpdCBncm93JyxjaGVja0NsYXM6Wydncm93J119fSxcclxuICAgICAgICAgICAge2lkOidlZHQtb3V0ZXJCb3gtZ3Jvdy1zdWJNZW51LXJhZGlvJywgcmFkaW9EYXRhOiB7YnV0dG9uRGF0YTogdGhpcy5hZGRHcm93QnR0bnMsIGZvcm1JZDonYm94SXRlbS1wcmVzZXQnLCBzdWJtaXRJZDonZWR0LW91dGVyQm94LWdyb3cnLHN1Ym1pdFRleHQ6J0VkaXQgZ3JvdycsY2hlY2tDbGFzOlsnZ3JvdyddLCBvdXRlckJveDogdHJ1ZX19LFxyXG4gICAgICAgICAgICB7aWQ6J2VkdC1ib3gtZHJjdG4tc3ViTWVudS1yYWRpbycsIHJhZGlvRGF0YToge2J1dHRvbkRhdGE6IHRoaXMuYm94RHJjdG5CdHRucywgZm9ybUlkOidib3hJdGVtLXByZXNldCcsIHN1Ym1pdElkOidlZHQtYm94LWRyY3RuJyxzdWJtaXRUZXh0OidFZGl0IGRpcmVjdGlvbicsY2hlY2tDbGFzOlsnZmxleERyY3RuJ119fSxcclxuICAgICAgICAgICAge2lkOidlZHQtb3V0ZXJCb3gtZHJjdG4tc3ViTWVudS1yYWRpbycsIHJhZGlvRGF0YToge2J1dHRvbkRhdGE6IHRoaXMuYm94RHJjdG5CdHRucywgZm9ybUlkOidib3hJdGVtLXByZXNldCcsIHN1Ym1pdElkOidlZHQtb3V0ZXJCb3gtZHJjdG4nLHN1Ym1pdFRleHQ6J0VkaXQgZGlyZWN0aW9uJyxjaGVja0NsYXM6WydmbGV4RHJjdG4nXSwgb3V0ZXJCb3g6IHRydWV9fSxcclxuICAgICAgICAgICAge2lkOidlZHQtbWFpbkJveC1kcmN0bi1zdWJNZW51LXJhZGlvJywgcmFkaW9EYXRhOiB7YnV0dG9uRGF0YTogdGhpcy5ib3hEcmN0bkJ0dG5zLCBmb3JtSWQ6J2JveEl0ZW0tcHJlc2V0Jywgc3VibWl0SWQ6J2VkdC1tYWluQm94LWRyY3RuJyxzdWJtaXRUZXh0OidFZGl0IGRpcmVjdGlvbicsY2hlY2tDbGFzOlsnZmxleERyY3RuJ119fSxcclxuICAgICAgICAgICAge2lkOidlZHQtb3V0ZXJNYWluQm94LWRyY3RuLXN1Yk1lbnUtcmFkaW8nLCByYWRpb0RhdGE6IHtidXR0b25EYXRhOiB0aGlzLmJveERyY3RuQnR0bnMsIGZvcm1JZDonYm94SXRlbS1wcmVzZXQnLCBzdWJtaXRJZDonZWR0LW91dGVyTWFpbkJveC1kcmN0bicsc3VibWl0VGV4dDonRWRpdCBkaXJlY3Rpb24nLGNoZWNrQ2xhczpbJ2ZsZXhEcmN0biddLCBvdXRlckJveDogdHJ1ZX19LFxyXG4gICAgICAgICAgICB7aWQ6J2FkZC1vdXRlckJveC1zdWJNZW51LXJhZGlvJywgcmFkaW9EYXRhOiB7YnV0dG9uRGF0YTogdGhpcy5hZGRCb3hNZW51LCBmb3JtSWQ6J2JveEl0ZW0tcHJlc2V0Jywgc3VibWl0SWQ6J2FkZC1vdXRlckJveEl0ZW0nLHN1Ym1pdFRleHQ6J0NyZWF0ZSBib3gnfX0sXHJcbiAgICAgICAgICAgIHtpZDonYWRkLWlubmVyQm94LXN1Yk1lbnUtcmFkaW8nLCByYWRpb0RhdGE6IHtidXR0b25EYXRhOiB0aGlzLmFkZEJveE1lbnUsIGZvcm1JZDonYm94SXRlbS1wcmVzZXQnLCBzdWJtaXRJZDonYWRkLWlubmVyQm94SXRlbScsc3VibWl0VGV4dDonQ3JlYXRlIGJveCd9fSxcclxuICAgICAgICBdO1xyXG4gICAgICAgXHJcbiAgICAgICAgdGhpcy5idHRuU3ViTWVudXMgPSBbXHJcbiAgICAgICAgICAgIHtpZDogJ2FkZC1ib3gtYmNrZ3JuZC1zdWJNZW51LWJ0dG4nLCBidHRuRGF0YTogdGhpcy5ib3hCY2tHcm5kQnR0bnN9LFxyXG4gICAgICAgICAgICB7aWQ6ICdhZGQtbWFpbkJveC1iY2tncm5kLXN1Yk1lbnUtYnR0bicsIGJ0dG5EYXRhOiB0aGlzLmJveEJja0dybmRCdHRuc30sXHJcbiAgICAgICAgICAgIHtpZDogJ2FkZC1vdXRlckJveC1iY2tncm5kLXN1Yk1lbnUtYnR0bicsIGJ0dG5EYXRhOiB0aGlzLm91dGVyQm94QmNrR3JuZEJ0dG5zfSxcclxuICAgICAgICAgICAge2lkOiAncnN6LWl0ZW0tcGl4ZWwtc3ViTWVudS1idHRuJywgYnR0bkRhdGE6IHRoaXMucnN6SXRtQnRuc30sXHJcbiAgICAgICAgICAgIHtpZDogJ3Jzei1vdXRlckJveC1waXhlbC1zdWJNZW51LWJ0dG4nLCBidHRuRGF0YTogdGhpcy5yc3pPdXRlckJveEJ0bnN9LFxyXG5cclxuICAgICAgICBdXHJcblxyXG4gICAgICAgIHRoaXMucmFkaW9Qc3RuQm94U3ViTWVudXMgPSBbXHJcbiAgICAgICAgICAgIHtpZDonZWR0LWJveC1wc3RuLXN1Yk1lbnUtcmFkaW9Qc3RuQm94JywgcmFkaW9Qc3RuRGF0YToge2FpQnR0bnM6IHRoaXMuZWR0Qm94SXRlbXNBaSwgamNCdHRuczp0aGlzLmVkdEJveEl0ZW1zSmMsIHN1Ym1pdElkOidlZHQtYm94LXBzdG4nLCBhc0J0dG5zOiB0aGlzLmVkdEl0ZW0sfSB9LFxyXG4gICAgICAgICAgICB7aWQ6J2VkdC1vdXRlckJveC1wc3RuLXN1Yk1lbnUtcmFkaW9Qc3RuQm94JywgcmFkaW9Qc3RuRGF0YToge2FpQnR0bnM6IHRoaXMuZWR0Qm94SXRlbXNBaSwgamNCdHRuczp0aGlzLmVkdEJveEl0ZW1zSmMsIHN1Ym1pdElkOidlZHQtb3V0ZXJCb3gtcHN0bicsIGFzQnR0bnM6IHRoaXMuZWR0SXRlbSwgb3V0ZXJCb3g6IHRydWV9IH0sXHJcbiAgICAgICAgICAgIHtpZDonZWR0LW1haW5Cb3gtcHN0bi1zdWJNZW51LXJhZGlvUHN0bkJveCcsIHJhZGlvUHN0bkRhdGE6IHthaUJ0dG5zOiB0aGlzLmVkdEJveEl0ZW1zQWksIGpjQnR0bnM6dGhpcy5lZHRCb3hJdGVtc0pjLCBzdWJtaXRJZDonZWR0LW1haW5Cb3gtcHN0bid9IH0sXHJcbiAgICAgICAgICAgIHtpZDonZWR0LW91dGVyTWFpbkJveC1wc3RuLXN1Yk1lbnUtcmFkaW9Qc3RuQm94JywgcmFkaW9Qc3RuRGF0YToge2FpQnR0bnM6IHRoaXMuZWR0Qm94SXRlbXNBaSwgamNCdHRuczp0aGlzLmVkdEJveEl0ZW1zSmMsIHN1Ym1pdElkOidlZHQtb3V0ZXJNYWluQm94LXBzdG4nLCBhc0J0dG5zOnVuZGVmaW5lZCwgb3V0ZXJCb3g6dHJ1ZSB9IH0sXHJcbiAgICAgICAgXTtcclxuXHJcbiAgICAgICAgdGhpcy5yYWRpb1BzdG5JbWdTdWJNZW51cyA9IFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgaWQ6J2VkdC1pbWctcHN0bi1zdWJNZW51LXJhZGlvUHN0bkltZycsIHJhZGlvUHN0bkRhdGE6IHRoaXMuZWR0SXRlbSAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgXTtcclxuICAgIH1cclxuICAgIFxyXG5cclxuICAgIHB1YmxpYyBjcnRTdWJNZW51KGU6RXZlbnQsIGV2VHJndElkOnN0cmluZykge1xyXG4gICAgICAgIGxldCBldlRyZ3RJZEN1dCA9IGV2VHJndElkLnNwbGl0KCctJyk7XHJcbiAgICAgICAgbGV0IHN1Yk1lbnU6IEhUTUxEaXZFbGVtZW50IHwgbnVsbCA9IG51bGw7XHJcbiAgICAgICAgaWYgKGV2VHJndElkQ3V0W2V2VHJndElkQ3V0Lmxlbmd0aCAtMV0gPT09ICdyYWRpbycpIHtcclxuICAgICAgICAgICAgbGV0IHN1Yk1lbnVPYmogPSB0aGlzLnJhZGlvU3ViTWVudXMuZmluZChvYmogPT4gb2JqLmlkID09PSBldlRyZ3RJZClcclxuICAgICAgICAgICAgaWYgKHN1Yk1lbnVPYmopIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHJhZGlvRGF0YSA9IHRoaXMucmFkaW9PYmpUb0FycmF5KHN1Yk1lbnVPYmoucmFkaW9EYXRhKTtcclxuICAgICAgICAgICAgICAgIHN1Yk1lbnUgPSB0aGlzLmNydFJhZGlvTWVudShlLCAuLi5yYWRpb0RhdGEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChldlRyZ3RJZEN1dFtldlRyZ3RJZEN1dC5sZW5ndGggLTFdID09PSAnYnR0bicpIHtcclxuICAgICAgICAgICAgbGV0IHN1Yk1lbnVPYmogPSB0aGlzLmJ0dG5TdWJNZW51cy5maW5kKG9iaiA9PiBvYmouaWQgPT09IGV2VHJndElkKVxyXG4gICAgICAgICAgICBpZiAoc3ViTWVudU9iaikge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcmFkaW9EYXRhID0gc3ViTWVudU9iai5idHRuRGF0YTtcclxuICAgICAgICAgICAgICAgIHN1Yk1lbnUgPSB0aGlzLmNydEJ0dG5NZW51KGUsIHJhZGlvRGF0YSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGV2VHJndElkQ3V0W2V2VHJndElkQ3V0Lmxlbmd0aCAtMV0gPT09ICdyYWRpb1BzdG5Cb3gnKSB7XHJcbiAgICAgICAgICAgIGxldCBzdWJNZW51T2JqID0gdGhpcy5yYWRpb1BzdG5Cb3hTdWJNZW51cy5maW5kKG9iaiA9PiBvYmouaWQgPT09IGV2VHJndElkKVxyXG4gICAgICAgICAgICBpZiAoc3ViTWVudU9iaikge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcmFkaW9EYXRhID0gdGhpcy5yYWRpb1BzdG5PYmpUb0FycmF5KHN1Yk1lbnVPYmoucmFkaW9Qc3RuRGF0YSk7XHJcbiAgICAgICAgICAgICAgICBzdWJNZW51ID0gdGhpcy5jcnRCb3hQc3RuTWVudShlLCAuLi5yYWRpb0RhdGEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChldlRyZ3RJZEN1dFtldlRyZ3RJZEN1dC5sZW5ndGggLTFdID09PSAncmFkaW9Qc3RuSW1nJykge1xyXG4gICAgICAgICAgICBsZXQgc3ViTWVudU9iaiA9IHRoaXMucmFkaW9Qc3RuSW1nU3ViTWVudXMuZmluZChvYmogPT4gb2JqLmlkID09PSBldlRyZ3RJZClcclxuICAgICAgICAgICAgaWYgKHN1Yk1lbnVPYmopIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHJhZGlvRGF0YSA9IHN1Yk1lbnVPYmoucmFkaW9Qc3RuRGF0YTtcclxuICAgICAgICAgICAgICAgIHN1Yk1lbnUgPSB0aGlzLmNydEltZ1BzdG5NZW51KGUsIHJhZGlvRGF0YSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHN1Yk1lbnU7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSByYWRpb09ialRvQXJyYXkoc3ViTWVudU9iajogcmFkaW9NZW51KSB7XHJcbiAgICAgICAgcmV0dXJuICA8W3JhZGlvQnR0bltdLCBzdHJpbmcsIHN0cmluZywgc3RyaW5nLCBjaGVja0NsYXNlc1tdPywgYm9vbGVhbj9dPk9iamVjdC52YWx1ZXMoc3ViTWVudU9iaik7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSByYWRpb1BzdG5PYmpUb0FycmF5KHN1Yk1lbnVPYmo6IHJhZGlvUHN0bkJveE1lbnUpIHtcclxuICAgICAgICByZXR1cm4gIDxbcmFkaW9CdHRuW10sIHJhZGlvQnR0bltdLCBzdHJpbmcsIHJhZGlvQnR0bltdPywgYm9vbGVhbj9dPk9iamVjdC52YWx1ZXMoc3ViTWVudU9iaik7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIGNydEJ0dG5NZW51KGU6RXZlbnQsIHJzekl0bUJ0bnM6YnV0dG9uRGF0YVtdKXtcclxuICAgICAgICBsZXQgbWVudSA9IHRoaXMuY3J0TWVudUJJKHJzekl0bUJ0bnMsIHRoaXMubmF2RGF0YSk7XHJcbiAgICAgICAgdGhpcy5wbGFjZU1lbnUoZSwgbWVudSwgc3R5bGVzLml0ZW1NZW51KTtcclxuICAgICAgICByZXR1cm4gbWVudTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIHJhZGlvIG1lbnUgZm9yIG5ldyBlbGVtZW50cywgd2l0aCBjaGVja2VkIHZhbHVlIGluIGJ1dHRvbiBvciBub3RcclxuICAgICAqIEBwYXJhbSBlIFxyXG4gICAgICogQHBhcmFtIGl0ZW1JZCB1a2zDoWTDoSBpZCBpdGVtdSwgbmEga3RlcsOpbSBieWxvIHZ5dm9sw6FubyBtYWluTWVudVxyXG4gICAgICogQHJldHVybnMgXHJcbiAgICAgKi9cclxuICAgICBwcm90ZWN0ZWQgY3J0UmFkaW9NZW51KGU6RXZlbnQsIGJ1dHRvbkRhdGE6cmFkaW9CdHRuW10sZm9ybUlkOnN0cmluZywgc3VibWl0SWQ6c3RyaW5nLCBzdWJtaXRUZXh0OnN0cmluZywgY2hlY2tDbGFzPzpjaGVja0NsYXNlc1tdLCBvdXRlckJveD86Ym9vbGVhbil7XHJcbiAgICAgICAgaWYoY2hlY2tDbGFzKXtcclxuICAgICAgICAgICAgbGV0IHRyaWdnZXJJZDtcclxuICAgICAgICAgICAgaWYgKG91dGVyQm94KSB7XHJcbiAgICAgICAgICAgICAgICB0cmlnZ2VySWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndHJnZ3JQcm50SWQnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICAgICAgdHJpZ2dlcklkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3RyaWdnZXJpZCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0cmlnZ2VySWQpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRyaWdnZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0cmlnZ2VySWQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRyaWdnZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0cmdnckN0Z3IgPSB0cmlnZ2VyLmdldEF0dHJpYnV0ZSgnZGF0YS1jYXRlZ29yeScpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0cmdnckN0Z3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRJbnB0Q2hlY2tlZCh0cmlnZ2VyLCA8Y3RncklkPnRyZ2dyQ3RnciwgYnV0dG9uRGF0YSwgY2hlY2tDbGFzKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICBcclxuICAgICAgICBjb25zdCBmb3JtID0gdGhpcy5pbnB1dC5jcnRCb3hJdGVtRm9ybShidXR0b25EYXRhLCBmb3JtSWQgLHN1Ym1pdElkICwgc3VibWl0VGV4dCwgJ2RvTm90Q2xvc2UnKTtcclxuICAgICAgICBjb25zdCBkaXZFbG0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICBkaXZFbG0uc2V0QXR0cmlidXRlKCdpZCcsICdpdGVtTWVudScpO1xyXG4gICAgICAgIGRpdkVsbS5hcHBlbmQoZm9ybSk7XHJcbiAgICAgICAgdGhpcy5wbGFjZU1lbnUoZSwgZGl2RWxtLCBzdHlsZXMuaXRlbU1lbnUpO1xyXG4gICAgICAgIGxldCBpdGVtSWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndHJpZ2dlcmlkJyk7XHJcblxyXG4gICAgICAgIGlmKGl0ZW1JZCl7XHJcbiAgICAgICAgICAgIGRpdkVsbS5zZXRBdHRyaWJ1dGUoJ2RhdGEtdHJpZ2dlcmlkJywgaXRlbUlkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZGl2RWxtLmNsYXNzTGlzdC5hZGQoc3R5bGVzLml0ZW1NZW51KTtcclxuICAgICAgICBcclxuICAgICAgICByZXR1cm4gZGl2RWxtO1xyXG4gICAgICAgIFxyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBzZXRJbnB0Q2hlY2tlZChhZmZjdGRJdG06SFRNTEVsZW1lbnQsIGFmZmN0ZEl0bUNhdGVnb3J5OmN0Z3JJZCwgYnV0dG9uRGF0YTpyYWRpb0J0dG5bXSwgY2hlY2tDbGFzOmNoZWNrQ2xhc2VzW10pe1xyXG4gICAgICAgIGNvbnN0IGl0ZW1zID0gTG9jU3RvcmFnZS5nZXRJdGVtcygnaXRlbXMnKTtcclxuICAgICAgICBsZXQgY3RnckRhdGE6aXRlbSB8IG51bGwgPSBudWxsO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGN0Z3JEYXRhID0gTG9jU3RvcmFnZS5nZXRDdGdyKGl0ZW1zLCBhZmZjdGRJdG1DYXRlZ29yeSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yOnVua25vd24pIHtcclxuICAgICAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXhpc3RJbkxvY1N0b3JhZ2VFcnJvcikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IubWVzc2FnZSwgZXJyb3IucHJvcGVydHkpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGN0Z3JEYXRhKSB7XHJcbiAgICAgICAgICAgIC8vb2RzdHJhbiBwcmVkZXNsZSBjaGVja2VkIGhvZG5vdHkgIFxyXG4gICAgICAgICAgICBidXR0b25EYXRhLmZvckVhY2goYnV0dG9uID0+e1xyXG4gICAgICAgICAgICAgICAgaWYgKGJ1dHRvbi5oYXNPd25Qcm9wZXJ0eSgnY2hlY2tlZCcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGJ1dHRvbi5jaGVja2VkO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAvL25hc3RhdiBjaGVja2VkIGhvZG5vdHkgcG9kbGUgcG9zbGVkbsOtY2ggaG9kbm90IHYgcGFtxJt0aVxyXG4gICAgICAgICAgICBsZXQgdHJpZ2dlckRhdGE6aXRlbXxudWxsO1xyXG4gICAgICAgICAgICBpZiAoYWZmY3RkSXRtLmlkID09PSAnY29taWNzJyB8fCBhZmZjdGRJdG0uaWQgPT09ICdtYXRlcmlhbCcpIHtcclxuICAgICAgICAgICAgICAgIHRyaWdnZXJEYXRhID0gY3RnckRhdGE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgICAgIHRyaWdnZXJEYXRhID0gTG9jU3RvcmFnZS5maW5kSXRlbShjdGdyRGF0YS5zdWJJdGVtcywgYWZmY3RkSXRtLmlkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodHJpZ2dlckRhdGEpIHtcclxuICAgICAgICAgICAgICAgIGNoZWNrQ2xhcy5mb3JFYWNoKGNsYXMgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICg8Ym94SXRlbUNsYXNzPnRyaWdnZXJEYXRhIS5jbGFzc2VzKVtjbGFzXS5mb3JFYWNoKGNsYXNzcyA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbkRhdGEuZm9yRWFjaChidXR0b24gPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNsYXNzcyA9PT0gYnV0dG9uLnZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uLmNoZWNrZWQgPSAnY2hlY2tlZCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBcclxuICAgICAqIEBwYXJhbSBlIFxyXG4gICAgICogQHBhcmFtIGJveFBzdG5CdHRuc0RhdGFBaSBCdXR0b25zIGRhdGEgZm9yIGFsaWduLWl0ZW1zXHJcbiAgICAgKiBAcGFyYW0gYm94UHN0bkJ0dG5zRGF0YUpjIEJ1dHRvbnMgZGF0YSBmb3IganVzdGlmeS1jb250ZW50XHJcbiAgICAgKiBAcGFyYW0gYWZmY3RkSXRtSWQgQWZmZWN0ZWQgYm94IGlkIFxyXG4gICAgICogQHBhcmFtIGl0ZW1Qc3RuQnR0bnNEYXRhIEJ1dHRvbnMgZGF0YSBmb3IgYWxpZ24tc2VsZiwgaWYgYWZmZWN0ZWQgYm94IGlzIGFsc28gaXRlbVxyXG4gICAgICogQHJldHVybnMgXHJcbiAgICAgKi9cclxuICAgICBwcm90ZWN0ZWQgY3J0Qm94UHN0bk1lbnUoZTpFdmVudCwgYm94UHN0bkJ0dG5zRGF0YUFpOnJhZGlvQnR0bltdLGJveFBzdG5CdHRuc0RhdGFKYzpyYWRpb0J0dG5bXSwgc3VibWl0SWQ6c3RyaW5nLCBpdGVtUHN0bkJ0dG5zRGF0YT86cmFkaW9CdHRuW10sIG91dGVyQm94Pzpib29sZWFuKXtcclxuICAgICAgICBsZXQgYWZmY3RkSXRtSWQ7XHJcbiAgICAgICAgaWYgKG91dGVyQm94KSB7XHJcbiAgICAgICAgICAgIGFmZmN0ZEl0bUlkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3RyZ2dyUHJudElkJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgIGFmZmN0ZEl0bUlkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3RyaWdnZXJpZCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgZG9jRnJnQWxsID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xyXG4gICAgICAgIGxldCBmb3JtOkhUTUxGb3JtRWxlbWVudCA9IDxIVE1MRm9ybUVsZW1lbnQ+e307XHJcbiAgICAgICAgbGV0IGFmZmN0ZEl0bTogbnVsbCB8IEhUTUxFbGVtZW50ID0gbnVsbDtcclxuICAgICAgICBpZiAoYWZmY3RkSXRtSWQpIHtcclxuICAgICAgICAgICAgYWZmY3RkSXRtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYWZmY3RkSXRtSWQpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGFmZmN0ZEl0bSkge1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgY29uc3QgYWZmY3RkSXRtQ2F0ZWdvcnkgPSA8Y3RncklkPmFmZmN0ZEl0bS5nZXRBdHRyaWJ1dGUoJ2RhdGEtY2F0ZWdvcnknKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGxldCBkb2NGcmdHcm91cCA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcclxuICAgICAgICAgICAgbGV0IGJveFBzdG5CdHRuc0FpID0gdGhpcy5wc3RuT3B0KGFmZmN0ZEl0bSwgYWZmY3RkSXRtQ2F0ZWdvcnksIGJveFBzdG5CdHRuc0RhdGFBaSwgdGhpcy5mYlJvd1RleHRBaUFzLCB0aGlzLmZiQ29sVGV4dEFpQXMpO1xyXG4gICAgICAgICAgICBsZXQgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgIGRpdi5hcHBlbmQoYm94UHN0bkJ0dG5zQWkpO1xyXG4gICAgICAgICAgICBsZXQgYm94UHN0bkJ0dG5zSmMgPSB0aGlzLnBzdG5PcHQoYWZmY3RkSXRtLCBhZmZjdGRJdG1DYXRlZ29yeSwgYm94UHN0bkJ0dG5zRGF0YUpjLCB0aGlzLmZiUm93VGV4dEpjLCB0aGlzLmZiQ29sVGV4dEpjKTtcclxuICAgICAgICAgICAgZGl2LmFwcGVuZChib3hQc3RuQnR0bnNKYyk7XHJcbiAgICAgICAgICAgIGRpdi5jbGFzc0xpc3QuYWRkKHN0eWxlcy50aXRsZUJveFJvdyk7XHJcblxyXG4gICAgICAgICAgICBkb2NGcmdHcm91cC5hcHBlbmQoZGl2KTtcclxuICAgICAgICAgICAgbGV0IGJveFBzdG5CdHRuc0FpVGl0bGVkID0gdGhpcy5naXZlQnR0bnNUaXRsZShkb2NGcmdHcm91cCwgJ1Bvc2l0aW9uIG9mIGludGVybmFsIGl0ZW1zJyk7IC8vdGFkeXlcclxuICAgICAgICAgICAgZG9jRnJnQWxsLmFwcGVuZChib3hQc3RuQnR0bnNBaVRpdGxlZCk7XHJcbiAgICAgICAgICAgIC8vaWYgYm94IGlzIGFsc28gaXRlbVxyXG4gICAgICAgICAgICBpZiAoaXRlbVBzdG5CdHRuc0RhdGEpIHtcclxuICAgICAgICAgICAgICAgIGxldCBhZmZjdGRJdG1Qcm50ID0gYWZmY3RkSXRtLnBhcmVudEVsZW1lbnQ7XHJcbiAgICAgICAgICAgICAgICBpZiAoYWZmY3RkSXRtUHJudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBpdGVtUHN0bkJ0dG5zPSB0aGlzLnBzdG5PcHQoYWZmY3RkSXRtLCBhZmZjdGRJdG1DYXRlZ29yeSwgaXRlbVBzdG5CdHRuc0RhdGEsIHRoaXMuZmJSb3dUZXh0QWlBcywgdGhpcy5mYkNvbFRleHRBaUFzLCBhZmZjdGRJdG1Qcm50KTsgIFxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBpdGVtUHN0bkJ0dG5zVGl0bGVkID0gdGhpcy5naXZlQnR0bnNUaXRsZShpdGVtUHN0bkJ0dG5zLCAnSXRlbSBwb3NpdGlvbicpO1xyXG4gICAgICAgICAgICAgICAgICAgIGRvY0ZyZ0FsbC5hcHBlbmQoaXRlbVBzdG5CdHRuc1RpdGxlZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9ybSA9IHRoaXMuaW5wdXQuY3J0Rm9ybSgnZWR0LWJveC1wcmVzZXQnLHN1Ym1pdElkICwgJ0VkaXQgYm94SXRlbScsIGRvY0ZyZ0FsbCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy9pZiBib3ggaXMga2luZCBtYWluIGJveCB0aGF0IGNhbiBub3QgYmUgcG9zaXRpb25cclxuICAgICAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgICAgIGZvcm0gPSB0aGlzLmlucHV0LmNydEZvcm0oJ2VkdC1ib3gtcHJlc2V0JyxzdWJtaXRJZCAsICdFZGl0IG1haW4gYm94JywgZG9jRnJnQWxsKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvL2FzaSB0byBidWRlIGNodMOtdCBqZcWhdMSbIGplZGVuIGRpdiwgYWJ5IGJ5bGkgbW96bm9zdGkgcG96aWNvdmFuaSB2ZWRsZSBzZWJlXHJcblxyXG4gICAgICAgIGNvbnN0IGRpdkVsbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIGRpdkVsbS5zZXRBdHRyaWJ1dGUoJ2lkJywgJ2l0ZW1NZW51Jyk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgZGl2RWxtLmFwcGVuZChmb3JtKTtcclxuICAgICAgICB0aGlzLnBsYWNlTWVudShlLCBkaXZFbG0sIHN0eWxlcy5pdGVtTWVudSk7XHJcblxyXG4gICAgICAgIGlmKGFmZmN0ZEl0bUlkKXtcclxuICAgICAgICAgICAgZGl2RWxtLnNldEF0dHJpYnV0ZSgnZGF0YS10cmlnZ2VyaWQnLCBhZmZjdGRJdG1JZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHJldHVybiBkaXZFbG07XHJcbiAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICogU2V0cyB0ZXh0IHRvIHJhZGlvIGJ1dHRvbnMgYWNvcmRpbmcgdG8gZmxleCBkaXJlY3Rpb24gZm8gdHJpZ2dlciBvciBwYXJyZW50LCBzZXRzIGNoY2Vja2VkIHZhbHVlcyBhY29yZGluZyB0byBtZW1vcnkgYW5kIGNyZWF0ZXMgcmFkaW8gYnV0dG9ucyBtZW51XHJcbiAgICAgKiBAcGFyYW0gYWZmY3RkSXRtIFxyXG4gICAgICogQHBhcmFtIGFmZmN0ZEl0bUNhdGVnb3J5IFxyXG4gICAgICogQHBhcmFtIGJveFBzdG5CdHRuc0RhdGEgXHJcbiAgICAgKiBAcGFyYW0gZmJSb3dUZXh0IFxyXG4gICAgICogQHBhcmFtIGZiQ29sVGV4dCBcclxuICAgICAqIEBwYXJhbSBhZmZjdGRJdG1Qcm4gXHJcbiAgICAgKiBAcmV0dXJucyBcclxuICAgICAqL1xyXG4gICAgICAgICBwcml2YXRlIHBzdG5PcHQoYWZmY3RkSXRtOkhUTUxFbGVtZW50LCBhZmZjdGRJdG1DYXRlZ29yeTpjdGdySWQsIGJveFBzdG5CdHRuc0RhdGE6cmFkaW9CdHRuW10sIGZiUm93VGV4dDpzdHJpbmdbXSwgZmJDb2xUZXh0OnN0cmluZ1tdLCBhZmZjdGRJdG1Qcm4/OkhUTUxFbGVtZW50KSB7XHJcbiAgICAgICAgICAgIGlmIChhZmZjdGRJdG1Qcm4pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0VHh0VG9GYkJ0dG5zKGFmZmN0ZEl0bVBybiwgYm94UHN0bkJ0dG5zRGF0YSxmYlJvd1RleHQsIGZiQ29sVGV4dCApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFR4dFRvRmJCdHRucyhhZmZjdGRJdG0sIGJveFBzdG5CdHRuc0RhdGEsZmJSb3dUZXh0LCBmYkNvbFRleHQgKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnNldElucHRDaGVja2VkKGFmZmN0ZEl0bSwgYWZmY3RkSXRtQ2F0ZWdvcnksIGJveFBzdG5CdHRuc0RhdGEsIFsncG9zaXRpb24nXSk7XHJcbiAgICAgICAgICAgIGNvbnN0IGJveFBzdG5CdHRucyA9IHRoaXMuaW5wdXQuY3J0UmFkaW9CdHRuKGJveFBzdG5CdHRuc0RhdGEsICdkb05vdENsb3NlJyk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgICAgZGl2LmNsYXNzTGlzdC5hZGQoc3R5bGVzLnRpdGxlQm94Q29sKTtcclxuICAgICAgICAgICAgZGl2LmFwcGVuZChib3hQc3RuQnR0bnMpO1xyXG4gICAgICAgICAgICBjb25zdCBkb2NGcmcgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XHJcbiAgICAgICAgICAgIGRvY0ZyZy5hcHBlbmQoZGl2KTtcclxuICAgICAgICAgICAgcmV0dXJuIGRvY0ZyZyA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIHNldFR4dFRvRmJCdHRucyhhZmZjdGRJdG06SFRNTEVsZW1lbnQsIGJ1dHRvbkRhdGE6cmFkaW9CdHRuW10sIGZiUm93VGV4dDpzdHJpbmdbXSwgZmJDb2xUZXh0OnN0cmluZ1tdKXtcclxuXHJcbiAgICAgICAgICAgIC8vcG9rdWQgamUgdHJpZ2dlclBybnQgZmxleEJveCBkaXJlY3Rpb24gY29sbW4sIGppbmFrIG5lbWVuIHBybyBkaXJlY3Rpb24gcm93XHJcbiAgICAgICAgICAgIGlmIChhZmZjdGRJdG0uY2xhc3NMaXN0LmNvbnRhaW5zKCd2ZXJ0aWNhbCcpKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnc3BvdXN0aW0gdmVydGljYWwgZWRpdCcpXHJcbiAgICAgICAgICAgICAgICBmYkNvbFRleHQuZm9yRWFjaCggKHRleHQsIGkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBidXR0b25EYXRhW2ldLnRleHQgID0gdGV4dDtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGFmZmN0ZEl0bS5jbGFzc0xpc3QuY29udGFpbnMoJ2hvcml6b250YWwnKSkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3Nwb3VzdGltIGhvcml6b250YWwgZWRpdCcpXHJcbiAgICAgICAgICAgICAgICBmYlJvd1RleHQuZm9yRWFjaCggKHRleHQsIGkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBidXR0b25EYXRhW2ldLnRleHQgID0gdGV4dDtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIGl0ZW0gbWVudVxyXG4gICAgICogQHBhcmFtIGUgXHJcbiAgICAgKiBAcGFyYW0gaXRlbUlkIHVrbMOhZMOhIGlkIGl0ZW11LCBuYSBrdGVyw6ltIGJ5bG8gdnl2b2zDoW5vIG1lbnVcclxuICAgICAqIEByZXR1cm5zIFxyXG4gICAgICovXHJcbiAgICBwcm90ZWN0ZWQgY3J0SW1nUHN0bk1lbnUoZTpFdmVudCwgYnV0dG9uRGF0YTpyYWRpb0J0dG5bXSApe1xyXG4gICAgICAgIGxldCB0cmlnZ2VySWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndHJpZ2dlcmlkJyk7XHJcbiAgICAgICAgbGV0IGRvY0ZyZyA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcclxuICAgICAgICBpZih0cmlnZ2VySWQpe1xyXG4gICAgICAgICAgIGNvbnN0IHRyaWdnZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0cmlnZ2VySWQpO1xyXG4gICAgICAgICAgIGlmICh0cmlnZ2VyKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgdHJnZ3JQcm50ID0gdHJpZ2dlci5wYXJlbnRFbGVtZW50O1xyXG4gICAgICAgICAgICAgICAgaWYgKHRyZ2dyUHJudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRyaWdnZXJDYXRlZ29yeSA9IDxjdGdySWQ+dHJpZ2dlci5nZXRBdHRyaWJ1dGUoJ2RhdGEtY2F0ZWdvcnknKTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgYnV0dG9ucyA9IHRoaXMucHN0bk9wdCh0cmlnZ2VyLHRyaWdnZXJDYXRlZ29yeSwgYnV0dG9uRGF0YSwgdGhpcy5mYlJvd1RleHRBaUFzLCB0aGlzLmZiQ29sVGV4dEFpQXMsIHRyZ2dyUHJudClcclxuICAgICAgICAgICAgICAgICAgICBsZXQgYnV0dG9uc1RpdGxlZCA9IHRoaXMuZ2l2ZUJ0dG5zVGl0bGUoYnV0dG9ucywgJ0l0ZW0gcG9zaXRpb24nKTtcclxuICAgICAgICAgICAgICAgICAgICBkb2NGcmcuYXBwZW5kKGJ1dHRvbnNUaXRsZWQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgICBcclxuICAgICAgICBsZXQgZm9ybSA9IHRoaXMuaW5wdXQuY3J0Rm9ybSgnaW1nSXRlbS1wcmVzZXQnLCdlZHQtaW1nLXBzdG4nICwgJ0VkaXQgaW1hZ2UnLCBkb2NGcmcsICdkb05vdENsb3NlJyk7XHJcbiAgICAgICBcclxuICAgICAgICBjb25zdCBkaXZFbG0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICBkaXZFbG0uc2V0QXR0cmlidXRlKCdpZCcsICdpdGVtTWVudScpO1xyXG4gICAgICAgIGRpdkVsbS5hcHBlbmQoZm9ybSk7XHJcbiAgICAgICAgdGhpcy5wbGFjZU1lbnUoZSwgZGl2RWxtLCBzdHlsZXMuaXRlbU1lbnUpO1xyXG5cclxuICAgICAgICBpZih0cmlnZ2VySWQpe1xyXG4gICAgICAgICAgICBkaXZFbG0uc2V0QXR0cmlidXRlKCdkYXRhLXRyaWdnZXJpZCcsIHRyaWdnZXJJZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGRpdkVsbS5jbGFzc0xpc3QuYWRkKHN0eWxlcy5pdGVtTWVudSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcmV0dXJuIGRpdkVsbTtcclxuICAgICAgICBcclxuICAgIH1cclxuICAgIFxyXG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/editor/editorComponents/item/itemMenu/subMenu/SubMenu.ts\n");

/***/ }),

/***/ "./src/editor/editorComponents/mainBox/MainBox.ts":
/*!********************************************************!*\
  !*** ./src/editor/editorComponents/mainBox/MainBox.ts ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"MainBox\": () => (/* binding */ MainBox)\n/* harmony export */ });\n/* harmony import */ var _common_AtributesToElement__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../common/AtributesToElement */ \"./src/common/AtributesToElement.ts\");\n/* harmony import */ var _common_inputGetter_InputGetter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../common/inputGetter/InputGetter */ \"./src/common/inputGetter/InputGetter.ts\");\n/* harmony import */ var _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../common/localStorage/LocStorage */ \"./src/common/localStorage/LocStorage.ts\");\n/* harmony import */ var _common_StyleToElement__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../common/StyleToElement */ \"./src/common/StyleToElement.ts\");\n\r\n\r\n\r\n\r\nlet debug = true;\r\nclass MainBox {\r\n    constructor(flexBoxItem, imageItem) {\r\n        this.imageItem = imageItem;\r\n        this.flexBoxItem = flexBoxItem;\r\n    }\r\n    getItems(ctgrItems, ctgrId, flexBoxItem, imageItem, styles, atributes) {\r\n        const docFrag = document.createDocumentFragment();\r\n        let i = 0;\r\n        ctgrItems.forEach(item => {\r\n            var _a;\r\n            let newItem = {};\r\n            if (item.kind === 'imageItem') {\r\n                newItem = imageItem.crtImgItem(item, ctgrId);\r\n                if (debug)\r\n                    console.log('vytvářím image');\r\n            }\r\n            else if (item.kind === 'boxItem') {\r\n                newItem = flexBoxItem.crtFlexItemBox(item, ctgrId);\r\n                if (item.inlStyl) {\r\n                    (0,_common_StyleToElement__WEBPACK_IMPORTED_MODULE_3__.addInlineStyle)(newItem, item.inlStyl);\r\n                }\r\n                if (debug)\r\n                    console.log('vytvářím boxItem');\r\n            }\r\n            if ((_a = item.subItems) === null || _a === void 0 ? void 0 : _a.length) {\r\n                let subItems = this.getItems(item.subItems, ctgrId, flexBoxItem, imageItem, styles, atributes);\r\n                newItem.appendChild(subItems);\r\n            }\r\n            if (styles) {\r\n                (0,_common_StyleToElement__WEBPACK_IMPORTED_MODULE_3__.addInlineStyle)(newItem, styles);\r\n            }\r\n            if (atributes) {\r\n                (0,_common_AtributesToElement__WEBPACK_IMPORTED_MODULE_0__.addAtributes)(newItem, atributes);\r\n            }\r\n            ++i;\r\n            docFrag.append(newItem);\r\n        });\r\n        return docFrag;\r\n    }\r\n    createItems(ctgrId, styles, atributes) {\r\n        //získej pořadí itemů\r\n        const items = _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_2__.LocStorage.getItems('items');\r\n        let docFrag = {};\r\n        for (const item of items.items) {\r\n            if (item.id === ctgrId) {\r\n                if (typeof item.subItems !== 'undefined') {\r\n                    docFrag = this.getItems(item.subItems, ctgrId, this.flexBoxItem, this.imageItem, styles, atributes);\r\n                    return docFrag;\r\n                }\r\n                else {\r\n                    console.log('category.subitems = undefined in MainBox.createItems');\r\n                    return null;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    existItems(ctgrId) {\r\n        return _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_2__.LocStorage.existCtgrSubItems('items', ctgrId);\r\n    }\r\n    /**\r\n     * Creates main box\r\n     * @param item\r\n     * @param ctgrId\r\n     * @param flexComponent\r\n     * @returns\r\n     */\r\n    crtMainBox(item, ctgrId, dataKind, flexComponent) {\r\n        const boxItem = flexComponent.createFlexContainer();\r\n        //přidej třídu do DOM\r\n        let key;\r\n        for (key in item.classes) {\r\n            if (item.classes.hasOwnProperty(key)) {\r\n                item.classes[key].forEach(classs => {\r\n                    boxItem.classList.add(classs);\r\n                });\r\n            }\r\n        }\r\n        boxItem.setAttribute('id', item.id);\r\n        boxItem.setAttribute('data-category', ctgrId);\r\n        boxItem.setAttribute('data-kind', dataKind);\r\n        return boxItem;\r\n    }\r\n    /**\r\n     * Finds out if category is empty\r\n     * @param items\r\n     * @param ctgrId\r\n     * @returns\r\n     */\r\n    isCtgr(items, ctgrId) {\r\n        for (const item of items) {\r\n            if (item.id === ctgrId) {\r\n                return true;\r\n            }\r\n            else {\r\n                return false;\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * Sets default category and save it in local storage\r\n     * @param items\r\n     * @param comicsDefault\r\n     * @param ctgrId\r\n     */\r\n    setDefaultCtgr(items, comicsDefault) {\r\n        items.items.push(comicsDefault);\r\n        _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_2__.LocStorage.setItem('items', items);\r\n    }\r\n    edtMainBoxPstn(e) {\r\n        if (e.target.id === 'edt-mainBox-pstn' || e.target.id === 'edt-outerMainBox-pstn') {\r\n            e.preventDefault();\r\n            console.log(e.target.id);\r\n            let triggerId = null;\r\n            if (e.target.id === 'edt-mainBox-pstn') {\r\n                triggerId = localStorage.getItem('triggerid');\r\n            }\r\n            else if (e.target.id === 'edt-outerMainBox-pstn') {\r\n                triggerId = localStorage.getItem('trggrPrntId');\r\n            }\r\n            if (triggerId) {\r\n                const trigger = document.getElementById(triggerId);\r\n                if (trigger) {\r\n                    const trggrCtgrName = trigger.getAttribute('data-category');\r\n                    const inputs = document.querySelectorAll('#edt-box-preset input');\r\n                    let presets = [];\r\n                    inputs.forEach((input) => {\r\n                        if (input.checked) {\r\n                            presets.push(input.value);\r\n                        }\r\n                    });\r\n                    console.log(presets);\r\n                    let triggerData = {};\r\n                    const items = _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_2__.LocStorage.getItems('items');\r\n                    if (triggerData = items.items) {\r\n                        for (const ctgrItem of triggerData) {\r\n                            if (ctgrItem.id === trggrCtgrName) {\r\n                                if (presets.length) {\r\n                                    ctgrItem.classes.position.forEach(classs => {\r\n                                        console.log('ano, obsahuji css tridu, co je v pameti');\r\n                                        if (trigger.classList.contains(classs)) {\r\n                                            trigger.classList.remove(classs);\r\n                                        }\r\n                                    });\r\n                                    ctgrItem.classes.position = [];\r\n                                    presets.forEach(classs => {\r\n                                        trigger.classList.add(classs);\r\n                                        ctgrItem.classes.position.push(classs);\r\n                                    });\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                    console.log(triggerData);\r\n                    _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_2__.LocStorage.setItem('items', items);\r\n                    /*\r\n                    //Local Storage part\r\n                    const items = LocStorage.getItems('items');\r\n                    LocStorage.rmvItem(items[triggerCategory],triggerId);\r\n                    LocStorage.setItem('items', items);\r\n                    //DOM part\r\n                    trigger.remove();  */\r\n                }\r\n            }\r\n        }\r\n    }\r\n    edtOuterMainBox(e) {\r\n        if (e.target.id === 'edt-outer-mainBox') {\r\n            e.preventDefault();\r\n            console.log('edt-outer-mainBox');\r\n            const triggerPrntId = localStorage.getItem('trggrPrntId');\r\n            if (triggerPrntId) {\r\n                const triggerPrnt = document.getElementById(triggerPrntId);\r\n                if (triggerPrnt) {\r\n                    const trggrCtgrName = triggerPrnt.getAttribute('data-category');\r\n                    const inputs = document.querySelectorAll('#edt-box-preset input');\r\n                    let presets = [];\r\n                    inputs.forEach((input) => {\r\n                        if (input.checked) {\r\n                            presets.push(input.value);\r\n                        }\r\n                    });\r\n                    console.log(presets);\r\n                    let triggerData = {};\r\n                    const items = _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_2__.LocStorage.getItems('items');\r\n                    if (triggerData = items.items) {\r\n                        for (const ctgrItem of triggerData) {\r\n                            if (ctgrItem.id === trggrCtgrName) {\r\n                                if (presets.length) {\r\n                                    ctgrItem.classes.position.forEach(classs => {\r\n                                        console.log('ano, obsahuji css tridu, co je v pameti');\r\n                                        if (triggerPrnt.classList.contains(classs)) {\r\n                                            triggerPrnt.classList.remove(classs);\r\n                                        }\r\n                                    });\r\n                                    ctgrItem.classes.position = [];\r\n                                    presets.forEach(classs => {\r\n                                        triggerPrnt.classList.add(classs);\r\n                                        ctgrItem.classes.position.push(classs);\r\n                                    });\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                    console.log(triggerData);\r\n                    _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_2__.LocStorage.setItem('items', items);\r\n                    /*\r\n                    //Local Storage part\r\n                    const items = LocStorage.getItems('items');\r\n                    LocStorage.rmvItem(items[triggerCategory],triggerId);\r\n                    LocStorage.setItem('items', items);\r\n                    //DOM part\r\n                    trigger.remove();  */\r\n                }\r\n            }\r\n        }\r\n    }\r\n    edtMainBoxDcrtn(e) {\r\n        //pokud se kliklo na tlačítko add boxItem\r\n        if (e.target.id === 'edt-mainBox-drctn' || e.target.id === 'edt-outerMainBox-drctn') {\r\n            e.preventDefault();\r\n            console.log(e.target.id);\r\n            //získání hodnot z checked inputů\r\n            let presets = _common_inputGetter_InputGetter__WEBPACK_IMPORTED_MODULE_1__.InputGetter.getChckInpdVls('#boxItem-preset');\r\n            console.log(presets);\r\n            let triggerId;\r\n            //trigger je element, na kterém se vyvolalo menu\r\n            if (e.target.id === 'edt-mainBox-drctn') {\r\n                triggerId = localStorage.getItem('triggerid');\r\n            }\r\n            else if (e.target.id === 'edt-outerMainBox-drctn') {\r\n                triggerId = localStorage.getItem('trggrPrntId');\r\n            }\r\n            if (triggerId) {\r\n                const trigger = document.getElementById(triggerId);\r\n                if (trigger) {\r\n                    const trggrCtgrName = trigger.getAttribute('data-category');\r\n                    let items = _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_2__.LocStorage.getItems('items');\r\n                    let triggerData = items.items;\r\n                    if (triggerData) {\r\n                        for (const ctgrItem of triggerData) {\r\n                            if (ctgrItem.id === trggrCtgrName) {\r\n                                if (ctgrItem.classes.flexDrctn[0] !== presets[0].value) {\r\n                                    let badClass = ctgrItem.classes.flexDrctn[0];\r\n                                    trigger.classList.remove(badClass);\r\n                                    trigger.classList.add(presets[0].value);\r\n                                    ctgrItem.classes.flexDrctn[0] = presets[0].value;\r\n                                    _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_2__.LocStorage.setItem('items', items);\r\n                                }\r\n                                else {\r\n                                    return;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZWRpdG9yL2VkaXRvckNvbXBvbmVudHMvbWFpbkJveC9NYWluQm94LnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQWtFO0FBQ0k7QUFDRDtBQUVMO0FBTWhFLElBQUksS0FBSyxHQUFHLElBQUksQ0FBQztBQUVWLE1BQU0sT0FBTztJQUtoQixZQUFZLFdBQXVCLEVBQUUsU0FBbUI7UUFFcEQsSUFBSSxDQUFDLFNBQVMsR0FBRyxTQUFTLENBQUM7UUFDM0IsSUFBSSxDQUFDLFdBQVcsR0FBRyxXQUFXLENBQUM7SUFDL0IsQ0FBQztJQUVJLFFBQVEsQ0FBQyxTQUFnQixFQUFFLE1BQWEsRUFBQyxXQUF1QixFQUFFLFNBQW1CLEVBQUUsTUFBZSxFQUFFLFNBQWlCO1FBQzlILE1BQU0sT0FBTyxHQUFHLFFBQVEsQ0FBQyxzQkFBc0IsRUFBRSxDQUFDO1FBRWxELElBQUksQ0FBQyxHQUFVLENBQUMsQ0FBQztRQUNqQixTQUFTLENBQUMsT0FBTyxDQUFFLElBQUksQ0FBRSxFQUFFOztZQUN2QixJQUFJLE9BQU8sR0FBNEIsRUFBRSxDQUFDO1lBRTFDLElBQUksSUFBSSxDQUFDLElBQUksS0FBSyxXQUFXLEVBQUU7Z0JBQzFCLE9BQU8sR0FBRyxTQUFTLENBQUMsVUFBVSxDQUFDLElBQUksRUFBRSxNQUFNLENBQUMsQ0FBQztnQkFDN0MsSUFBRyxLQUFLO29CQUNSLE9BQU8sQ0FBQyxHQUFHLENBQUMsZ0JBQWdCLENBQUM7YUFDakM7aUJBQ0ksSUFBSSxJQUFJLENBQUMsSUFBSSxLQUFLLFNBQVMsRUFBRTtnQkFDN0IsT0FBTyxHQUFHLFdBQVcsQ0FBQyxjQUFjLENBQUMsSUFBSSxFQUFFLE1BQU0sQ0FBQyxDQUFDO2dCQUNuRCxJQUFJLElBQUksQ0FBQyxPQUFPLEVBQUU7b0JBQ2Ysc0VBQWMsQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO2lCQUN4QztnQkFDRCxJQUFHLEtBQUs7b0JBQ1IsT0FBTyxDQUFDLEdBQUcsQ0FBQyxr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RTtvQ0FDcEUsSUFBSSxRQUFRLEdBQWtCLFFBQVEsQ0FBQyxPQUFRLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDO29DQUM3RCxPQUFPLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQztvQ0FDbkMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDO29DQUV6QixRQUFRLENBQUMsT0FBUSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDO29DQUNqRSwrRUFBa0IsQ0FBQyxPQUFPLEVBQUUsS0FBSyxDQUFDLENBQUM7aUNBRXRDO3FDQUNHO29DQUNBLE9BQU87aUNBQ1Y7NkJBQ0E7eUJBQ0E7cUJBQ0o7aUJBRUo7YUFDSjtTQUNKO0lBRVQsQ0FBQztDQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY29taWNzLWVkaXRvci8uL3NyYy9lZGl0b3IvZWRpdG9yQ29tcG9uZW50cy9tYWluQm94L01haW5Cb3gudHM/MWZiZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBhZGRBdHJpYnV0ZXMgfSBmcm9tIFwiLi4vLi4vLi4vY29tbW9uL0F0cmlidXRlc1RvRWxlbWVudFwiO1xyXG5pbXBvcnQgeyBJbnB1dEdldHRlciB9IGZyb20gXCIuLi8uLi8uLi9jb21tb24vaW5wdXRHZXR0ZXIvSW5wdXRHZXR0ZXJcIjtcclxuaW1wb3J0IHsgTG9jU3RvcmFnZSB9IGZyb20gXCIuLi8uLi8uLi9jb21tb24vbG9jYWxTdG9yYWdlL0xvY1N0b3JhZ2VcIjtcclxuaW1wb3J0IHsgYm94SXRlbUNsYXNzLCBpdGVtLCBpdGVtcyB9IGZyb20gXCIuLi8uLi8uLi9jb21tb24vbG9jYWxTdG9yYWdlL3N0b3JhZ2VJbnRlcmZhY2VzXCI7XHJcbmltcG9ydCB7IGFkZElubGluZVN0eWxlIH0gZnJvbSBcIi4uLy4uLy4uL2NvbW1vbi9TdHlsZVRvRWxlbWVudFwiO1xyXG5pbXBvcnQgeyBjdGdySWQgfSBmcm9tIFwiLi4vLi4vZWRpdG9yVHlwZXNcIjtcclxuaW1wb3J0IHsgRmxleEJveEl0ZW0gfSBmcm9tIFwiLi4vaXRlbS9mbGV4Qm94SXRlbS9GbGV4Qm94SXRlbVwiO1xyXG5pbXBvcnQgeyBJbWFnZUl0ZW0gfSBmcm9tIFwiLi4vaXRlbS9pbWFnZUl0ZW0vSW1hZ2VJdGVtXCI7XHJcbmltcG9ydCB7IEZsZXggfSBmcm9tICcuLy4uLy4uLy4uL0hUTUxDb21wb25lbnRzL2ZsZXhCb3gvRmxleCc7XHJcblxyXG5sZXQgZGVidWcgPSB0cnVlO1xyXG5cclxuZXhwb3J0IGNsYXNzIE1haW5Cb3h7XHJcbiAgICBcclxuICAgIHByaXZhdGUgZmxleEJveEl0ZW06RmxleEJveEl0ZW07XHJcbiAgICBwcml2YXRlIGltYWdlSXRlbTogSW1hZ2VJdGVtO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGZsZXhCb3hJdGVtOkZsZXhCb3hJdGVtLCBpbWFnZUl0ZW06SW1hZ2VJdGVtKXtcclxuXHJcbiAgICAgICAgdGhpcy5pbWFnZUl0ZW0gPSBpbWFnZUl0ZW07XHJcbiAgICAgICAgdGhpcy5mbGV4Qm94SXRlbSA9IGZsZXhCb3hJdGVtO1xyXG4gICAgICAgIH1cclxuXHJcbiAgIHByb3RlY3RlZCBnZXRJdGVtcyhjdGdySXRlbXM6aXRlbVtdLCBjdGdySWQ6Y3RncklkLGZsZXhCb3hJdGVtOkZsZXhCb3hJdGVtLCBpbWFnZUl0ZW06SW1hZ2VJdGVtLCBzdHlsZXM/OiBvYmplY3QsIGF0cmlidXRlcz86b2JqZWN0ICl7XHJcbiAgICAgICAgY29uc3QgZG9jRnJhZyA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcclxuICAgICAgXHJcbiAgICAgICAgbGV0IGk6bnVtYmVyID0gMDtcclxuICAgICAgICBjdGdySXRlbXMuZm9yRWFjaCggaXRlbSAgPT4ge1xyXG4gICAgICAgICAgICBsZXQgbmV3SXRlbTpIVE1MRWxlbWVudCA9IDxIVE1MRWxlbWVudD57fTtcclxuXHJcbiAgICAgICAgICAgIGlmIChpdGVtLmtpbmQgPT09ICdpbWFnZUl0ZW0nKSB7XHJcbiAgICAgICAgICAgICAgICAgbmV3SXRlbSA9IGltYWdlSXRlbS5jcnRJbWdJdGVtKGl0ZW0sIGN0Z3JJZCk7XHJcbiAgICAgICAgICAgICAgICAgaWYoZGVidWcpXHJcbiAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3Z5dHbDocWZw61tIGltYWdlJylcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChpdGVtLmtpbmQgPT09ICdib3hJdGVtJykge1xyXG4gICAgICAgICAgICAgICAgIG5ld0l0ZW0gPSBmbGV4Qm94SXRlbS5jcnRGbGV4SXRlbUJveChpdGVtLCBjdGdySWQpO1xyXG4gICAgICAgICAgICAgICAgIGlmIChpdGVtLmlubFN0eWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBhZGRJbmxpbmVTdHlsZShuZXdJdGVtLCBpdGVtLmlubFN0eWwpO1xyXG4gICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICBpZihkZWJ1ZylcclxuICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygndnl0dsOhxZnDrW0gYm94SXRlbScpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGl0ZW0uc3ViSXRlbXM/Lmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgbGV0IHN1Ykl0ZW1zID0gdGhpcy5nZXRJdGVtcyhpdGVtLnN1Ykl0ZW1zLCBjdGdySWQsIGZsZXhCb3hJdGVtLCBpbWFnZUl0ZW0sIHN0eWxlcywgYXRyaWJ1dGVzKTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgbmV3SXRlbS5hcHBlbmRDaGlsZChzdWJJdGVtcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHN0eWxlcyl7XHJcbiAgICAgICAgICAgICAgICBhZGRJbmxpbmVTdHlsZShuZXdJdGVtLHN0eWxlcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYoYXRyaWJ1dGVzKXtcclxuICAgICAgICAgICAgICAgIGFkZEF0cmlidXRlcyhuZXdJdGVtLCBhdHJpYnV0ZXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICsraTtcclxuICAgICAgICAgICAgZG9jRnJhZy5hcHBlbmQobmV3SXRlbSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgIFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBkb2NGcmFnO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZUl0ZW1zKGN0Z3JJZDpjdGdySWQsIHN0eWxlcz86IG9iamVjdCwgYXRyaWJ1dGVzPzpvYmplY3Qpe1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vesOtc2tlaiBwb8WZYWTDrSBpdGVtxa9cclxuICAgICAgICBjb25zdCBpdGVtcyA9IExvY1N0b3JhZ2UuZ2V0SXRlbXMoJ2l0ZW1zJyk7XHJcbiAgICAgICAgbGV0IGRvY0ZyYWc6RG9jdW1lbnRGcmFnbWVudCA9IDxEb2N1bWVudEZyYWdtZW50Pnt9O1xyXG4gICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBpdGVtcy5pdGVtcykge1xyXG4gICAgICAgICAgICBpZiAoaXRlbS5pZCA9PT0gY3RncklkKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGl0ZW0uc3ViSXRlbXMgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9jRnJhZyA9IHRoaXMuZ2V0SXRlbXMoaXRlbS5zdWJJdGVtcyEsIGN0Z3JJZCwgdGhpcy5mbGV4Qm94SXRlbSwgdGhpcy5pbWFnZUl0ZW0sIHN0eWxlcywgYXRyaWJ1dGVzKTsgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZG9jRnJhZztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2NhdGVnb3J5LnN1Yml0ZW1zID0gdW5kZWZpbmVkIGluIE1haW5Cb3guY3JlYXRlSXRlbXMnKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIFxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBleGlzdEl0ZW1zKCBjdGdySWQ6Y3RncklkKXtcclxuICAgICAgICByZXR1cm4gTG9jU3RvcmFnZS5leGlzdEN0Z3JTdWJJdGVtcygnaXRlbXMnLCBjdGdySWQpO1xyXG4gICAgfSBcclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlcyBtYWluIGJveFxyXG4gICAgICogQHBhcmFtIGl0ZW0gXHJcbiAgICAgKiBAcGFyYW0gY3RncklkIFxyXG4gICAgICogQHBhcmFtIGZsZXhDb21wb25lbnQgXHJcbiAgICAgKiBAcmV0dXJucyBcclxuICAgICAqL1xyXG4gICAgIHB1YmxpYyBjcnRNYWluQm94KGl0ZW06aXRlbSwgY3RncklkOmN0Z3JJZCwgZGF0YUtpbmQ6KCdib3hDb21pY3MnfCdib3hNYXRlcmlhbCcpLCBmbGV4Q29tcG9uZW50OkZsZXgpIHtcclxuICAgICAgICBjb25zdCBib3hJdGVtID0gZmxleENvbXBvbmVudC5jcmVhdGVGbGV4Q29udGFpbmVyKCk7XHJcblxyXG4gICAgICAgIC8vcMWZaWRlaiB0xZnDrWR1IGRvIERPTVxyXG4gICAgICAgIGxldCBrZXk6IGtleW9mIHR5cGVvZiBpdGVtLmNsYXNzZXM7XHJcbiAgICAgICAgZm9yICgga2V5IGluIGl0ZW0uY2xhc3Nlcykge1xyXG4gICAgICAgICAgICBpZiAoaXRlbS5jbGFzc2VzLmhhc093blByb3BlcnR5KGtleSkpIHtcclxuICAgICAgICAgICAgICAgIGl0ZW0uY2xhc3Nlc1trZXldLmZvckVhY2goIGNsYXNzcyA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgYm94SXRlbS5jbGFzc0xpc3QuYWRkKGNsYXNzcyk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgYm94SXRlbS5zZXRBdHRyaWJ1dGUoJ2lkJywgaXRlbS5pZCk7XHJcbiAgICAgICAgYm94SXRlbS5zZXRBdHRyaWJ1dGUoJ2RhdGEtY2F0ZWdvcnknLGN0Z3JJZCk7XHJcbiAgICAgICAgYm94SXRlbS5zZXRBdHRyaWJ1dGUoJ2RhdGEta2luZCcsZGF0YUtpbmQpO1xyXG4gICAgICAgIHJldHVybiBib3hJdGVtO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvKipcclxuICAgICAqIEZpbmRzIG91dCBpZiBjYXRlZ29yeSBpcyBlbXB0eVxyXG4gICAgICogQHBhcmFtIGl0ZW1zIFxyXG4gICAgICogQHBhcmFtIGN0Z3JJZCBcclxuICAgICAqIEByZXR1cm5zIFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgaXNDdGdyKGl0ZW1zOml0ZW1bXSwgY3RncklkOmN0Z3JJZCAgKXtcclxuICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgaXRlbXMpIHtcclxuICAgICAgICAgICAgaWYgKGl0ZW0uaWQgPT09IGN0Z3JJZCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFNldHMgZGVmYXVsdCBjYXRlZ29yeSBhbmQgc2F2ZSBpdCBpbiBsb2NhbCBzdG9yYWdlXHJcbiAgICAgKiBAcGFyYW0gaXRlbXMgXHJcbiAgICAgKiBAcGFyYW0gY29taWNzRGVmYXVsdCBcclxuICAgICAqIEBwYXJhbSBjdGdySWQgXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzZXREZWZhdWx0Q3RncihpdGVtczppdGVtcywgY29taWNzRGVmYXVsdDppdGVtKSB7XHJcbiAgICAgICAgaXRlbXMuaXRlbXMucHVzaChjb21pY3NEZWZhdWx0KTtcclxuICAgICAgICBMb2NTdG9yYWdlLnNldEl0ZW0oJ2l0ZW1zJywgaXRlbXMpO1xyXG4gICAgfVxyXG4gICAgIFxyXG4gICAgIHB1YmxpYyBlZHRNYWluQm94UHN0bihlOkV2ZW50KXtcclxuICAgICAgICBpZiAoKDxIVE1MRWxlbWVudD5lLnRhcmdldCkuaWQgPT09ICdlZHQtbWFpbkJveC1wc3RuJyB8fCAoPEhUTUxFbGVtZW50PmUudGFyZ2V0KS5pZCA9PT0gJ2VkdC1vdXRlck1haW5Cb3gtcHN0bicgKSB7XHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coKDxIVE1MRWxlbWVudD5lLnRhcmdldCkuaWQpO1xyXG5cclxuICAgICAgICAgICAgbGV0IHRyaWdnZXJJZDogc3RyaW5nIHwgbnVsbCA9IG51bGw7XHJcbiAgICAgICAgICAgIGlmICgoPEhUTUxFbGVtZW50PmUudGFyZ2V0KS5pZCA9PT0gJ2VkdC1tYWluQm94LXBzdG4nKSB7XHJcbiAgICAgICAgICAgICAgICB0cmlnZ2VySWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndHJpZ2dlcmlkJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoKDxIVE1MRWxlbWVudD5lLnRhcmdldCkuaWQgPT09ICdlZHQtb3V0ZXJNYWluQm94LXBzdG4nKXtcclxuICAgICAgICAgICAgICAgIHRyaWdnZXJJZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0cmdnclBybnRJZCcpO1xyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodHJpZ2dlcklkKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0cmlnZ2VyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodHJpZ2dlcklkKTtcclxuICAgICAgICAgICAgICAgIGlmKHRyaWdnZXIpe1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRyZ2dyQ3Rnck5hbWUgPSA8Y3RncklkPnRyaWdnZXIuZ2V0QXR0cmlidXRlKCdkYXRhLWNhdGVnb3J5Jyk7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBpbnB1dHMgPSA8Tm9kZUxpc3RPZjxIVE1MSW5wdXRFbGVtZW50Pj5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcjZWR0LWJveC1wcmVzZXQgaW5wdXQnKTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgcHJlc2V0czogc3RyaW5nW10gPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICBpbnB1dHMuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0LmNoZWNrZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXNldHMucHVzaChpbnB1dC52YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhwcmVzZXRzKTtcclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICBsZXQgdHJpZ2dlckRhdGEgPSA8aXRlbVtdIHwgbnVsbD57fTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBpdGVtcyA9IExvY1N0b3JhZ2UuZ2V0SXRlbXMoJ2l0ZW1zJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0cmlnZ2VyRGF0YSA9IGl0ZW1zLml0ZW1zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGN0Z3JJdGVtIG9mIHRyaWdnZXJEYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN0Z3JJdGVtLmlkID09PSB0cmdnckN0Z3JOYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihwcmVzZXRzLmxlbmd0aCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdGdySXRlbS5jbGFzc2VzLnBvc2l0aW9uLmZvckVhY2goY2xhc3NzID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnYW5vLCBvYnNhaHVqaSBjc3MgdHJpZHUsIGNvIGplIHYgcGFtZXRpJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0cmlnZ2VyLmNsYXNzTGlzdC5jb250YWlucyhjbGFzc3MpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJpZ2dlci5jbGFzc0xpc3QucmVtb3ZlKGNsYXNzcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdGdySXRlbS5jbGFzc2VzLnBvc2l0aW9uID1bXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXNldHMuZm9yRWFjaChjbGFzc3MgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyLmNsYXNzTGlzdC5hZGQoY2xhc3NzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Rnckl0ZW0uY2xhc3Nlcy5wb3NpdGlvbi5wdXNoKGNsYXNzcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0cmlnZ2VyRGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgTG9jU3RvcmFnZS5zZXRJdGVtKCdpdGVtcycsIGl0ZW1zKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLypcclxuICAgICAgICAgICAgICAgICAgICAvL0xvY2FsIFN0b3JhZ2UgcGFydFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW1zID0gTG9jU3RvcmFnZS5nZXRJdGVtcygnaXRlbXMnKTtcclxuICAgICAgICAgICAgICAgICAgICBMb2NTdG9yYWdlLnJtdkl0ZW0oaXRlbXNbdHJpZ2dlckNhdGVnb3J5XSx0cmlnZ2VySWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIExvY1N0b3JhZ2Uuc2V0SXRlbSgnaXRlbXMnLCBpdGVtcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9ET00gcGFydFxyXG4gICAgICAgICAgICAgICAgICAgIHRyaWdnZXIucmVtb3ZlKCk7ICAqL1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgICBwdWJsaWMgZWR0T3V0ZXJNYWluQm94KGU6RXZlbnQpe1xyXG4gICAgICAgIGlmICgoPEhUTUxFbGVtZW50PmUudGFyZ2V0KS5pZCA9PT0gJ2VkdC1vdXRlci1tYWluQm94JyApIHtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnZWR0LW91dGVyLW1haW5Cb3gnKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHRyaWdnZXJQcm50SWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndHJnZ3JQcm50SWQnKTtcclxuICAgICAgICAgICAgaWYgKHRyaWdnZXJQcm50SWQpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRyaWdnZXJQcm50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodHJpZ2dlclBybnRJZCk7XHJcbiAgICAgICAgICAgICAgICBpZih0cmlnZ2VyUHJudCl7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdHJnZ3JDdGdyTmFtZSA9IDxjdGdySWQ+dHJpZ2dlclBybnQuZ2V0QXR0cmlidXRlKCdkYXRhLWNhdGVnb3J5Jyk7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBpbnB1dHMgPSA8Tm9kZUxpc3RPZjxIVE1MSW5wdXRFbGVtZW50Pj5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcjZWR0LWJveC1wcmVzZXQgaW5wdXQnKTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgcHJlc2V0czogc3RyaW5nW10gPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICBpbnB1dHMuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0LmNoZWNrZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXNldHMucHVzaChpbnB1dC52YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhwcmVzZXRzKTtcclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICBsZXQgdHJpZ2dlckRhdGEgPSA8aXRlbVtdIHwgbnVsbD57fTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBpdGVtcyA9IExvY1N0b3JhZ2UuZ2V0SXRlbXMoJ2l0ZW1zJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0cmlnZ2VyRGF0YSA9IGl0ZW1zLml0ZW1zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGN0Z3JJdGVtIG9mIHRyaWdnZXJEYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN0Z3JJdGVtLmlkID09PSB0cmdnckN0Z3JOYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihwcmVzZXRzLmxlbmd0aCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Rnckl0ZW0uY2xhc3Nlcy5wb3NpdGlvbi5mb3JFYWNoKGNsYXNzcyA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdhbm8sIG9ic2FodWppIGNzcyB0cmlkdSwgY28gamUgdiBwYW1ldGknKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0cmlnZ2VyUHJudC5jbGFzc0xpc3QuY29udGFpbnMoY2xhc3NzKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyUHJudC5jbGFzc0xpc3QucmVtb3ZlKGNsYXNzcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdGdySXRlbS5jbGFzc2VzLnBvc2l0aW9uID1bXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmVzZXRzLmZvckVhY2goY2xhc3NzID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJpZ2dlclBybnQuY2xhc3NMaXN0LmFkZChjbGFzc3MpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdGdySXRlbSEuY2xhc3Nlcy5wb3NpdGlvbi5wdXNoKGNsYXNzcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0cmlnZ2VyRGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgTG9jU3RvcmFnZS5zZXRJdGVtKCdpdGVtcycsIGl0ZW1zKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLypcclxuICAgICAgICAgICAgICAgICAgICAvL0xvY2FsIFN0b3JhZ2UgcGFydFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW1zID0gTG9jU3RvcmFnZS5nZXRJdGVtcygnaXRlbXMnKTtcclxuICAgICAgICAgICAgICAgICAgICBMb2NTdG9yYWdlLnJtdkl0ZW0oaXRlbXNbdHJpZ2dlckNhdGVnb3J5XSx0cmlnZ2VySWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIExvY1N0b3JhZ2Uuc2V0SXRlbSgnaXRlbXMnLCBpdGVtcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9ET00gcGFydFxyXG4gICAgICAgICAgICAgICAgICAgIHRyaWdnZXIucmVtb3ZlKCk7ICAqL1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBlZHRNYWluQm94RGNydG4oZTpFdmVudCl7XHJcbiAgICAgICAgLy9wb2t1ZCBzZSBrbGlrbG8gbmEgdGxhxI3DrXRrbyBhZGQgYm94SXRlbVxyXG4gICAgICAgIGlmICgoPEhUTUxFbGVtZW50PmUudGFyZ2V0KS5pZCA9PT0gJ2VkdC1tYWluQm94LWRyY3RuJyB8fCAoPEhUTUxFbGVtZW50PmUudGFyZ2V0KS5pZCA9PT0gJ2VkdC1vdXRlck1haW5Cb3gtZHJjdG4nKXtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygoPEhUTUxFbGVtZW50PmUudGFyZ2V0KS5pZCk7XHJcblxyXG4gICAgICAgICAgICAvL3rDrXNrw6Fuw60gaG9kbm90IHogY2hlY2tlZCBpbnB1dMWvXHJcbiAgICAgICAgICAgIGxldCBwcmVzZXRzID0gSW5wdXRHZXR0ZXIuZ2V0Q2hja0lucGRWbHMoJyNib3hJdGVtLXByZXNldCcpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhwcmVzZXRzKTtcclxuICAgICAgICAgICAgbGV0IHRyaWdnZXJJZDtcclxuICAgICAgICAgICAgLy90cmlnZ2VyIGplIGVsZW1lbnQsIG5hIGt0ZXLDqW0gc2Ugdnl2b2xhbG8gbWVudVxyXG4gICAgICAgICAgICBpZiAoKDxIVE1MRWxlbWVudD5lLnRhcmdldCkuaWQgPT09ICdlZHQtbWFpbkJveC1kcmN0bicpIHtcclxuICAgICAgICAgICAgICAgIHRyaWdnZXJJZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0cmlnZ2VyaWQnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICgoPEhUTUxFbGVtZW50PmUudGFyZ2V0KS5pZCA9PT0gJ2VkdC1vdXRlck1haW5Cb3gtZHJjdG4nKXtcclxuICAgICAgICAgICAgICAgIHRyaWdnZXJJZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0cmdnclBybnRJZCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmKHRyaWdnZXJJZCl7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0cmlnZ2VyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodHJpZ2dlcklkKTtcclxuICAgICAgICAgICAgICAgIGlmKHRyaWdnZXIpe1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0cmdnckN0Z3JOYW1lID0gPCdtYXRlcmlhbCd8J2NvbWljcyc+dHJpZ2dlci5nZXRBdHRyaWJ1dGUoJ2RhdGEtY2F0ZWdvcnknKTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgaXRlbXMgPSBMb2NTdG9yYWdlLmdldEl0ZW1zKCdpdGVtcycpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCB0cmlnZ2VyRGF0YSA9IGl0ZW1zLml0ZW1zO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAodHJpZ2dlckRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBjdGdySXRlbSBvZiB0cmlnZ2VyRGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN0Z3JJdGVtLmlkID09PSB0cmdnckN0Z3JOYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoPGJveEl0ZW1DbGFzcz5jdGdySXRlbS5jbGFzc2VzKS5mbGV4RHJjdG5bMF0gIT09IHByZXNldHNbMF0udmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBiYWRDbGFzcyA9ICg8Ym94SXRlbUNsYXNzPmN0Z3JJdGVtLmNsYXNzZXMpLmZsZXhEcmN0blswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyaWdnZXIuY2xhc3NMaXN0LnJlbW92ZShiYWRDbGFzcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyLmNsYXNzTGlzdC5hZGQocHJlc2V0c1swXS52YWx1ZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKDxib3hJdGVtQ2xhc3M+Y3Rnckl0ZW0uY2xhc3NlcykuZmxleERyY3RuWzBdID0gcHJlc2V0c1swXS52YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIExvY1N0b3JhZ2Uuc2V0SXRlbSgnaXRlbXMnLCBpdGVtcyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgXHJcbn1cclxufSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/editor/editorComponents/mainBox/MainBox.ts\n");

/***/ }),

/***/ "./src/editor/editorComponents/mainBox/comics/Comics.ts":
/*!**************************************************************!*\
  !*** ./src/editor/editorComponents/mainBox/comics/Comics.ts ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Comics\": () => (/* binding */ Comics)\n/* harmony export */ });\n/* harmony import */ var _item_imgItemAtrStyl__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../item/imgItemAtrStyl */ \"./src/editor/editorComponents/item/imgItemAtrStyl.ts\");\n/* harmony import */ var _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../common/localStorage/LocStorage */ \"./src/common/localStorage/LocStorage.ts\");\n/* harmony import */ var _MainBox__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../MainBox */ \"./src/editor/editorComponents/mainBox/MainBox.ts\");\n/* harmony import */ var _common_error_cError_CError__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../common/error/cError/CError */ \"./src/common/error/cError/CError.ts\");\n\r\n\r\n\r\n\r\nclass Comics extends _MainBox__WEBPACK_IMPORTED_MODULE_2__.MainBox {\r\n    constructor(flexBoxItem, imageItem, flexComponent) {\r\n        super(flexBoxItem, imageItem);\r\n        this.flexComponent = flexComponent;\r\n    }\r\n    createComics() {\r\n        let comicsDefault = {\r\n            id: 'comics',\r\n            kind: 'boxComics',\r\n            classes: {\r\n                classId: ['comics'],\r\n                position: ['fb-jc-start', 'fb-ai-start'],\r\n                flexDrctn: ['horizontal'],\r\n                subItPstn: [],\r\n                common: [],\r\n                grow: [],\r\n                width: ['x0'],\r\n                height: ['y0'],\r\n            }\r\n        };\r\n        let items = _common_localStorage_LocStorage__WEBPACK_IMPORTED_MODULE_1__.LocStorage.getItems('items');\r\n        let isCategory = this.isCtgr(items.items, 'comics');\r\n        //if category comcis is empty\r\n        if (!isCategory) {\r\n            this.setDefaultCtgr(items, comicsDefault);\r\n        }\r\n        let comicsBox = null;\r\n        for (const item of items.items) {\r\n            if (item.id === 'comics') {\r\n                comicsBox = this.crtMainBox(item, 'comics', 'boxComics', this.flexComponent);\r\n                if (this.existItems('comics')) {\r\n                    const comicsItems = this.createItems('comics', _item_imgItemAtrStyl__WEBPACK_IMPORTED_MODULE_0__.comicsItemStyle);\r\n                    if (comicsItems) {\r\n                        comicsBox.appendChild(comicsItems);\r\n                        console.log('comics items created');\r\n                    }\r\n                }\r\n                return comicsBox;\r\n            }\r\n        }\r\n        throw new _common_error_cError_CError__WEBPACK_IMPORTED_MODULE_3__.CError(\"Comics box could not be created\");\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZWRpdG9yL2VkaXRvckNvbXBvbmVudHMvbWFpbkJveC9jb21pY3MvQ29taWNzLnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBRTREO0FBQ1k7QUFDbkM7QUFJMkI7QUFFekQsTUFBTSxNQUFPLFNBQVEsNkNBQU87SUFJL0IsWUFBYSxXQUF1QixFQUFFLFNBQW1CLEVBQUUsYUFBbUI7UUFDMUUsS0FBSyxDQUFDLFdBQVcsRUFBQyxTQUFTLENBQUMsQ0FBQztRQUM3QixJQUFJLENBQUMsYUFBYSxHQUFHLGFBQWEsQ0FBQztJQUN2QyxDQUFDO0lBRU0sWUFBWTtRQUNmLElBQUksYUFBYSxHQUFRO1lBQ3JCLEVBQUUsRUFBRSxRQUFRO1lBQ1osSUFBSSxFQUFFLFdBQVc7WUFDakIsT0FBTyxFQUFFO2dCQUNMLE9BQU8sRUFBQyxDQUFDLFFBQVEsQ0FBQztnQkFDbEIsUUFBUSxFQUFDLENBQUMsYUFBYSxFQUFFLGFBQWEsQ0FBQztnQkFDdkMsU0FBUyxFQUFDLENBQUMsWUFBWSxDQUFDO2dCQUN4QixTQUFTLEVBQUMsRUFBRTtnQkFDWixNQUFNLEVBQUMsRUFBRTtnQkFDVCxJQUFJLEVBQUMsRUFBRTtnQkFDUCxLQUFLLEVBQUMsQ0FBQyxJQUFJLENBQUM7Z0JBQ1osTUFBTSxFQUFDLENBQUMsSUFBSSxDQUFDO2FBQ2hCO1NBQ0o7UUFDRCxJQUFJLEtBQUssR0FBRyxnRkFBbUIsQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUN6QyxJQUFJLFVBQVUsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxLQUFLLEVBQUUsUUFBUSxDQUFDLENBQUM7UUFDcEQsNkJBQTZCO1FBQzdCLElBQUksQ0FBQyxVQUFVLEVBQUU7WUFDYixJQUFJLENBQUMsY0FBYyxDQUFDLEtBQUssRUFBRSxhQUFhLENBQUMsQ0FBQztTQUM3QztRQUNELElBQUksU0FBUyxHQUF3QixJQUFJLENBQUM7UUFDMUMsS0FBSyxNQUFNLElBQUksSUFBSSxLQUFLLENBQUMsS0FBSyxFQUFFO1lBQzVCLElBQUksSUFBSSxDQUFDLEVBQUUsS0FBSyxRQUFRLEVBQUU7Z0JBQ3RCLFNBQVMsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksRUFBQyxRQUFRLEVBQUUsV0FBVyxFQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQztnQkFDM0UsSUFBRyxJQUFJLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxFQUFDO29CQUN6QixNQUFNLFdBQVcsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLFFBQVEsRUFBRSxpRUFBZSxDQUFFLENBQUM7b0JBQ2pFLElBQUksV0FBVyxFQUFFO3dCQUNiLFNBQVMsQ0FBQyxXQUFXLENBQUMsV0FBVyxDQUFDLENBQUM7d0JBQ25DLE9BQU8sQ0FBQyxHQUFHLENBQUMsc0JBQXNCLENBQUMsQ0FBQztxQkFDdkM7aUJBQ0o7Z0JBQ0QsT0FBTyxTQUFTLENBQUM7YUFDcEI7U0FFSjtRQUNELE1BQU0sSUFBSSwrREFBTSxDQUFDLGlDQUFpQyxDQUFDLENBQUM7SUFFeEQsQ0FBQztDQUVKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY29taWNzLWVkaXRvci8uL3NyYy9lZGl0b3IvZWRpdG9yQ29tcG9uZW50cy9tYWluQm94L2NvbWljcy9Db21pY3MudHM/MGZhOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjb21pY3NDb250YWluZXJBdHIsIGNvbWljc0NvbnRhaW5lckNzcyB9IGZyb20gJy4uLy4uLy4uLy4uL0hUTUxDb21wb25lbnRzL2ZsZXhCb3gvb2JqZWN0c0NvbmZpZyc7XHJcbmltcG9ydCB7IEZsZXggfSBmcm9tICcuLi8uLi8uLi8uLi9IVE1MQ29tcG9uZW50cy9mbGV4Qm94L0ZsZXgnO1xyXG5pbXBvcnQgeyBjb21pY3NJdGVtU3R5bGUgfSBmcm9tICcuLi8uLi9pdGVtL2ltZ0l0ZW1BdHJTdHlsJztcclxuaW1wb3J0IHsgTG9jU3RvcmFnZSB9IGZyb20gJy4uLy4uLy4uLy4uL2NvbW1vbi9sb2NhbFN0b3JhZ2UvTG9jU3RvcmFnZSc7XHJcbmltcG9ydCB7IE1haW5Cb3ggfSBmcm9tICcuLi9NYWluQm94JztcclxuaW1wb3J0IHsgRmxleEJveEl0ZW0gfSBmcm9tICcuLi8uLi9pdGVtL2ZsZXhCb3hJdGVtL0ZsZXhCb3hJdGVtJztcclxuaW1wb3J0IHsgSW1hZ2VJdGVtIH0gZnJvbSAnLi4vLi4vaXRlbS9pbWFnZUl0ZW0vSW1hZ2VJdGVtJztcclxuaW1wb3J0IHsgaXRlbSB9IGZyb20gJy4uLy4uLy4uLy4uL2NvbW1vbi9sb2NhbFN0b3JhZ2Uvc3RvcmFnZUludGVyZmFjZXMnO1xyXG5pbXBvcnQgeyBDRXJyb3IgfSBmcm9tICcuLi8uLi8uLi8uLi9jb21tb24vZXJyb3IvY0Vycm9yL0NFcnJvcic7XHJcblxyXG5leHBvcnQgY2xhc3MgQ29taWNzIGV4dGVuZHMgTWFpbkJveHtcclxuXHJcbiAgICBwcml2YXRlIGZsZXhDb21wb25lbnQ6RmxleDtcclxuXHJcbiAgICBjb25zdHJ1Y3RvciggZmxleEJveEl0ZW06RmxleEJveEl0ZW0sIGltYWdlSXRlbTpJbWFnZUl0ZW0sIGZsZXhDb21wb25lbnQ6IEZsZXgpe1xyXG4gICAgICAgIHN1cGVyKGZsZXhCb3hJdGVtLGltYWdlSXRlbSk7XHJcbiAgICAgICAgdGhpcy5mbGV4Q29tcG9uZW50ID0gZmxleENvbXBvbmVudDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY3JlYXRlQ29taWNzKCkge1xyXG4gICAgICAgIGxldCBjb21pY3NEZWZhdWx0Oml0ZW0gPSB7XHJcbiAgICAgICAgICAgIGlkOiAnY29taWNzJyxcclxuICAgICAgICAgICAga2luZDogJ2JveENvbWljcycsXHJcbiAgICAgICAgICAgIGNsYXNzZXM6IHtcclxuICAgICAgICAgICAgICAgIGNsYXNzSWQ6Wydjb21pY3MnXSxcclxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOlsnZmItamMtc3RhcnQnLCAnZmItYWktc3RhcnQnXSxcclxuICAgICAgICAgICAgICAgIGZsZXhEcmN0bjpbJ2hvcml6b250YWwnXSxcclxuICAgICAgICAgICAgICAgIHN1Ykl0UHN0bjpbXSxcclxuICAgICAgICAgICAgICAgIGNvbW1vbjpbXSxcclxuICAgICAgICAgICAgICAgIGdyb3c6W10sXHJcbiAgICAgICAgICAgICAgICB3aWR0aDpbJ3gwJ10sXHJcbiAgICAgICAgICAgICAgICBoZWlnaHQ6Wyd5MCddLFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBpdGVtcyA9IExvY1N0b3JhZ2UuZ2V0SXRlbXMoJ2l0ZW1zJyk7XHJcbiAgICAgICAgbGV0IGlzQ2F0ZWdvcnkgPSB0aGlzLmlzQ3RncihpdGVtcy5pdGVtcywgJ2NvbWljcycpO1xyXG4gICAgICAgIC8vaWYgY2F0ZWdvcnkgY29tY2lzIGlzIGVtcHR5XHJcbiAgICAgICAgaWYgKCFpc0NhdGVnb3J5KSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0RGVmYXVsdEN0Z3IoaXRlbXMsIGNvbWljc0RlZmF1bHQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgY29taWNzQm94OkhUTUxEaXZFbGVtZW50IHxudWxsID0gbnVsbDtcclxuICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgaXRlbXMuaXRlbXMpIHtcclxuICAgICAgICAgICAgaWYgKGl0ZW0uaWQgPT09ICdjb21pY3MnKSB7XHJcbiAgICAgICAgICAgICAgICBjb21pY3NCb3ggPSB0aGlzLmNydE1haW5Cb3goaXRlbSwnY29taWNzJywgJ2JveENvbWljcycsdGhpcy5mbGV4Q29tcG9uZW50KTtcclxuICAgICAgICAgICAgICAgIGlmKHRoaXMuZXhpc3RJdGVtcygnY29taWNzJykpe1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbWljc0l0ZW1zID0gdGhpcy5jcmVhdGVJdGVtcygnY29taWNzJywgY29taWNzSXRlbVN0eWxlICk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbWljc0l0ZW1zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbWljc0JveC5hcHBlbmRDaGlsZChjb21pY3NJdGVtcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdjb21pY3MgaXRlbXMgY3JlYXRlZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBjb21pY3NCb3g7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRocm93IG5ldyBDRXJyb3IoXCJDb21pY3MgYm94IGNvdWxkIG5vdCBiZSBjcmVhdGVkXCIpO1xyXG4gICAgICAgIFxyXG4gICAgfVxyXG4gICAgXHJcbn0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/editor/editorComponents/mainBox/comics/Comics.ts\n");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval-source-map devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./src/app.ts");
/******/ 	
/******/ })()
;